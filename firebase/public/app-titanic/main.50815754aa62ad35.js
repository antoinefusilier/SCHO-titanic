var PZ=Object.defineProperty,FZ=Object.defineProperties,LZ=Object.getOwnPropertyDescriptors,T3=Object.getOwnPropertySymbols,VZ=Object.prototype.hasOwnProperty,BZ=Object.prototype.propertyIsEnumerable,A3=(kn,rn,zt)=>rn in kn?PZ(kn,rn,{enumerable:!0,configurable:!0,writable:!0,value:zt}):kn[rn]=zt,x3=(kn,rn)=>{for(var zt in rn||(rn={}))VZ.call(rn,zt)&&A3(kn,zt,rn[zt]);if(T3)for(var zt of T3(rn))BZ.call(rn,zt)&&A3(kn,zt,rn[zt]);return kn},k3=(kn,rn)=>FZ(kn,LZ(rn));(self.webpackChunkapp_titanic=self.webpackChunkapp_titanic||[]).push([[179],{615:(kn,rn,zt)=>{"use strict";function Se(n){return"function"==typeof n}function Fs(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Go=Fs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ye(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class bt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof Go?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{yd(s)}catch(o){e=null!=e?e:[],o instanceof Go?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Go(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yd(e);else{if(e instanceof bt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ye(t,e)}remove(e){const{_finalizers:t}=this;t&&Ye(t,e),e instanceof bt&&e._removeParent(this)}}bt.EMPTY=(()=>{const n=new bt;return n.closed=!0,n})();const $o=bt.EMPTY;function Ls(n){return n instanceof bt||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function yd(n){Se(n)?n():n.unsubscribe()}const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jr={setTimeout(n,e,...t){const{delegate:r}=Jr;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Jr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function pr(n){Jr.setTimeout(()=>{const{onUnhandledError:e}=J;if(!e)throw n;e(n)})}function Vs(){}const zo=Wo("C",void 0,void 0);function Wo(n,e,t){return{kind:n,value:e,error:t}}let er=null;function Ki(n){if(J.useDeprecatedSynchronousErrorHandling){const e=!er;if(e&&(er={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=er;if(er=null,t)throw r}}else n()}class Ko extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ls(e)&&e.add(this)):this.destination=j}static create(e,t,r){return new Ue(e,t,r)}next(e){this.isStopped?A(function qo(n){return Wo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?A(function Bs(n){return Wo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?A(zo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vd=Function.prototype.bind;function Us(n,e){return vd.call(n,e)}class Qr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){C(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){C(r)}else C(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){C(t)}}}class Ue extends Ko{constructor(e,t,r){let i;if(super(),Se(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&J.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Us(e.next,s),error:e.error&&Us(e.error,s),complete:e.complete&&Us(e.complete,s)}):i=e}this.destination=new Qr(i)}}function C(n){J.useDeprecatedSynchronousErrorHandling?function rm(n){J.useDeprecatedSynchronousErrorHandling&&er&&(er.errorThrown=!0,er.error=n)}(n):pr(n)}function A(n,e){const{onStoppedNotification:t}=J;t&&Jr.setTimeout(()=>t(n,e))}const j={closed:!0,next:Vs,error:function y(n){throw n},complete:Vs},G="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(n){return n}let ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function re(n){return n&&n instanceof Ko||function lt(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}(n)&&Ls(n)}(t)?t:new Ue(t,r,i);return Ki(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=$(r))((i,s)=>{const o=new Ue({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[G](){return this}pipe(...t){return function Dt(n){return 0===n.length?Z:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=$(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function $(n){var e;return null!==(e=null!=n?n:J.Promise)&&void 0!==e?e:Promise}const mr=Fs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new B(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mr}next(t){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$o:(this.currentObservers=null,s.push(t),new bt(()=>{this.currentObservers=null,Ye(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ne;return t.source=this,t}}return n.create=(e,t)=>new B(e,t),n})();class B extends je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:$o}}function We(n){return Se(null==n?void 0:n.lift)}function Me(n){return e=>{if(We(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new Pt(n,e,t,r,i)}class Pt extends Ko{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function K(n,e){return Me((t,r)=>{let i=0;t.subscribe(he(r,s=>{r.next(n.call(e,s,i++))}))})}function $e(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function yn(n){return this instanceof yn?(this.v=n,this):new yn(n)}function on(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof yn?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Nr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Nn(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const sm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function RE(n){return Se(null==n?void 0:n.then)}function OE(n){return Se(n[G])}function PE(n){return Symbol.asyncIterator&&Se(null==n?void 0:n[Symbol.asyncIterator])}function FE(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const LE=function N3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function VE(n){return Se(null==n?void 0:n[LE])}function BE(n){return on(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield yn(t.read());if(i)return yield yn(void 0);yield yield yn(r)}}finally{t.releaseLock()}})}function UE(n){return Se(null==n?void 0:n.getReader)}function Rr(n){if(n instanceof ne)return n;if(null!=n){if(OE(n))return function R3(n){return new ne(e=>{const t=n[G]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(sm(n))return function O3(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(RE(n))return function P3(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pr)})}(n);if(PE(n))return jE(n);if(VE(n))return function F3(n){return new ne(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(UE(n))return function L3(n){return jE(BE(n))}(n)}throw FE(n)}function jE(n){return new ne(e=>{(function V3(n,e){var t,r,i,s;return function rt(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Nr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ei(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function St(n,e,t=1/0){return Se(e)?St((r,i)=>K((s,o)=>e(r,s,i,o))(Rr(n(r,i))),t):("number"==typeof e&&(t=e),Me((r,i)=>function B3(n,e,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=m=>u<r?p(m):l.push(m),p=m=>{s&&e.next(m),u++;let v=!1;Rr(t(m,c++)).subscribe(he(e,b=>{null==i||i(b),s?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;l.length&&u<r;){const b=l.shift();o?Ei(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(he(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Ol(n=1/0){return St(Z,n)}const bi=new ne(n=>n.complete());function om(n){return n[n.length-1]}function HE(n){return Se(om(n))?n.pop():void 0}function Pl(n){return function j3(n){return n&&Se(n.schedule)}(om(n))?n.pop():void 0}function GE(n,e=0){return Me((t,r)=>{t.subscribe(he(r,i=>Ei(r,n,()=>r.next(i),e),()=>Ei(r,n,()=>r.complete(),e),i=>Ei(r,n,()=>r.error(i),e)))})}function $E(n,e=0){return Me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zE(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Ei(t,e,()=>{const r=n[Symbol.asyncIterator]();Ei(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qt(n,e){return e?function K3(n,e){if(null!=n){if(OE(n))return function G3(n,e){return Rr(n).pipe($E(e),GE(e))}(n,e);if(sm(n))return function z3(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(RE(n))return function $3(n,e){return Rr(n).pipe($E(e),GE(e))}(n,e);if(PE(n))return zE(n,e);if(VE(n))return function q3(n,e){return new ne(t=>{let r;return Ei(t,e,()=>{r=n[LE](),Ei(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Se(null==r?void 0:r.return)&&r.return()})}(n,e);if(UE(n))return function W3(n,e){return zE(BE(n),e)}(n,e)}throw FE(n)}(n,e):Rr(n)}function _d(n){return n<=0?()=>bi:Me((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function am(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(_d(1)).subscribe(()=>n())}function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function lm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function um(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Y3=Ke({__forward_ref__:Ke});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return He(this())},n}function pe(n){return qE(n)?n():n}function qE(n){return"function"==typeof n&&n.hasOwnProperty(Y3)&&n.__forward_ref__===Xe}class Ae extends Error{constructor(e,t){super(function cm(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ae(n){return"string"==typeof n?n:null==n?"":String(n)}function an(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ae(n)}function Cd(n,e){const t=e?` in ${e}`:"";throw new Ae(-201,`No provider for ${an(n)} found${t}`)}function rr(n,e){null==n&&function Je(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function dm(n){return WE(n,wd)||WE(n,JE)}function WE(n,e){return n.hasOwnProperty(e)?n[e]:null}function KE(n){return n&&(n.hasOwnProperty(hm)||n.hasOwnProperty(iF))?n[hm]:null}const wd=Ke({\u0275prov:Ke}),hm=Ke({\u0275inj:Ke}),JE=Ke({ngInjectableDef:Ke}),iF=Ke({ngInjectorDef:Ke});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let fm;function Ji(n){const e=fm;return fm=n,e}function QE(n,e,t){const r=dm(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ie.Optional?null:void 0!==e?e:void Cd(He(n),"Injector")}function Qi(n){return{toString:n}.toString()}var Or=(()=>((Or=Or||{})[Or.OnPush=0]="OnPush",Or[Or.Default=1]="Default",Or))(),Xr=(()=>{return(n=Xr||(Xr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Xr;var n})();const oF="undefined"!=typeof globalThis&&globalThis,aF="undefined"!=typeof window&&window,lF="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ze=oF||"undefined"!=typeof global&&global||aF||lF,Qo={},Qe=[],Ed=Ke({\u0275cmp:Ke}),pm=Ke({\u0275dir:Ke}),mm=Ke({\u0275pipe:Ke}),YE=Ke({\u0275mod:Ke}),Si=Ke({\u0275fac:Ke}),Fl=Ke({__NG_ELEMENT_ID__:Ke});let uF=0;function vn(n){return Qi(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Or.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Xr.Emulated,id:"c",styles:n.styles||Qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=uF++,r.inputs=tb(n.inputs,t),r.outputs=tb(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(XE):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(ZE):null,r})}function XE(n){return Cn(n)||function Yi(n){return n[pm]||null}(n)}function ZE(n){return function Gs(n){return n[mm]||null}(n)}const eb={};function _n(n){return Qi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Qe,declarations:n.declarations||Qe,imports:n.imports||Qe,exports:n.exports||Qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(eb[n.id]=n.type),e})}function tb(n,e){if(null==n)return Qo;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ee=vn;function Cn(n){return n[Ed]||null}function yr(n,e){const t=n[YE]||null;if(!t&&!0===e)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return t}function Zr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Fr(n){return Array.isArray(n)&&!0===n[1]}function vm(n){return 0!=(8&n.flags)}function Id(n){return 2==(2&n.flags)}function Md(n){return 1==(1&n.flags)}function Lr(n){return null!==n.template}function mF(n){return 0!=(512&n[2])}function Ws(n,e){return n.hasOwnProperty(Si)?n[Si]:null}class vF{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function En(){return rb}function rb(n){return n.type.prototype.ngOnChanges&&(n.setInput=CF),_F}function _F(){const n=sb(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Qo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function CF(n,e,t,r){const i=sb(n)||function wF(n,e){return n[ib]=e}(n,{previous:Qo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new vF(l&&l.currentValue,e,o===Qo),n[r]=e}En.ngInherit=!0;const ib="__ngSimpleChanges__";function sb(n){return n[ib]||null}let bm;function mt(n){return!!n.listen}const ob={createRenderer:(n,e)=>function Dm(){return void 0!==bm?bm:"undefined"!=typeof document?document:void 0}()};function It(n){for(;Array.isArray(n);)n=n[0];return n}function Td(n,e){return It(e[n])}function Cr(n,e){return It(e[n.index])}function Sm(n,e){return n.data[e]}function sr(n,e){const t=e[n];return Zr(t)?t:t[0]}function ab(n){return 4==(4&n[2])}function Im(n){return 128==(128&n[2])}function Xi(n,e){return null==e?null:n[e]}function lb(n){n[18]=0}function Mm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const le={lFrame:yb(null),bindingsEnabled:!0};function cb(){return le.bindingsEnabled}function S(){return le.lFrame.lView}function xe(){return le.lFrame.tView}function Rn(n){return le.lFrame.contextLView=n,n[8]}function Ft(){let n=db();for(;null!==n&&64===n.type;)n=n.parent;return n}function db(){return le.lFrame.currentTNode}function ei(n,e){const t=le.lFrame;t.currentTNode=n,t.isParent=e}function Tm(){return le.lFrame.isParent}function Am(){le.lFrame.isParent=!1}function On(){const n=le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function na(){return le.lFrame.bindingIndex++}function VF(n,e){const t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,xm(e)}function xm(n){le.lFrame.currentDirectiveIndex=n}function pb(){return le.lFrame.currentQueryIndex}function Nm(n){le.lFrame.currentQueryIndex=n}function UF(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function mb(n,e,t){if(t&ie.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ie.Host||(i=UF(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=le.lFrame=gb();return r.currentTNode=e,r.lView=n,!0}function xd(n){const e=gb(),t=n[1];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gb(){const n=le.lFrame,e=null===n?null:n.child;return null===e?yb(n):e}function yb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function vb(){const n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _b=vb;function kd(){const n=vb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pn(){return le.lFrame.selectedIndex}function Zi(n){le.lFrame.selectedIndex=n}function gt(){const n=le.lFrame;return Sm(n.tView,n.selectedIndex)}function Nd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Rd(n,e,t){Cb(n,e,3,t)}function Od(n,e,t,r){(3&n[2])===t&&Cb(n,e,t,r)}function Rm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Cb(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(JF(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function JF(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class jl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Pd(n,e,t){const r=mt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];Pm(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function wb(n){return 3===n||4===n||6===n}function Pm(n){return 64===n.charCodeAt(0)}function Fd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Eb(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Eb(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function bb(n){return-1!==n}function ra(n){return 32767&n}function ia(n,e){let t=function eL(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Fm=!0;function Ld(n){const e=Fm;return Fm=n,e}let tL=0;function Gl(n,e){const t=Vm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Lm(r.data,n),Lm(e,null),Lm(r.blueprint,null));const i=Vd(n,e),s=n.injectorIndex;if(bb(i)){const o=ra(i),a=ia(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Vm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Bd(n,e,t){!function nL(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fl)&&(r=t[Fl]),null==r&&(r=t[Fl]=tL++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Ib(n,e,t){if(t&ie.Optional)return n;Cd(e,"NodeInjector")}function Mb(n,e,t,r){if(t&ie.Optional&&void 0===r&&(r=null),0==(t&(ie.Self|ie.Host))){const i=n[9],s=Ji(void 0);try{return i?i.get(e,r,t&ie.Optional):QE(e,r,t&ie.Optional)}finally{Ji(s)}}return Ib(r,e,t)}function Tb(n,e,t,r=ie.Default,i){if(null!==n){const s=function oL(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fl)?n[Fl]:void 0;return"number"==typeof e?e>=0?255&e:iL:e}(t);if("function"==typeof s){if(!mb(e,n,r))return r&ie.Host?Ib(i,t,r):Mb(e,t,r,i);try{const o=s(r);if(null!=o||r&ie.Optional)return o;Cd(t)}finally{_b()}}else if("number"==typeof s){let o=null,a=Vm(n,e),l=-1,u=r&ie.Host?e[16][6]:null;for((-1===a||r&ie.SkipSelf)&&(l=-1===a?Vd(n,e):e[a+8],-1!==l&&kb(r,!1)?(o=e[1],a=ra(l),e=ia(l,e)):a=-1);-1!==a;){const c=e[1];if(xb(s,a,c.data)){const d=sL(a,e,t,o,r,u);if(d!==Ab)return d}l=e[a+8],-1!==l&&kb(r,e[1].data[a+8]===u)&&xb(s,a,e)?(o=c,a=ra(l),e=ia(l,e)):a=-1}}}return Mb(e,t,r,i)}const Ab={};function iL(){return new sa(Ft(),S())}function sL(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=Ud(a,o,t,null==r?Id(a)&&Fm:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==c?$l(e,o,c,a):Ab}function Ud(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Lr(f)&&f.type===t)return l}return null}function $l(n,e,t,r){let i=n[t];const s=e.data;if(function QF(n){return n instanceof jl}(i)){const o=i;o.resolving&&function X3(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(an(s[t]));const a=Ld(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ji(o.injectImpl):null;mb(n,r,ie.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function KF(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=rb(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Ji(l),Ld(a),o.resolving=!1,_b()}}return i}function xb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function kb(n,e){return!(n&ie.Self||n&ie.Host&&e)}class sa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Tb(this._tNode,this._lView,e,r,t)}}function bn(n){return Qi(()=>{const e=n.prototype.constructor,t=e[Si]||Bm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Si]||Bm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Bm(n){return qE(n)?()=>{const e=Bm(pe(n));return e&&e()}:Ws(n)}const aa="__parameters__";function ua(n,e,t){return Qi(()=>{const r=function Um(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(aa)?l[aa]:Object.defineProperty(l,aa,{value:[]})[aa];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lL=new de("AnalyzeForEntryComponents");function wr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),wr(r,e)):e!==n&&e.push(r)}return e}function ti(n,e){n.forEach(t=>Array.isArray(t)?ti(t,e):e(t))}function Rb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Kl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function or(n,e,t){let r=ca(n,e);return r>=0?n[1|r]=t:(r=~r,function dL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Hm(n,e){const t=ca(n,e);if(t>=0)return n[1|t]}function ca(n,e){return function Fb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Jl={},$m="__NG_DI_FLAG__",Gd="ngTempTokenPath",vL=/\n/gm,Vb="__source",CL=Ke({provide:String,useValue:Ke});let Ql;function Bb(n){const e=Ql;return Ql=n,e}function wL(n,e=ie.Default){if(void 0===Ql)throw new Ae(203,"");return null===Ql?QE(n,void 0,e):Ql.get(n,e&ie.Optional?null:void 0,e)}function F(n,e=ie.Default){return(function sF(){return fm}()||wL)(pe(n),e)}const jb=F;function zm(n){const e=[];for(let t=0;t<n.length;t++){const r=pe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,"");let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],l=EL(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function Yl(n,e){return n[$m]=e,n.prototype[$m]=e,n}function EL(n){return n[$m]}const $d=Yl(ua("Inject",n=>({token:n})),-1),ts=Yl(ua("Optional"),8),Xl=Yl(ua("SkipSelf"),4);const sD="__ngContext__";function Dn(n,e){n[sD]=e}function tg(n){const e=function ru(n){return n[sD]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function rg(n){return n.ngOriginalError}function p5(n,...e){n.error(...e)}class iu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function f5(n){return n&&n.ngErrorLogger||p5}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rg(e);for(;t&&rg(t);)t=rg(t);return t||null}}const D5=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ze))();function ri(n){return n instanceof Function?n():n}var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();function sg(n,e){return undefined(n,e)}function su(n){const e=n[3];return Fr(e)?e[3]:e}function og(n){return pD(n[13])}function ag(n){return pD(n[4])}function pD(n){for(;null!==n&&!Fr(n);)n=n[4];return n}function pa(n,e,t,r,i){if(null!=r){let s,o=!1;Fr(r)?s=r:Zr(r)&&(o=!0,r=r[0]);const a=It(r);0===n&&null!==t?null==i?CD(e,t,a):Ks(e,t,a,i||null,!0):1===n&&null!==t?Ks(e,t,a,i||null,!0):2===n?function MD(n,e,t){const r=Qd(n,e);r&&function V5(n,e,t,r){mt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function j5(n,e,t,r,i){const s=t[7];s!==It(t)&&pa(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];ou(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function ug(n,e,t){if(mt(n))return n.createElement(e,t);{const r=null!==t?function SF(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function gD(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mm(i,-1)),t.splice(r,1)}function cg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&gD(i,r),e>0&&(n[t-1][4]=r[4]);const s=jd(n,10+e);!function x5(n,e){ou(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function yD(n,e){if(!(256&e[2])){const t=e[11];mt(t)&&t.destroyNode&&ou(n,e,t,3,null,null),function R5(n){let e=n[13];if(!e)return dg(n[1],n);for(;e;){let t=null;if(Zr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Zr(e)&&dg(e[1],e),e=e[3];null===e&&(e=n),Zr(e)&&dg(e[1],e),t=e&&e[4]}e=t}}(e)}}function dg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function L5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof jl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function F5(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):It(e[o]),l=r[i=t[s+2]],u=t[s+3];"boolean"==typeof u?a.removeEventListener(t[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&mt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Fr(e[3])){t!==e[3]&&gD(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function vD(n,e,t){return function _D(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Xr.None||i===Xr.Emulated)return null}return Cr(r,t)}(n,e.parent,t)}function Ks(n,e,t,r,i){mt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function CD(n,e,t){mt(n)?n.appendChild(e,t):e.appendChild(t)}function wD(n,e,t,r,i){null!==r?Ks(n,e,t,r,i):CD(n,e,t)}function Qd(n,e){return mt(n)?n.parentNode(e):e.parentNode}function ED(n,e,t){return DD(n,e,t)}let DD=function bD(n,e,t){return 40&n.type?Cr(n,t):null};function Yd(n,e,t,r){const i=vD(n,r,e),s=e[11],a=ED(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)wD(s,i,t[l],a,!1);else wD(s,i,t,a,!1)}function Xd(n,e){if(null!==e){const t=e.type;if(3&t)return Cr(e,n);if(4&t)return fg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xd(n,r);{const i=n[e.index];return Fr(i)?fg(-1,i):It(i)}}if(32&t)return sg(e,n)()||It(n[e.index]);{const r=ID(n,e);return null!==r?Array.isArray(r)?r[0]:Xd(su(n[16]),r):Xd(n,e.next)}}return null}function ID(n,e){return null!==e?n[16][6].projection[e.projection]:null}function fg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Xd(r,i)}return e[7]}function pg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Dn(It(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)pg(n,e,t.child,r,i,s,!1),pa(e,n,i,a,s);else if(32&l){const u=sg(t,r);let c;for(;c=u();)pa(e,n,i,c,s);pa(e,n,i,a,s)}else 16&l?TD(n,e,r,t,i,s):pa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ou(n,e,t,r,i,s){pg(t,r,n.firstChild,e,i,s,!1)}function TD(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)pa(e,n,i,l[u],s);else pg(n,e,l,o[3],i,s,!0)}function AD(n,e,t){mt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function mg(n,e,t){mt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function xD(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const kD="ng-template";function G5(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==xD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ND(n){return 4===n.type&&n.value!==kD}function $5(n,e,t){return e===(4!==n.type||t?n.value:kD)}function z5(n,e,t){let r=4;const i=n.attrs||[],s=function K5(n){for(let e=0;e<n.length;e++)if(wb(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!$5(n,l,t)||""===l&&1===e.length){if(Vr(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!G5(n.attrs,u,t)){if(Vr(r))return!1;o=!0}continue}const d=q5(8&r?"class":l,i,ND(n),t);if(-1===d){if(Vr(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xD(f,u,0)||2&r&&u!==h){if(Vr(r))return!1;o=!0}}}}else{if(!o&&!Vr(r)&&!Vr(l))return!1;if(o&&Vr(l))continue;o=!1,r=l|1&r}}return Vr(r)||o}function Vr(n){return 0==(1&n)}function q5(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function J5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function RD(n,e,t=!1){for(let r=0;r<e.length;r++)if(z5(n,e[r],t))return!0;return!1}function Q5(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function OD(n,e){return n?":not("+e.trim()+")":e}function Y5(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vr(o)&&(e+=OD(s,i),i=""),r=o,s=s||!Vr(r);t++}return""!==i&&(e+=OD(s,i)),e}const ue={};function Fe(n){PD(xe(),S(),Pn()+n,!1)}function PD(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Rd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Od(e,s,0,t)}Zi(t)}function Zd(n,e){return n<<17|e<<2}function Br(n){return n>>17&32767}function gg(n){return 2|n}function Ti(n){return(131068&n)>>2}function yg(n,e){return-131069&n|e<<2}function vg(n){return 1|n}function qD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Nm(i),o.contentQueries(2,e[s],s)}}}function au(n,e,t,r,i,s,o,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,lb(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=l||n&&n[12]||null,c[9]=u||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function ma(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Mg(n,e,t,r,i){const s=db(),o=Tm(),l=n.data[e]=function mV(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function LF(){return le.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ul(){const n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ei(s,!0),s}function ga(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lu(n,e,t){xd(e);try{const r=n.viewQuery;null!==r&&Fg(1,r,t);const i=n.template;null!==i&&WD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qD(n,e),n.staticViewQueries&&Fg(2,n.viewQuery,t);const s=n.components;null!==s&&function hV(n,e){for(let t=0;t<e.length;t++)RV(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,kd()}}function ya(n,e,t,r){const i=e[2];if(256!=(256&i)){xd(e);try{lb(e),function hb(n){return le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&WD(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&Rd(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Od(e,u,0,null),Rm(e,0)}if(function kV(n){for(let e=og(n);null!==e;e=ag(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Mm(s,1),i[2]|=1024}}}(e),function xV(n){for(let e=og(n);null!==e;e=ag(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Im(r)&&ya(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&qD(n,e),o){const u=n.contentCheckHooks;null!==u&&Rd(e,u)}else{const u=n.contentHooks;null!==u&&Od(e,u,1),Rm(e,1)}!function cV(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Zi(~i);else{const s=i,o=t[++r],a=t[++r];VF(o,s),a(2,e[s])}}}finally{Zi(-1)}}(n,e);const a=n.components;null!==a&&function dV(n,e){for(let t=0;t<e.length;t++)NV(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Fg(2,l,r),o){const u=n.viewCheckHooks;null!==u&&Rd(e,u)}else{const u=n.viewHooks;null!==u&&Od(e,u,2),Rm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Mm(e[3],-1))}finally{kd()}}}function fV(n,e,t,r){const i=e[10],o=ab(e);try{!o&&i.begin&&i.begin(),o&&lu(n,e,r),ya(n,e,t,r)}finally{!o&&i.end&&i.end()}}function WD(n,e,t,r,i){const s=Pn(),o=2&r;try{Zi(-1),o&&e.length>20&&PD(n,e,20,!1),t(r,i)}finally{Zi(s)}}function Tg(n,e,t){!cb()||(function EV(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Gl(t,e),Dn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],u=Lr(l);u&&MV(e,t,l);const c=$l(e,n,a,t);Dn(c,e),null!==o&&TV(0,a-i,c,l,0,o),u&&(sr(t.index,e)[8]=c)}}(n,e,t,Cr(t,e)),128==(128&t.flags)&&function bV(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function BF(){return le.lFrame.currentDirectiveIndex}();try{Zi(o);for(let l=r;l<i;l++){const u=n.data[l],c=e[l];xm(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nS(u,c)}}finally{Zi(-1),xm(a)}}(n,e,t))}function Ag(n,e,t=Cr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function JD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=nh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function nh(n,e,t,r,i,s,o,a,l,u){const c=20+r,d=c+i,h=function pV(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(c,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function XD(n,e,t,r){const i=lS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&uS(n).push(r,i.length-1))}function ZD(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function lr(n,e,t,r,i,s,o,a){const l=Cr(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(hS(n,t,c,r,i),Id(e)&&function vV(n,e){const t=sr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function yV(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,mt(s)?s.setProperty(l,r,i):Pm(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function xg(n,e,t,r){let i=!1;if(cb()){const s=function DV(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];RD(t,o.selectors,!1)&&(i||(i=[]),Bd(Gl(t,e),n,o.type),Lr(o)?(rS(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,iS(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=ga(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=Fd(t.mergedAttrs,d.hostAttrs),sS(n,t,e,u,d),IV(u,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function gV(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||ND(e)?null:AV(d,s);o.push(h),a=ZD(d,u,a),l=ZD(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function SV(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ae(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Fd(t.mergedAttrs,t.attrs),i}function tS(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function wV(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function nS(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function rS(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function IV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lr(e)&&(t[""]=n)}}function iS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sS(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ws(i.type)),o=new jl(s,Lr(i),null);n.blueprint[r]=o,t[r]=o,tS(n,e,0,r,ga(n,t,i.hostVars,ue),i)}function MV(n,e,t){const r=Cr(e,n),i=JD(t),s=n[10],o=rh(n,au(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function ii(n,e,t,r,i,s){const o=Cr(n,e);!function kg(n,e,t,r,i,s,o){if(null==s)mt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ae(s):o(s,r||"",i);mt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function TV(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function AV(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function oS(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function NV(n,e){const t=sr(e,n);if(Im(t)){const r=t[1];80&t[2]?ya(r,t,r.template,t[8]):t[5]>0&&Ng(t)}}function Ng(n){for(let r=og(n);null!==r;r=ag(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];ya(o,s,o.template,s[8])}else s[5]>0&&Ng(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=sr(t[r],n);Im(i)&&i[5]>0&&Ng(i)}}function RV(n,e){const t=sr(e,n),r=t[1];(function OV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),lu(r,t,t[8])}function rh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Rg(n){for(;n;){n[2]|=64;const e=su(n);if(mF(n)&&!e)return n;n=e}return null}function aS(n){!function Og(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=tg(t),i=r[1];fV(i,r,i.template,t)}}(n[8])}function Fg(n,e,t){Nm(0),e(n,t)}const FV=(()=>Promise.resolve(null))();function lS(n){return n[7]||(n[7]=[])}function uS(n){return n.cleanup||(n.cleanup=[])}function dS(n,e){const t=n[9],r=t?t.get(iu,null):null;r&&r.handleError(e)}function hS(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],u=n.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Ai(n,e,t){const r=Td(e,n);!function mD(n,e,t){mt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ih(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=um(i,a):2==s&&(r=um(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Lg=new de("INJECTOR",-1);class fS{get(e,t=Jl){if(t===Jl){const r=new Error(`NullInjectorError: No provider for ${He(e)}!`);throw r.name="NullInjectorError",r}return t}}const Vg=new de("Set Injector scope."),uu={},BV={};let Bg;function pS(){return void 0===Bg&&(Bg=new fS),Bg}function mS(n,e=null,t=null,r){const i=gS(n,e,t,r);return i._resolveInjectorDefTypes(),i}function gS(n,e=null,t=null,r){return new UV(n,t,e||pS(),r)}class UV{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ti(t,a=>this.processProvider(a,e,t)),ti([e],a=>this.processInjectorType(a,[],s)),this.records.set(Lg,va(void 0,this));const o=this.records.get(Vg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:He(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Jl,r=ie.Default){this.assertNotDestroyed();const i=Bb(this),s=Ji(void 0);try{if(!(r&ie.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function KV(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&dm(e);a=l&&this.injectableDefInScope(l)?va(Ug(e),uu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ie.Self?pS():this.parent).get(e,t=r&ie.Optional&&t===Jl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Gd]=o[Gd]||[]).unshift(He(e)),i)throw o;return function bL(n,e,t,r){const i=n[Gd];throw e[Vb]&&i.unshift(e[Vb]),n.message=function DL(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=He(e);if(Array.isArray(e))i=e.map(He).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):He(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(vL,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Gd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ji(s),Bb(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(He(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(e,t,r){if(!(e=pe(e)))return!1;let i=KE(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=KE(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{ti(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];ti(f,p=>this.processProvider(p,h,f||Qe))}}this.injectorDefTypes.add(o);const l=Ws(o)||(()=>new o);this.records.set(o,va(l,uu));const u=i.providers;if(null!=u&&!a){const c=e;ti(u,d=>this.processProvider(d,c,u))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=_a(e=pe(e))?e:pe(e&&e.provide);const s=function HV(n,e,t){return vS(n)?va(void 0,n.useValue):va(yS(n),uu)}(e);if(_a(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=va(void 0,uu,!0),o.factory=()=>zm(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===uu&&(t.value=BV,t.value=t.factory()),"object"==typeof t.value&&t.value&&function WV(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=pe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ug(n){const e=dm(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof de)throw new Ae(204,!1);if(n instanceof Function)return function jV(n){const e=n.length;if(e>0)throw Kl(e,"?"),new Ae(204,!1);const t=function nF(n){const e=n&&(n[wd]||n[JE]);if(e){const t=function rF(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ae(204,!1)}function yS(n,e,t){let r;if(_a(n)){const i=pe(n);return Ws(i)||Ug(i)}if(vS(n))r=()=>pe(n.useValue);else if(function $V(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...zm(n.deps||[]));else if(function GV(n){return!(!n||!n.useExisting)}(n))r=()=>F(pe(n.useExisting));else{const i=pe(n&&(n.useClass||n.provide));if(!function qV(n){return!!n.deps}(n))return Ws(i)||Ug(i);r=()=>new i(...zm(n.deps))}return r}function va(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function vS(n){return null!==n&&"object"==typeof n&&CL in n}function _a(n){return"function"==typeof n}let Ln=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return mS({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return mS({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Jl,n.NULL=new fS,n.\u0275prov=Q({token:n,providedIn:"any",factory:()=>F(Lg)}),n.__NG_ELEMENT_ID__=-1,n})();function n7(n,e){Nd(tg(n)[1],Ft())}function Ge(n){let e=function xS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Lr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Gg(n.inputs),o.declaredInputs=Gg(n.declaredInputs),o.outputs=Gg(n.outputs);const a=i.hostBindings;a&&o7(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&i7(n,l),u&&s7(n,u),lm(n.inputs,i.inputs),lm(n.declaredInputs,i.declaredInputs),lm(n.outputs,i.outputs),Lr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ge&&(t=!1)}}e=Object.getPrototypeOf(e)}!function r7(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fd(i.hostAttrs,t=Fd(t,i.hostAttrs))}}(r)}function Gg(n){return n===Qo?{}:n===Qe?[]:n}function i7(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function s7(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function o7(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let sh=null;function Ca(){if(!sh){const n=ze.Symbol;if(n&&n.iterator)sh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(sh=r)}}}return sh}function cu(n){return!!function $g(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ca()in n)}function si(n,e,t){return n[e]=t}function Sn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Js(n,e,t,r){const i=Sn(n,e,t);return Sn(n,e+1,r)||i}function oi(n,e,t,r){const i=S();return Sn(i,na(),e)&&(xe(),ii(gt(),i,n,e,t,r)),oi}function Ea(n,e,t,r){return Sn(n,na(),t)?e+ae(t)+r:ue}function ss(n,e,t,r,i,s,o,a){const l=S(),u=xe(),c=n+20,d=u.firstCreatePass?function f7(n,e,t,r,i,s,o,a,l){const u=e.consts,c=ma(e,n,4,o||null,Xi(u,a));xg(e,t,c,Xi(u,l)),Nd(e,c);const d=c.tViews=nh(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,s,o):u.data[c];ei(d,!1);const h=l[11].createComment("");Yd(u,l,h,d),Dn(h,l),rh(l,l[c]=oS(h,l,h,d)),Md(d)&&Tg(u,l,d),null!=o&&Ag(l,d,a)}function xa(n){return function ta(n,e){return n[e]}(function FF(){return le.lFrame.contextLView}(),20+n)}function D(n,e=ie.Default){const t=S();return null===t?F(n,e):Tb(Ft(),t,pe(n),e)}function Jg(){throw new Error("invalid")}function ut(n,e,t){const r=S();return Sn(r,na(),e)&&lr(xe(),gt(),r,n,e,r[11],t,!1),ut}function Qg(n,e,t,r,i){const o=i?"class":"style";hS(n,t,e.inputs[o],o,r)}function H(n,e,t,r){const i=S(),s=xe(),o=20+n,a=i[11],l=i[o]=ug(a,e,function WF(){return le.lFrame.currentNamespace}()),u=s.firstCreatePass?function O7(n,e,t,r,i,s,o){const a=e.consts,u=ma(e,n,2,i,Xi(a,s));return xg(e,t,u,Xi(a,o)),null!==u.attrs&&ih(u,u.attrs,!1),null!==u.mergedAttrs&&ih(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,t,r):s.data[o];ei(u,!0);const c=u.mergedAttrs;null!==c&&Pd(a,l,c);const d=u.classes;null!==d&&mg(a,l,d);const h=u.styles;return null!==h&&AD(a,l,h),64!=(64&u.flags)&&Yd(s,i,l,u),0===function kF(){return le.lFrame.elementDepthCount}()&&Dn(l,i),function NF(){le.lFrame.elementDepthCount++}(),Md(u)&&(Tg(s,i,u),function KD(n,e,t){if(vm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,u,i)),null!==r&&Ag(i,u),H}function U(){let n=Ft();Tm()?Am():(n=n.parent,ei(n,!1));const e=n;!function RF(){le.lFrame.elementDepthCount--}();const t=xe();return t.firstCreatePass&&(Nd(t,n),vm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XF(n){return 0!=(16&n.flags)}(e)&&Qg(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ZF(n){return 0!=(32&n.flags)}(e)&&Qg(t,e,S(),e.stylesWithoutHost,!1),U}function Vn(n,e,t,r){return H(n,e,t,r),U(),Vn}function Na(){return S()}function hu(n){return!!n&&"function"==typeof n.then}const Zg=function YS(n){return!!n&&"function"==typeof n.subscribe};function Le(n,e,t,r){const i=S(),s=xe(),o=Ft();return function ZS(n,e,t,r,i,s,o,a){const l=Md(r),c=n.firstCreatePass&&uS(n),d=e[8],h=lS(e);let f=!0;if(3&r.type||a){const v=Cr(r,e),b=a?a(v):v,_=h.length,T=a?V=>a(It(V[r.index])):r.index;if(mt(t)){let V=null;if(!a&&l&&(V=function F7(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,f=!1;else{s=ey(r,e,d,s,!1);const z=t.listen(b,i,s);h.push(s,z),c&&c.push(i,T,_,_+1)}}else s=ey(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,_,o)}else s=ey(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const v=m.length;if(v)for(let b=0;b<v;b+=2){const _e=e[m[b]][m[b+1]].subscribe(s),nt=h.length;h.push(s,_e),c&&c.push(i,r.index,nt,-(nt+1))}}}(s,i,i[11],o,n,e,!!t,r),Le}function eI(n,e,t,r){try{return!1!==t(r)}catch(i){return dS(n,i),!1}}function ey(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?sr(n.index,e):e;0==(32&e[2])&&Rg(a);let l=eI(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=eI(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Vt(n=1){return function jF(n){return(le.lFrame.contextLView=function HF(n,e){for(;n>0;)e=e[15],n--;return e}(n,le.lFrame.contextLView))[8]}(n)}function L7(n,e){let t=null;const r=function W5(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?RD(n,s,!0):Q5(r,s))return i}else t=i}return t}function lh(n,e,t){return uh(n,"",e,"",t),lh}function uh(n,e,t,r,i){const s=S(),o=Ea(s,e,t,r);return o!==ue&&lr(xe(),gt(),s,n,o,s[11],i,!1),uh}function uI(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Br(s):Ti(s),l=!1;for(;0!==a&&(!1===l||o);){const c=n[a+1];U7(n[a],e)&&(l=!0,n[a+1]=r?vg(c):gg(c)),a=r?Br(c):Ti(c)}l&&(n[t+1]=r?gg(s):vg(s))}function U7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ca(n,e)>=0}function ch(n,e){return function jr(n,e,t,r){const i=S(),s=xe(),o=function Mi(n){const e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function vI(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Pn()],o=function yI(n,e){return e>=n.expandoStartIndex}(n,t);(function EI(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function J7(n,e,t,r){const i=function km(n){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fu(t=ry(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ry(i,n,e,t,r),null===s){let l=function Q7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ti(r))return n[Br(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=ry(null,n,e,l[1],r),l=fu(l,e.attrs,r),function Y7(n,e,t,r){n[Br(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function X7(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fu(r,n[s].hostAttrs,t);return fu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function V7(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Br(o),l=Ti(o);n[r]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||ca(d,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const h=Br(n[a+1]);n[r+1]=Zd(h,a),0!==h&&(n[h+1]=yg(n[h+1],r)),n[a+1]=function eV(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Zd(a,0),0!==a&&(n[a+1]=yg(n[a+1],r)),a=r;else n[r+1]=Zd(l,0),0===a?a=r:n[l+1]=yg(n[l+1],r),l=r;u&&(n[r+1]=gg(n[r+1])),uI(n,c,r,!0),uI(n,c,r,!1),function B7(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ca(s,e)>=0&&(t[r+1]=vg(t[r+1]))}(e,c,n,r,s),o=Zd(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ue&&Sn(i,o,e)&&function CI(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,u=l[a+1];dh(function VD(n){return 1==(1&n)}(u)?wI(l,e,t,i,Ti(u),o):void 0)||(dh(s)||function LD(n){return 2==(2&n)}(u)&&(s=wI(l,null,t,i,a,o)),function H5(n,e,t,r,i){const s=mt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:ar.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=ar.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Td(Pn(),t),i,s))}(s,s.data[Pn()],i,i[11],n,i[o+1]=function t4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=He(function ns(n){return n instanceof class Jb{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),ch}function ry(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=fu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),or(n,o,!!t||e[++s]))}return void 0===n?null:n}function wI(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=t[i+1];h===ue&&(h=d?Qe:void 0);let f=d?Hm(h,r):c===r?h:void 0;if(u&&!dh(f)&&(f=Hm(l,r)),dh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Br(p):Ti(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Hm(l,r))}return a}function dh(n){return void 0!==n}function ve(n,e=""){const t=S(),r=xe(),i=n+20,s=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],o=t[i]=function lg(n,e){return mt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Yd(r,t,o,s),ei(s,!1)}function Oa(n){return ui("",n,""),Oa}function ui(n,e,t){const r=S(),i=Ea(r,n,e,t);return i!==ue&&Ai(r,Pn(),i),ui}function iy(n,e,t){const r=S();return Sn(r,na(),e)&&lr(xe(),gt(),r,n,e,r[11],t,!0),iy}const hh="en-US";let GI=hh;function ay(n,e,t,r,i){if(n=pe(n),Array.isArray(n))for(let s=0;s<n.length;s++)ay(n[s],e,t,r,i);else{const s=xe(),o=S();let a=_a(n)?n:pe(n.provide),l=yS(n);const u=Ft(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(_a(n)||!n.multi){const f=new jl(l,i,D),p=uy(a,e,i?c:c+h,d);-1===p?(Bd(Gl(u,o),s,a),ly(s,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=uy(a,e,c+h,d),p=uy(a,e,c,c+h),m=f>=0&&t[f],v=p>=0&&t[p];if(i&&!v||!i&&!m){Bd(Gl(u,o),s,a);const b=function C8(n,e,t,r,i){const s=new jl(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,fM(s,i,r&&!t),s}(i?_8:v8,t.length,i,r,l);!i&&v&&(t[p].providerFactory=b),ly(s,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(b),o.push(b)}else ly(s,n,f>-1?f:p,fM(t[i?p:f],l,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function ly(n,e,t,r){const i=_a(e),s=function zV(n){return!!n.useClass}(e);if(i||s){const l=(s?pe(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function fM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function v8(n,e,t,r){return cy(this.multi,[])}function _8(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$l(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),cy(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],cy(i,s);return s}function cy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function st(n,e=[]){return t=>{t.providersResolver=(r,i)=>function y8(n,e,t){const r=xe();if(r.firstCreatePass){const i=Lr(n);ay(t,r.data,r.blueprint,i,!0),ay(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class pM{}class b8{resolveComponentFactory(e){throw function E8(n){const e=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let vu=(()=>{class n{}return n.NULL=new b8,n})();function D8(){return La(Ft(),S())}function La(n,e){return new In(Cr(n,e))}let In=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=D8,n})();function S8(n){return n instanceof In?n.nativeElement:n}class gM{}let ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function M8(){const n=S(),t=sr(Ft().index,n);return function I8(n){return n[11]}(Zr(t)?t:n)}(),n})(),T8=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null}),n})();class _u{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const A8=new _u("13.3.11"),dy={};function yh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(It(s)),Fr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&yh(l[1],l,u,r)}const o=t.type;if(8&o)yh(n,e,t.child,r);else if(32&o){const a=sg(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ID(e,t);if(Array.isArray(a))r.push(...a);else{const l=su(e[16]);yh(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Cu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return yh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Fr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(cg(e,r),jd(t,r))}this._attachedToViewContainer=!1}yD(this._lView[1],this._lView)}onDestroy(e){XD(this._lView[1],this._lView,null,e)}markForCheck(){Rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Pg(n,e,t){const r=e[10];r.begin&&r.begin();try{ya(n,e,n.template,t)}catch(i){throw dS(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N5(n,e){ou(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=e}}class x8 extends Cu{constructor(e){super(e),this._view=e}detectChanges(){aS(this._view)}checkNoChanges(){}get context(){return null}}class yM extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Cn(e);return new hy(t,this.ngModule)}}function vM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class hy extends pM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function X5(n){return n.map(Y5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return vM(this.componentDef.inputs)}get outputs(){return vM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function N8(n,e){return{get:(t,r,i)=>{const s=n.get(t,dy,i);return s!==dy||r===dy?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(gM,ob),a=s.get(T8,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function YD(n,e,t){if(mt(n))return n.selectRootElement(e,t===Xr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):ug(o.createRenderer(null,this.componentDef),u,function k8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?576:528,h=function AS(n,e){return{components:[],scheduler:n||D5,clean:FV,playerHandler:e||null,flags:0}}(),f=nh(0,null,null,1,0,null,null,null,null,null),p=au(null,f,h,d,null,null,o,l,a,s);let m,v;xd(p);try{const b=function MS(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=ma(o,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(ih(l,u,!0),null!==n&&(Pd(i,n,u),null!==l.classes&&mg(i,n,l.classes),null!==l.styles&&AD(i,n,l.styles)));const c=r.createRenderer(n,e),d=au(t,JD(e),null,e.onPush?64:16,t[20],l,r,c,s||null,null);return o.firstCreatePass&&(Bd(Gl(l,t),o,e.type),rS(o,l),iS(l,t.length,1)),rh(t,d),t[20]=d}(c,this.componentDef,p,o,l);if(c)if(r)Pd(l,c,["ng-version",A8.full]);else{const{attrs:_,classes:T}=function Z5(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Vr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&Pd(l,c,_),T&&T.length>0&&mg(l,c,T.join(" "))}if(v=Sm(f,20),void 0!==t){const _=v.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const V=t[T];_.push(null!=V?Array.from(V):null)}}m=function TS(n,e,t,r,i){const s=t[1],o=function CV(n,e,t){const r=Ft();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),sS(n,r,e,ga(n,e,1,null),t));const i=$l(e,n,r.directiveStart,r);Dn(i,e);const s=Cr(r,e);return s&&Dn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Ft();e.contentQueries(1,o,l.directiveStart)}const a=Ft();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Zi(a.index),tS(t[1],a,0,a.directiveStart,a.directiveEnd,e),nS(e,o)),o}(b,this.componentDef,p,h,[n7]),lu(f,p,null)}finally{kd()}return new O8(this.componentType,m,La(v,p),p,v)}}class O8 extends class w8{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new x8(i),this.componentType=e}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class xi{}class _M{}const Va=new Map;class EM extends xi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yM(this);const r=yr(e);this._bootstrapComponents=ri(r.bootstrap),this._r3Injector=gS(e,t,[{provide:xi,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],He(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ln.THROW_IF_NOT_FOUND,r=ie.Default){return e===Ln||e===xi||e===Lg?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fy extends _M{constructor(e){super(),this.moduleType=e,null!==yr(e)&&function F8(n){const e=new Set;!function t(r){const i=yr(r,!0),s=i.id;null!==s&&(function CM(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${He(e)} vs ${He(e.name)}`)}(s,Va.get(s),r),Va.set(s,r));const o=ri(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new EM(this.moduleType,e)}}function vh(n,e,t){const r=On()+n,i=S();return i[r]===ue?si(i,r,t?e.call(t):e()):function du(n,e){return n[e]}(i,r)}function py(n,e,t,r){return function SM(n,e,t,r,i,s){const o=e+t;return Sn(n,o,i)?si(n,o+1,s?r.call(s,i):r(i)):wu(n,o+1)}(S(),On(),n,e,t,r)}function bM(n,e,t,r,i){return function IM(n,e,t,r,i,s,o){const a=e+t;return Js(n,a,i,s)?si(n,a+2,o?r.call(o,i,s):r(i,s)):wu(n,a+2)}(S(),On(),n,e,t,r,i)}function DM(n,e,t,r,i,s){return function MM(n,e,t,r,i,s,o,a){const l=e+t;return function oh(n,e,t,r,i){const s=Js(n,e,t,r);return Sn(n,e+2,i)||s}(n,l,i,s,o)?si(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):wu(n,l+3)}(S(),On(),n,e,t,r,i,s)}function wu(n,e){const t=n[e];return t===ue?void 0:t}function my(n){return e=>{setTimeout(n,void 0,e)}}const Te=class Q8 extends je{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),u=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),u=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=my(l),a&&(a=my(a)),u&&(u=my(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof bt&&e.add(c),c}};function Y8(){return this._results[Ca()]()}class gy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ca(),r=gy.prototype;r[t]||(r[t]=Y8)}get changes(){return this._changes||(this._changes=new Te)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=wr(e);(this._changesDetected=!function uL(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=e6,n})();const X8=ki,Z8=class extends X8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=au(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),lu(t,r,e),new Cu(r)}};function e6(){return _h(Ft(),S())}function _h(n,e){return 4&n.type?new Z8(e,n,La(n,e)):null}let Gr=(()=>{class n{}return n.__NG_ELEMENT_ID__=t6,n})();function t6(){return NM(Ft(),S())}const n6=Gr,xM=class extends n6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vd(this._hostTNode,this._hostLView);if(bb(e)){const t=ia(e,this._hostLView),r=ra(e);return new sa(t[1].data[r+8],t)}return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=kM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Wl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new hy(Cn(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(xi,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function xF(n){return Fr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new xM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function O5(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Rb(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function P5(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=fg(s,o),l=r[11],u=Qd(l,o[7]);return null!==u&&function k5(n,e,t,r,i,s){r[0]=i,r[6]=e,ou(n,r,t,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),Rb(yy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=kM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=cg(this._lContainer,t);r&&(jd(yy(this._lContainer),t),yD(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=cg(this._lContainer,t);return r&&null!=jd(yy(this._lContainer),t)?new Cu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function kM(n){return n[8]}function yy(n){return n[8]||(n[8]=[])}function NM(n,e){let t;const r=e[n.index];if(Fr(r))t=r;else{let i;if(8&n.type)i=It(r);else{const s=e[11];i=s.createComment("");const o=Cr(n,e);Ks(s,Qd(s,o),i,function B5(n,e){return mt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=oS(r,e,i,n),rh(e,t)}return new xM(t,n,e)}class vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new _y(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==LM(e,t).matches&&this.queries[t].setDirty()}}class RM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Cy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Cy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,s6(t,s)),this.matchTNodeWithReadOption(e,t,Ud(t,e,s,!1,!1))}else r===ki?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ud(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===In||i===Gr||i===ki&&4&t.type)this.addMatch(t.index,-2);else{const s=Ud(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function s6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function a6(n,e,t,r){return-1===t?function o6(n,e){return 11&n.type?La(n,e):4&n.type?_h(n,e):null}(e,n):-2===t?function l6(n,e,t){return t===In?La(e,n):t===ki?_h(e,n):t===Gr?NM(e,n):void 0}(n,e,r):$l(n,n[1],t,e)}function OM(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:a6(e,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Ey(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=OM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=e[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&Ey(h[1],h,u,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];Ey(f[1],f,u,r)}}}}}return r}function Ch(n){const e=S(),t=xe(),r=pb();Nm(r+1);const i=LM(t,r);if(n.dirty&&ab(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Ey(t,e,r,[]):OM(t,e,i,r);n.reset(s,S8),n.notifyOnChanges()}return!0}return!1}function wh(n,e,t,r){const i=xe();if(i.firstCreatePass){const s=Ft();(function FM(n,e,t){null===n.queries&&(n.queries=new Cy),n.queries.track(new wy(e,t))})(i,new RM(e,t,r),s.index),function d6(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function PM(n,e,t){const r=new gy(4==(4&t));XD(n,e,r,r.destroy),null===e[19]&&(e[19]=new _y),e[19].queries.push(new vy(r))}(i,S(),t)}function LM(n,e){return n.queries.getByIndex(e)}function Sh(...n){}const Ty=new de("Application Initializer");let Ay=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Sh,this.reject=Sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(hu(s))t.push(s);else if(Zg(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(F(Ty,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Du=new de("AppId",{providedIn:"root",factory:function eT(){return`${xy()}${xy()}${xy()}`}});function xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tT=new de("Platform Initializer"),ky=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nT=new de("appBootstrapListener");let A6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ni=new de("LocaleId",{providedIn:"root",factory:()=>jb(Ni,ie.Optional|ie.SkipSelf)||function x6(){return"undefined"!=typeof $localize&&$localize.locale||hh}()});class N6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let rT=(()=>{class n{compileModuleSync(t){return new fy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ri(yr(t).declarations).reduce((o,a)=>{const l=Cn(a);return l&&o.push(new hy(l)),o},[]);return new N6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const O6=(()=>Promise.resolve(0))();function Ny(n){"undefined"==typeof Zone?O6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Kt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function P6(){let n=ze.requestAnimationFrame,e=ze.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function V6(n){const e=()=>{!function L6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Oy(n),n.isCheckStableRunning=!0,Ry(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Oy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return iT(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),sT(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return iT(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),sT(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Oy(n),Ry(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Kt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,F6,Sh,Sh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const F6={};function Ry(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Oy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sT(n){n._nesting--,Ry(n)}class B6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Py=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kt.assertNotInAngularZone(),Ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ny(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(F(Kt))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),U6=(()=>{class n{constructor(){this._applications=new Map,Fy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Fy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class j6{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Fy=new j6,Ys=null;const oT=new de("AllowMultipleToken"),aT=new de("PlatformOnDestroy");class lT{constructor(e,t){this.name=e,this.token=t}}function uT(n,e,t=[]){const r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=Ly();if(!o||o.injector.get(oT,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function z6(n){if(Ys&&!Ys.get(oT,!1))throw new Ae(400,"");Ys=n;const e=n.get(cT),t=n.get(tT,null);t&&t.forEach(r=>r())}(function W6(n=[],e){return Ln.create({name:e,providers:[{provide:Vg,useValue:"platform"},{provide:aT,useValue:()=>Ys=null},...n]})}(a,r))}return function q6(n){const e=Ly();if(!e)throw new Ae(401,"");return e}()}}function Ly(){var n;return null!==(n=null==Ys?void 0:Ys.get(cT))&&void 0!==n?n:null}let cT=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function K6(n,e){let t;return t="noop"===n?new B6:("zone.js"===n?void 0:n)||new Kt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Kt,useValue:a}];return a.run(()=>{const u=Ln.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),d=c.injector.get(iu,null);if(!d)throw new Ae(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{By(this._modules,c),h.unsubscribe()})}),function J6(n,e,t){try{const r=t();return hu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Ay);return h.runInitializers(),h.donePromise.then(()=>(function I4(n){rr(n,"Expected localeId to be defined"),"string"==typeof n&&(GI=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Ni,hh)||hh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=dT({},r);return function G6(n,e,t){const r=new fy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Vy);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ae(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(aT,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(F(Ln))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function dT(n,e){return Array.isArray(e)?e.reduce(dT,n):Object.assign(Object.assign({},n),e)}let Vy=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ne(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new ne(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Kt.assertNotInAngularZone(),Ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function J3(...n){const e=Pl(n),t=function H3(n,e){return"number"==typeof om(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rr(r[0]):Ol(t)(qt(r,e)):bi}(o,a.pipe(function Q3(n={}){const{connector:e=(()=>new je),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=l=null,c=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Me((m,v)=>{u++,!d&&!c&&h();const b=l=null!=l?l:e();v.add(()=>{u--,0===u&&!d&&!c&&(a=am(p,i))}),b.subscribe(v),o||(o=new Ue({next:_=>b.next(_),error:_=>{d=!0,h(),a=am(f,t,_),b.error(_)},complete:()=>{c=!0,h(),a=am(f,r),b.complete()}}),qt(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Ae(405,"");let i;i=t instanceof pM?t:this._injector.get(vu).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function $6(n){return n.isBoundToModule}(i)?void 0:this._injector.get(xi),a=i.create(Ln.NULL,[],r||i.selector,s),l=a.location.nativeElement,u=a.injector.get(Py,null),c=u&&a.injector.get(U6);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),By(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;By(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nT,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(F(Kt),F(Ln),F(iu),F(Ay))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function By(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let fT=!0,Ih=(()=>{class n{}return n.__NG_ELEMENT_ID__=X6,n})();function X6(n){return function Z6(n,e,t){if(Id(n)&&!t){const r=sr(n.index,e);return new Cu(r,r)}return 47&n.type?new Cu(e[16],e):null}(Ft(),S(),16==(16&n))}class vT{constructor(){}supports(e){return cu(e)}create(e){return new sB(e)}}const iB=(n,e)=>e;class sB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<CT(r,i,s)?t:r,a=CT(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!cu(e))throw new Ae(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function h7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ca()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new oB(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class _T{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new aB,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CT(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function ET(){return new Ah([new vT])}let Ah=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ET()),deps:[[n,new Xl,new ts]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ae(901,"")}}return n.\u0275prov=Q({token:n,providedIn:"root",factory:ET}),n})();const hB=uT(null,"core",[]);let fB=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(F(Vy))},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({}),n})(),xh=null;function di(){return xh}const ur=new de("DocumentToken");let Zs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function yB(){return F(DT)}()},providedIn:"platform"}),n})();const vB=new de("Location Initialized");let DT=(()=>{class n extends Zs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(t){const r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ST()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ST()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(F(ur))},n.\u0275prov=Q({token:n,factory:function(){return function _B(){return new DT(F(ur))}()},providedIn:"platform"}),n})();function ST(){return!!window.history.pushState}function $y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function IT(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ri(n){return n&&"?"!==n[0]?"?"+n:n}let Ua=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function CB(n){const e=F(ur).location;return new MT(F(Zs),e&&e.origin||"")}()},providedIn:"root"}),n})();const zy=new de("appBaseHref");let MT=(()=>{class n extends Ua{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ri(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ri(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(Zs),F(zy,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),wB=(()=>{class n extends Ua{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(Zs),F(zy,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),qy=(()=>{class n{constructor(t,r){this._subject=new Te,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=IT(TT(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ri(r))}normalize(t){return n.stripTrailingSlash(function bB(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,TT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ri(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ri(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ri,n.joinWithSlash=$y,n.stripTrailingSlash=IT,n.\u0275fac=function(t){return new(t||n)(F(Ua),F(Zs))},n.\u0275prov=Q({token:n,factory:function(){return function EB(){return new qy(F(Ua),F(Zs))}()},providedIn:"root"}),n})();function TT(n){return n.replace(/\/index.html$/,"")}function LT(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class lU{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let VT=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new lU(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),BT(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{BT(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(Gr),D(ki),D(Ah))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function BT(n,e){n.context.$implicit=e.item}let Uh=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new uU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){UT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){UT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(Gr),D(ki))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class uU{constructor(){this.$implicit=null,this.ngIf=null}}function UT(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(e)}'.`)}let ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({}),n})();let BU=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new UU(F(ur),window)}),n})();class UU{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jU(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$T(this.window.history)||$T(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function $T(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zT{}class av extends class HU extends class gB{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function mB(n){xh||(xh=n)}(new av)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function GU(){return Tu=Tu||document.querySelector("base"),Tu?Tu.getAttribute("href"):null}();return null==t?null:function $U(n){jh=jh||document.createElement("a"),jh.setAttribute("href",n);const e=jh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LT(document.cookie,e)}}let jh,Tu=null;const qT=new de("TRANSITION_ID"),qU=[{provide:Ty,useFactory:function zU(n,e,t){return()=>{t.get(Ay).donePromise.then(()=>{const r=di(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[qT,ur,Ln],multi:!0}];class lv{static init(){!function H6(n){Fy=n}(new lv)}addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?di().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let WU=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Hh=new de("EventManagerPlugins");let Gh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(F(Hh),F(Kt))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class WT{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=di().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let KT=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),Au=(()=>{class n extends KT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(JT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(JT))}}return n.\u0275fac=function(t){return new(t||n)(F(ur))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function JT(n){di().remove(n)}const uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cv=/%COMP%/g;function $h(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$h(n,i,t):(i=i.replace(cv,n),t.push(i))}return t}function XT(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let dv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Xr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ZU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Xr.ShadowDom:return new ej(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$h(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(F(Gh),F(Au),F(Du))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class hv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(uv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=uv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=uv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,XT(r)):this.eventManager.addEventListener(e,t,XT(r))}}class ZU extends hv{constructor(e,t,r,i){super(e),this.component=r;const s=$h(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function QU(n){return"_ngcontent-%COMP%".replace(cv,n)}(i+"-"+r.id),this.hostAttr=function YU(n){return"_nghost-%COMP%".replace(cv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ej extends hv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$h(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tj=(()=>{class n extends WT{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(F(ur))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const eA=["alt","control","meta","shift"],rj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ij={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sj=(()=>{class n extends WT{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(eA.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function oj(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&tA.hasOwnProperty(e)&&(e=tA[e]))}return rj[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eA.forEach(s=>{s!=i&&ij[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(F(ur))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const cj=uT(hB,"browser",[{provide:ky,useValue:"browser"},{provide:tT,useValue:function aj(){av.makeCurrent(),lv.init()},multi:!0},{provide:ur,useFactory:function uj(){return function IF(n){bm=n}(document),document},deps:[]}]),dj=[{provide:Vg,useValue:"root"},{provide:iu,useFactory:function lj(){return new iu},deps:[]},{provide:Hh,useClass:tj,multi:!0,deps:[ur,Kt,ky]},{provide:Hh,useClass:sj,multi:!0,deps:[ur]},{provide:dv,useClass:dv,deps:[Gh,Au,Du]},{provide:gM,useExisting:dv},{provide:KT,useExisting:Au},{provide:Au,useClass:Au,deps:[ur]},{provide:Py,useClass:Py,deps:[Kt]},{provide:Gh,useClass:Gh,deps:[Hh,Kt]},{provide:zT,useClass:WU,deps:[]}];let hj=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Du,useValue:t.appId},{provide:qT,useExisting:Du},qU]}}}return n.\u0275fac=function(t){return new(t||n)(F(n,12))},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({providers:dj,imports:[ov,fB]}),n})();"undefined"!=typeof window&&window;const{isArray:bj}=Array,{getPrototypeOf:Dj,prototype:Sj,keys:Ij}=Object;function iA(n){if(1===n.length){const e=n[0];if(bj(e))return{args:e,keys:null};if(function Mj(n){return n&&"object"==typeof n&&Dj(n)===Sj}(e)){const t=Ij(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Tj}=Array;function pv(n){return K(e=>function Aj(n,e){return Tj(e)?n(...e):n(e)}(n,e))}function sA(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let oA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(ci),D(In))},n.\u0275dir=ee({type:n}),n})(),eo=(()=>{class n extends oA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Ge]}),n})();const hi=new de("NgValueAccessor"),kj={provide:hi,useExisting:Xe(()=>mv),multi:!0};let mv=(()=>{class n extends eo{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Le("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[st([kj]),Ge]}),n})();const Nj={provide:hi,useExisting:Xe(()=>xu),multi:!0},Oj=new de("CompositionEventMode");let xu=(()=>{class n extends oA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rj(){const n=di()?di().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(ci),D(In),D(Oj,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Le("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[st([Nj]),Ge]}),n})();const Mn=new de("NgValidators"),ls=new de("NgAsyncValidators");function cA(n){return function as(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function zh(n){return null}function gA(n){return null!=n}function yA(n){const e=hu(n)?qt(n):n;return Zg(e),e}function vA(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _A(n,e){return e.map(t=>t(n))}function CA(n){return n.map(e=>function Fj(n){return!n.validate}(e)?e:t=>e.validate(t))}function gv(n){return null!=n?function wA(n){if(!n)return null;const e=n.filter(gA);return 0==e.length?null:function(t){return vA(_A(t,e))}}(CA(n)):null}function yv(n){return null!=n?function EA(n){if(!n)return null;const e=n.filter(gA);return 0==e.length?null:function(t){return function xj(...n){const e=HE(n),{args:t,keys:r}=iA(n),i=new ne(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;Rr(t[c]).subscribe(he(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?sA(r,a):a),s.complete())}))}});return e?i.pipe(pv(e)):i}(_A(t,e).map(yA)).pipe(K(vA))}}(CA(n)):null}function bA(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vv(n){return n?Array.isArray(n)?n:[n]:[]}function qh(n,e){return Array.isArray(n)?n.includes(e):n===e}function IA(n,e){const t=vv(e);return vv(n).forEach(i=>{qh(t,i)||t.push(i)}),t}function MA(n,e){return vv(e).filter(t=>!qh(n,t))}class TA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class us extends TA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn extends TA{get formDirective(){return null}get path(){return null}}class AA{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let _v=(()=>{class n extends AA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(us,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ch("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ge]}),n})(),Wh=(()=>{class n extends AA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(jn,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ch("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ge]}),n})();function ku(n,e){Ev(n,e),e.valueAccessor.writeValue(n.value),function $j(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kA(n,e)})}(n,e),function qj(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kA(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Gj(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ev(n,e){const t=function DA(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(bA(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function SA(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(bA(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Yh(e._rawValidators,i),Yh(e._rawAsyncValidators,i)}function kA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Nu="VALID",Zh="INVALID",ja="PENDING",Ru="DISABLED";function Mv(n){return(ef(n)?n.validators:n)||null}function PA(n){return Array.isArray(n)?gv(n):n||null}function Tv(n,e){return(ef(e)?e.asyncValidators:n)||null}function FA(n){return Array.isArray(n)?yv(n):n||null}function ef(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Av=n=>n instanceof kv;function VA(n){return(n=>n instanceof jA)(n)?n.value:n.getRawValue()}function BA(n,e){const t=Av(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[e])throw new Ae(1001,"")}function UA(n,e){Av(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new Ae(1002,"")})}class xv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=PA(this._rawValidators),this._composedAsyncValidatorFn=FA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nu}get invalid(){return this.status===Zh}get pending(){return this.status==ja}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=PA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=FA(e)}addValidators(e){this.setValidators(IA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MA(e,this._rawAsyncValidators))}hasValidator(e){return qh(this._rawValidators,e)}hasAsyncValidator(e){return qh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ja,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===ja)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ja,this._hasOwnPendingAsyncValidator=!0;const t=yA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Qj(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Av(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Xj)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?Zh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ja)?ja:this._anyControlsHaveStatus(Zh)?Zh:Nu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ef(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jA extends xv{constructor(e=null,t,r){super(Mv(t),Tv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ef(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kv extends xv{constructor(e,t,r){super(Mv(t),Tv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){UA(this,e),Object.keys(e).forEach(r=>{BA(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=VA(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Xj extends xv{constructor(e,t,r){super(Mv(t),Tv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){UA(this,e),e.forEach((r,i)=>{BA(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>VA(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Zj={provide:jn,useExisting:Xe(()=>Ha)},Ou=(()=>Promise.resolve(null))();let Ha=(()=>{class n extends jn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Te,this.form=new kv({},gv(t),yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ou.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ku(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ou.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ou.then(()=>{const r=this._findContainer(t.path),i=new kv({});(function NA(n,e){Ev(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ou.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ou.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function OA(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(D(Mn,10),D(ls,10))},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Le("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[st([Zj]),Ge]}),n})();const tH={provide:us,useExisting:Xe(()=>tf)},$A=(()=>Promise.resolve(null))();let tf=(()=>{class n extends us{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new jA,this._registered=!1,this.update=new Te,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Dv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xu?t=s:function Jj(n){return Object.getPrototypeOf(n.constructor)===eo}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function bv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ku(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$A.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;$A.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function Jh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(D(jn,9),D(Mn,10),D(ls,10),D(hi,10),D(Ih,8))},n.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[st([tH]),Ge,En]}),n})(),nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({}),n})();const sH={provide:hi,useExisting:Xe(()=>Nv),multi:!0};let Nv=(()=>{class n extends eo{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,r){1&t&&Le("change",function(s){return r.onChange(s.target.value)})("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[st([sH]),Ge]}),n})();const Rv=new de("NgModelWithFormControlWarning");let to=(()=>{class n{constructor(){this._validator=zh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,features:[En]}),n})();const CH={provide:Mn,useExisting:Xe(()=>Pu),multi:!0};let Pu=(()=>{class n extends to{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function yH(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>cA}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=bn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&oi("required",r._enabled?"":null)},inputs:{required:"required"},features:[st([CH]),Ge]}),n})(),lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[[qA]]}),n})(),Fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[lx]}),n})(),ux=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[lx]}),n})();function ce(...n){return qt(n,Pl(n))}const Bv={now:()=>(Bv.delegate||Date).now(),delegate:void 0};class Uv extends je{constructor(e=1/0,t=1/0,r=Bv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function jv(...n){const e=Pl(n),t=HE(n),{args:r,keys:i}=iA(n);if(0===r.length)return qt([],e);const s=new ne(function IH(n,e,t=Z){return r=>{cx(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)cx(e,()=>{const u=qt(n[l],e);let c=!1;u.subscribe(he(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sA(i,o):Z));return t?s.pipe(pv(t)):s}function cx(n,e,t){n?Ei(t,n,e):e()}const MH=["addListener","removeListener"],TH=["addEventListener","removeEventListener"],AH=["on","off"];function Hv(n,e,t,r){if(Se(t)&&(r=t,t=void 0),r)return Hv(n,e,t).pipe(pv(r));const[i,s]=function NH(n){return Se(n.addEventListener)&&Se(n.removeEventListener)}(n)?TH.map(o=>a=>n[o](e,a,t)):function xH(n){return Se(n.addListener)&&Se(n.removeListener)}(n)?MH.map(dx(n,e)):function kH(n){return Se(n.on)&&Se(n.off)}(n)?AH.map(dx(n,e)):[];if(!i&&sm(n))return St(o=>Hv(o,e,t))(Rr(n));if(!i)throw new TypeError("Invalid event target");return new ne(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function dx(n,e){return t=>r=>n[t](e,r)}function cs(n,e){return Me((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(he(r,l=>{null==i||i.unsubscribe();let u=0;const c=s++;Rr(n(l,c)).subscribe(i=he(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class RH extends bt{constructor(e,t){super()}schedule(e,t=0){return this}}const rf={setInterval(n,e,...t){const{delegate:r}=rf;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rf;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Lu{constructor(e,t=Lu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Lu.now=Bv.now;const FH=new class PH extends Lu{constructor(e,t=Lu.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class OH extends RH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return rf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;rf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ye(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),hx=["*"];var Be=(()=>{return(n=Be||(Be={})).AnnotationChart="AnnotationChart",n.AreaChart="AreaChart",n.Bar="Bar",n.BarChart="BarChart",n.BubbleChart="BubbleChart",n.Calendar="Calendar",n.CandlestickChart="CandlestickChart",n.ColumnChart="ColumnChart",n.ComboChart="ComboChart",n.PieChart="PieChart",n.Gantt="Gantt",n.Gauge="Gauge",n.GeoChart="GeoChart",n.Histogram="Histogram",n.Line="Line",n.LineChart="LineChart",n.Map="Map",n.OrgChart="OrgChart",n.Sankey="Sankey",n.Scatter="Scatter",n.ScatterChart="ScatterChart",n.SteppedAreaChart="SteppedAreaChart",n.Table="Table",n.Timeline="Timeline",n.TreeMap="TreeMap",n.WordTree="wordtree",Be;var n})();const BH={[Be.AnnotationChart]:"annotationchart",[Be.AreaChart]:"corechart",[Be.Bar]:"bar",[Be.BarChart]:"corechart",[Be.BubbleChart]:"corechart",[Be.Calendar]:"calendar",[Be.CandlestickChart]:"corechart",[Be.ColumnChart]:"corechart",[Be.ComboChart]:"corechart",[Be.PieChart]:"corechart",[Be.Gantt]:"gantt",[Be.Gauge]:"gauge",[Be.GeoChart]:"geochart",[Be.Histogram]:"corechart",[Be.Line]:"line",[Be.LineChart]:"corechart",[Be.Map]:"map",[Be.OrgChart]:"orgchart",[Be.Sankey]:"sankey",[Be.Scatter]:"scatter",[Be.ScatterChart]:"corechart",[Be.SteppedAreaChart]:"corechart",[Be.Table]:"table",[Be.Timeline]:"timeline",[Be.TreeMap]:"treemap",[Be.WordTree]:"wordtree"},mx=new de("GOOGLE_CHARTS_CONFIG"),jH=new de("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{const n=jb(mx,ie.Optional);return ce(Object.assign(Object.assign({},{version:"current",safeMode:!1}),n||{}))}});let Ga=(()=>{class n{constructor(t,r,i){this.zone=t,this.localeId=r,this.config$=i,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new je}isGoogleChartsAvailable(){return!("undefined"==typeof google||void 0===google.charts)}loadChartPackages(...t){return this.loadGoogleCharts().pipe(St(()=>this.config$),K(r=>Object.assign(Object.assign({},{version:"current",safeMode:!1}),r||{})),cs(r=>new ne(i=>{google.charts.load(r.version,{packages:t,language:this.localeId,mapsApiKey:r.mapsApiKey,safeMode:r.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{i.next(),i.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return ce(null);if(!this.isLoadingGoogleCharts()){const t=this.createGoogleChartsScript();t.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},t.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(r=>r.src===this.scriptSource)}createGoogleChartsScript(){const t=document.createElement("script");return t.type="text/javascript",t.src=this.scriptSource,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t),t}}return n.\u0275fac=function(t){return new(t||n)(F(Kt),F(Ni),F(jH))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),gx=(()=>{class n{create(t,r,i){if(null==t)return;let s=!0;null!=r&&(s=!1);const o=google.visualization.arrayToDataTable(this.getDataAsTable(t,r),s);return i&&this.applyFormatters(o,i),o}getDataAsTable(t,r){return r?[r,...t]:t}applyFormatters(t,r){for(const i of r)i.formatter.format(t,i.colIndex)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({factory:function(){return new n},token:n,providedIn:"root"}),n})(),GH=(()=>{class n{constructor(t){this.loaderService=t,this.error=new Te,this.ready=new Te,this.stateChange=new Te,this.id=function HH(){return"_"+Math.random().toString(36).substr(2,9)}(),this.wrapperReadySubject=new Uv(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(t){!this._controlWrapper||(t.type&&this._controlWrapper.setControlType(this.type),t.options&&this._controlWrapper.setOptions(this.options||{}),t.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",t=>this.ready.emit(t)),google.visualization.events.addListener(this._controlWrapper,"error",t=>this.error.emit(t)),google.visualization.events.addListener(this._controlWrapper,"statechange",t=>this.stateChange.emit(t))}}return n.\u0275fac=function(t){return new(t||n)(D(Ga))},n.\u0275cmp=vn({type:n,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(t,r){2&t&&iy("id",r.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[En],decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0}),n})(),$H=(()=>{class n{constructor(t,r,i){this.element=t,this.loaderService=r,this.dataTableService=i,this.ready=new Te,this.error=new Te,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(t){!this.initialized||(t.data||t.columns||t.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){const t=this.controlWrappers.map(i=>i.wrapperReady$),r=this.controlWrappers.map(i=>i.for).map(i=>Array.isArray(i)?jv(i.map(s=>s.wrapperReady$)):i.wrapperReady$);jv([...t,...r]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);const t=(r,i,s)=>{google.visualization.events.addListener(r,i,s)};t(this.dashboard,"ready",()=>this.ready.emit()),t(this.dashboard,"error",r=>this.error.emit(r))}initializeBindings(){this.controlWrappers.forEach(t=>{if(Array.isArray(t.for)){const r=t.for.map(i=>i.chartWrapper);this.dashboard.bind(t.controlWrapper,r)}else this.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}}return n.\u0275fac=function(t){return new(t||n)(D(In),D(Ga),D(gx))},n.\u0275cmp=vn({type:n,selectors:[["dashboard"]],contentQueries:function(t,r,i){if(1&t&&wh(i,GH,4),2&t){let s;Ch(s=function Eh(){return function c6(n,e){return n[19].queries[e].queryList}(S(),pb())}())&&(r.controlWrappers=s)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[En],ngContentSelectors:hx,decls:1,vars:0,template:function(t,r){1&t&&(function ty(n){const e=S()[16][6];if(!e.projection){const r=e.projection=Kl(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?L7(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function ny(n,e=0,t){const r=S(),i=xe(),s=ma(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),Am(),64!=(64&s.flags)&&function U5(n,e,t){TD(e[11],0,e,t,vD(n,t,e),ED(t.parent||e[6],t,e))}(i,r,s)}(0))},encapsulation:2,changeDetection:0}),n})(),zH=(()=>{class n{constructor(t,r,i,s){this.element=t,this.scriptLoaderService=r,this.dataTableService=i,this.dashboard=s,this.options={},this.dynamicResize=!1,this.ready=new Te,this.error=new Te,this.select=new Te,this.mouseover=new Te,this.mouseleave=new Te,this.wrapperReadySubject=new Uv(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(t){this.wrapper=t,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(function UH(n){return BH[n]}(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(t){if(t.dynamicResize&&this.updateResizeListener(),this.initialized){let r=!1;(t.data||t.columns||t.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),r=!0),t.type&&(this.wrapper.setChartType(this.type),r=!0),(t.options||t.width||t.height||t.title)&&(this.wrapper.setOptions(this.mergeOptions()),r=!0),r&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(t,r){const i=this.registerChartEvent(this.chart,t,r);return this.eventListeners.set(i,{eventName:t,callback:r,handle:i}),i}removeEventListener(t){const r=this.eventListeners.get(t);r&&(google.visualization.events.removeListener(r.handle),this.eventListeners.delete(t))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=Hv(window,"resize",{passive:!0}).pipe(function LH(n,e=FH){return Me((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+n,c=e.now();if(c<u)return i=this.schedule(void 0,u-c),void r.add(i);a()}t.subscribe(he(r,u=>{s=u,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",t=>this.mouseover.emit(t)),this.registerChartEvent(this.chart,"onmouseout",t=>this.mouseleave.emit(t)),this.registerChartEvent(this.chart,"select",()=>{const t=this.chart.getSelection();this.select.emit({selection:t})}),this.eventListeners.forEach(t=>t.handle=this.registerChartEvent(this.chart,t.eventName,t.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",t=>this.error.emit(t))}registerChartEvent(t,r,i){return google.visualization.events.addListener(t,r,i)}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return n.\u0275fac=function(t){return new(t||n)(D(In),D(Ga),D(gx),D($H,8))},n.\u0275cmp=vn({type:n,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[En],decls:0,vars:0,template:function(t,r){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),n})(),yx=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:mx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({providers:[Ga]}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[[ov,Fu,ux,yx],Fu]}),n})();class qr extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function sf(n,e){const t=Se(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}const of=Fs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Gv(...n){return function WH(){return Ol(1)}()(qt(n,Pl(n)))}function vx(n){return new ne(e=>{Rr(n()).subscribe(e)})}function _x(){return Me((n,e)=>{let t=null;n._refCount++;const r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KH extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,We(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bt;const t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bt.EMPTY)}return e}refCount(){return _x()(this)}}function QH(n,e,t,r,i){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(he(o,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Cx(n,e){return Me(QH(n,e,arguments.length>=2,!0))}function no(n,e){return Me((t,r)=>{let i=0;t.subscribe(he(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ds(n){return Me((e,t)=>{let s,r=null,i=!1;r=e.subscribe(he(t,void 0,void 0,o=>{s=Rr(n(o,ds(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function $a(n,e){return Se(e)?St(n,e,1):St(n,1)}function $v(n){return n<=0?()=>bi:Me((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wx(n=YH){return Me((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function YH(){return new of}function Ex(n){return Me((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function za(n,e){const t=arguments.length>=2;return r=>r.pipe(n?no((i,s)=>n(i,s,r)):Z,_d(1),t?Ex(e):wx(()=>new of))}function cr(n,e,t){const r=Se(n)||e||t?{next:n,error:e,complete:t}:n;return r?Me((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(he(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Z}class Pi{constructor(e,t){this.id=e,this.url=t}}class zv extends Pi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Pi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bx extends Pi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e9 extends Pi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t9 extends Pi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n9 extends Pi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r9 extends Pi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i9 extends Pi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s9 extends Pi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sx{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class o9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u9{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ix{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ee="primary";class c9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qa(n){return new c9(n)}const Mx="ngNavigationCancelingError";function qv(n){const e=Error("NavigationCancelingError: "+n);return e[Mx]=!0,e}function h9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Tx(n[i],e[i]))return!1;return!0}function Tx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Ax(n){return Array.prototype.concat.apply([],n)}function xx(n){return n.length>0?n[n.length-1]:null}function un(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function pi(n){return Zg(n)?n:hu(n)?qt(Promise.resolve(n)):ce(n)}const m9={exact:function Rx(n,e,t){if(!io(n.segments,e.segments)||!af(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Rx(n.children[r],e.children[r],t))return!1;return!0},subset:Ox},kx={exact:function g9(n,e){return fi(n,e)},subset:function y9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Tx(n[t],e[t]))},ignored:()=>!0};function Nx(n,e,t){return m9[t.paths](n.root,e.root,t.matrixParams)&&kx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ox(n,e,t){return Px(n,e,e.segments,t)}function Px(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!io(i,t)||e.hasChildren()||!af(i,t,r))}if(n.segments.length===t.length){if(!io(n.segments,t)||!af(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ox(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(io(n.segments,i)&&af(n.segments,i,r)&&n.children[Ee])&&Px(n.children[Ee],e,s,r)}}function af(n,e,t){return e.every((r,i)=>kx[t](n[i].parameters,r.parameters))}class ro{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return C9.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,un(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lf(this)}}class Bu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qa(this.parameters)),this._parameterMap}toString(){return Ux(this)}}function io(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Fx{}class Lx{parse(e){const t=new A9(e);return new ro(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Uu(e.root,!0)}`,r=function b9(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${uf(t)}=${uf(i)}`).join("&"):`${uf(t)}=${uf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function w9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const C9=new Lx;function lf(n){return n.segments.map(e=>Ux(e)).join("/")}function Uu(n,e){if(!n.hasChildren())return lf(n);if(e){const t=n.children[Ee]?Uu(n.children[Ee],!1):"",r=[];return un(n.children,(i,s)=>{s!==Ee&&r.push(`${s}:${Uu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _9(n,e){let t=[];return un(n.children,(r,i)=>{i===Ee&&(t=t.concat(e(r,i)))}),un(n.children,(r,i)=>{i!==Ee&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ee?[Uu(n.children[Ee],!1)]:[`${i}:${Uu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ee]?`${lf(n)}/${t[0]}`:`${lf(n)}/(${t.join("//")})`}}function Vx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uf(n){return Vx(n).replace(/%3B/gi,";")}function Wv(n){return Vx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function Bx(n){return cf(n.replace(/\+/g,"%20"))}function Ux(n){return`${Wv(n.path)}${function E9(n){return Object.keys(n).map(e=>`;${Wv(e)}=${Wv(n[e])}`).join("")}(n.parameters)}`}const D9=/^[^\/()?;=#]+/;function df(n){const e=n.match(D9);return e?e[0]:""}const S9=/^[^=?&#]+/,M9=/^[^&#]+/;class A9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ee]=new De(e,t)),r}parseSegment(){const e=df(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Bu(cf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=df(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=df(this.remaining);i&&(r=i,this.capture(r))}e[cf(t)]=cf(r)}parseQueryParam(e){const t=function I9(n){const e=n.match(S9);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function T9(n){const e=n.match(M9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Bx(t),s=Bx(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=df(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ee);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ee]:new De([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jv(e,this._root).map(t=>t.value)}}function Kv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kv(n,t);if(r)return r}return null}function Jv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Jv(n,t);if(r.length)return r.unshift(e),r}return[]}class Fi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Hx extends jx{constructor(e,t){super(e),this.snapshot=t,Qv(this,e)}toString(){return this.snapshot.toString()}}function Gx(n,e){const t=function x9(n,e){const o=new hf([],{},{},"",{},Ee,e,null,n.root,-1,{});return new zx("",new Fi(o,[]))}(n,e),r=new qr([new Bu("",{})]),i=new qr({}),s=new qr({}),o=new qr({}),a=new qr(""),l=new so(r,i,o,a,s,Ee,e,t.root);return l.snapshot=t.root,new Hx(new Fi(l,[]),t)}class so{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(e=>qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(e=>qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $x(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function k9(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hf{constructor(e,t,r,i,s,o,a,l,u,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zx extends jx{constructor(e,t){super(t),this.url=e,Qv(this,t)}toString(){return qx(this._root)}}function Qv(n,e){e.value._routerState=n,e.children.forEach(t=>Qv(n,t))}function qx(n){const e=n.children.length>0?` { ${n.children.map(qx).join(", ")} } `:"";return`${n.value}${e}`}function Yv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fi(e.params,t.params)||n.params.next(t.params),function f9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xv(n,e){const t=fi(n.params,e.params)&&function v9(n,e){return io(n,e)&&n.every((t,r)=>fi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Xv(n.parent,e.parent))}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function R9(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ju(n,r,i);return ju(n,r)})}(n,e,t);return new Fi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ju(n,a)),o}}const r=function O9(n){return new so(new qr(n.url),new qr(n.params),new qr(n.queryParams),new qr(n.fragment),new qr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ju(n,s));return new Fi(r,i)}}function ff(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hu(n){return"object"==typeof n&&null!=n&&n.outlets}function Zv(n,e,t,r,i){let s={};if(r&&un(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),n===e)return new ro(t,s,i);const o=Wx(n,e,t);return new ro(o,s,i)}function Wx(n,e,t){const r={};return un(n.children,(i,s)=>{r[s]=i===e?t:Wx(i,e,t)}),new De(n.segments,r)}class Kx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ff(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Hu);if(i&&i!==xx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jx(n,e,t){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return pf(n,e,t);const r=function U9(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Hu(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Yx(l,u,o))return s;r+=2}else{if(!Yx(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new De(n.segments.slice(0,r.pathIndex),{});return s.children[Ee]=new De(n.segments.slice(r.pathIndex),n.children),pf(s,0,i)}return r.match&&0===i.length?new De(n.segments,{}):r.match&&!n.hasChildren()?t0(n,e,t):r.match?pf(n,0,i):t0(n,e,t)}function pf(n,e,t){if(0===t.length)return new De(n.segments,{});{const r=function B9(n){return Hu(n[0])?n[0].outlets:{[Ee]:n}}(t),i={};return un(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Jx(n.children[o],e,s))}),un(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new De(n.segments,i)}}function t0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Hu(s)){const l=j9(s.outlets);return new De(r,l)}if(0===i&&ff(t[0])){r.push(new Bu(n.segments[e].path,Qx(t[0]))),i++;continue}const o=Hu(s)?s.outlets[Ee]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ff(a)?(r.push(new Bu(o,Qx(a))),i+=2):(r.push(new Bu(o,{})),i++)}return new De(r,{})}function j9(n){const e={};return un(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=t0(new De([],{}),0,t))}),e}function Qx(n){const e={};return un(n,(t,r)=>e[r]=`${t}`),e}function Yx(n,e,t){return n==t.path&&fi(e,t.parameters)}class G9{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Wa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),un(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Wa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new u9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new a9(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Yv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function $9(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class n0{constructor(e,t){this.routes=e,this.module=t}}function hs(n){return"function"==typeof n}function oo(n){return n instanceof ro}const Gu=Symbol("INITIAL_VALUE");function $u(){return cs(n=>jv(n.map(e=>e.pipe(_d(1),function JH(...n){const e=Pl(n);return Me((t,r)=>{(e?Gv(n,t,e):Gv(n,t)).subscribe(r)})}(Gu)))).pipe(Cx((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Gu?i:(s===Gu&&(r=!0),r||!1!==s&&o!==t.length-1&&!oo(s)?i:s),e)},Gu),no(e=>e!==Gu),K(e=>oo(e)?e:!0===e),_d(1)))}class Q9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zu,this.attachRef=null}}class zu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Q9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let r0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.name=s||Ee,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Y9(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(D(zu),D(Gr),D(vu),function zl(n){return function rL(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(wb(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Ft(),n)}("name"),D(Ih))},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Y9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===so?this.route:e===zu?this.childContexts:this.parent.get(e,t)}}let Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=vn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Vn(0,"router-outlet")},directives:[r0],encapsulation:2}),n})();function Zx(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];X9(r,Z9(e,r))}}function X9(n,e){n.children&&Zx(n.children,e)}function Z9(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function s0(n){const e=n.children&&n.children.map(s0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ee&&(t.component=Xx),t}function Sr(n){return n.outlet||Ee}function e2(n,e){const t=n.filter(r=>Sr(r)===e);return t.push(...n.filter(r=>Sr(r)!==e)),t}const t2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},t2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||h9)(t,n,e);if(!s)return Object.assign({},t2);const o={};un(s.posParams,(l,u)=>{o[u]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function gf(n,e,t,r,i="corrected"){if(t.length>0&&function nG(n,e,t){return t.some(r=>yf(n,e,r)&&Sr(r)!==Ee)}(n,t,r)){const o=new De(e,function tG(n,e,t,r){const i={};i[Ee]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Sr(s)!==Ee){const o=new De([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Sr(s)]=o}return i}(n,e,r,new De(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function rG(n,e,t){return t.some(r=>yf(n,e,r))}(n,t,r)){const o=new De(n.segments,function eG(n,e,t,r,i,s){const o={};for(const a of r)if(yf(n,t,a)&&!i[Sr(a)]){const l=new De([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Sr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new De(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function yf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function n2(n,e,t,r){return!!(Sr(n)===r||r!==Ee&&yf(e,t,n))&&("**"===n.path||mf(e,n,t).matched)}function r2(n,e,t){return 0===e.length&&!n.children[t]}class vf{constructor(e){this.segmentGroup=e||null}}class i2{constructor(e){this.urlTree=e}}function qu(n){return sf(new vf(n))}function s2(n){return sf(new i2(n))}class aG{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(xi)}apply(){const e=gf(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ee).pipe(K(s=>this.createUrlTree(o0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ds(s=>{if(s instanceof i2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ee).pipe(K(i=>this.createUrlTree(o0(i),e.queryParams,e.fragment))).pipe(ds(i=>{throw i instanceof vf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new De([],{[Ee]:e}):e;return new ro(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(K(s=>new De([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return qt(i).pipe($a(s=>{const o=r.children[s],a=e2(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(K(l=>({segment:l,outlet:s})))}),Cx((s,o)=>(s[o.outlet]=o.segment,s),{}),function XH(n,e){const t=arguments.length>=2;return r=>r.pipe(n?no((i,s)=>n(i,s,r)):Z,$v(1),t?Ex(e):wx(()=>new of))}())}expandSegment(e,t,r,i,s,o){return qt(r).pipe($a(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ds(u=>{if(u instanceof vf)return ce(null);throw u}))),za(a=>!!a),ds((a,l)=>{if(a instanceof of||"EmptyError"===a.name)return r2(t,i,s)?ce(new De([],{})):qu(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return n2(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):qu(t):qu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?s2(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new De(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=mf(t,i,s);if(!a)return qu(t);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?s2(d):this.lineralizeSegments(i,d).pipe(St(h=>this.expandSegment(e,t,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ce(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(K(d=>(r._loadedConfig=d,new De(i,{})))):ce(new De(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=mf(t,r,i);return o?this.getChildConfig(e,r,i).pipe(St(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=gf(t,a,l,h),m=new De(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(K(T=>new De(a,T)));if(0===h.length&&0===p.length)return ce(new De(a,{}));const v=Sr(r)===s;return this.expandSegment(d,m,h,p,v?Ee:s,!0).pipe(K(_=>new De(a.concat(_.segments),_.children)))})):qu(t)}getChildConfig(e,t,r){return t.children?ce(new n0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ce(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(St(i=>i?this.configLoader.load(e.injector,t).pipe(K(s=>(t._loadedConfig=s,s))):function sG(n){return sf(qv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ce(new n0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ce(i.map(o=>{const a=e.get(o);let l;if(function q9(n){return n&&hs(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!hs(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return pi(l)})).pipe($u(),cr(o=>{if(!oo(o))return;const a=qv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),K(o=>!0===o)):ce(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[Ee])return sf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ee]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ro(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return un(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return un(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new De(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function o0(n){const e={};for(const r of Object.keys(n.children)){const s=o0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function lG(n){if(1===n.numberOfChildren&&n.children[Ee]){const e=n.children[Ee];return new De(n.segments.concat(e.segments),e.children)}return n}(new De(n.segments,e))}class o2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _f{constructor(e,t){this.component=e,this.route=t}}function cG(n,e,t){const r=n._root;return Wu(r,e?e._root:null,t,[r.value])}function Cf(n,e,t){const r=function hG(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Wu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wa(e);return n.children.forEach(o=>{(function fG(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function pG(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!io(n.url,e.url);case"pathParamsOrQueryParamsChange":return!io(n.url,e.url)||!fi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xv(n,e)||!fi(n.queryParams,e.queryParams);default:return!Xv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new o2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Wu(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _f(a.outlet.component,o))}else o&&Ku(e,a,i),i.canActivateChecks.push(new o2(r)),Wu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),un(s,(o,a)=>Ku(o,t.getContext(a),i)),i}function Ku(n,e,t){const r=Wa(n),i=n.value;un(r,(s,o)=>{Ku(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new _f(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class bG{}function a2(n){return new ne(e=>e.error(n))}class SG{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=gf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ee);if(null===t)return null;const r=new hf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fi(r,t),s=new zx(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=$x(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=e2(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=l2(r);return function IG(n){n.sort((e,t)=>e.value.outlet===Ee?-1:t.value.outlet===Ee?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return r2(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!n2(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?xx(r).parameters:{};s=new hf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d2(e),Sr(e),e.component,e,u2(t),c2(t)+r.length,h2(e))}else{const f=mf(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new hf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d2(e),Sr(e),e.component,e,u2(t),c2(t)+o.length,h2(e))}const l=function MG(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=gf(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Fi(s,f)]}if(0===l.length&&0===c.length)return[new Fi(s,[])];const d=Sr(e)===i,h=this.processSegment(l,u,c,d?Ee:i);return null===h?null:[new Fi(s,h)]}}function TG(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l2(n){const e=[],t=new Set;for(const r of n){if(!TG(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=l2(r.children);e.push(new Fi(r.value,i))}return e.filter(r=>!t.has(r))}function u2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function c2(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function d2(n){return n.data||{}}function h2(n){return n.resolve||{}}function f2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function a0(n){return cs(e=>{const t=n(e);return t?qt(t).pipe(K(()=>e)):ce(e)})}class FG extends class PG{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const l0=new de("ROUTES");class p2{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(K(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new n0(Ax(o.injector.get(l0,void 0,ie.Self|ie.Optional)).map(s0),o)}),ds(s=>{throw t._loader$=void 0,s}));return t._loader$=new KH(i,()=>new je).pipe(_x()),t._loader$}loadModuleFactory(e){return pi(e()).pipe(St(t=>t instanceof _M?ce(t):qt(this.compiler.compileModuleAsync(t))))}}class VG{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function BG(n){throw n}function UG(n,e,t){return e.parse("/")}function m2(n,e){return ce(null)}const jG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je,this.errorHandler=BG,this.malformedUriErrorHandler=UG,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:m2,afterPreactivation:m2},this.urlHandlingStrategy=new VG,this.routeReuseStrategy=new FG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(xi),this.console=o.get(A6);const d=o.get(Kt);this.isNgZoneEnabled=d instanceof Kt&&Kt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function p9(){return new ro(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new p2(o,a,h=>this.triggerEvent(new Dx(h)),h=>this.triggerEvent(new Sx(h))),this.routerState=Gx(this.currentUrlTree,this.rootComponentType),this.transitions=new qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(no(i=>0!==i.id),K(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),cs(i=>{let s=!1,o=!1;return ce(i).pipe(cr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cs(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return g2(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(cs(d=>{const h=this.transitions.getValue();return r.next(new zv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?bi:Promise.resolve(d)}),function uG(n,e,t,r){return cs(i=>function oG(n,e,t,r,i){return new aG(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(K(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),cr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function AG(n,e,t,r,i){return St(s=>function DG(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new SG(n,e,t,r,i,s).recognize();return null===o?a2(new bG):ce(o)}catch(o){return a2(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(K(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),cr(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new t9(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:v}=a,b=new zv(h,this.serializeUrl(f),p,m);r.next(b);const _=Gx(f,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),bi}),a0(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),cr(a=>{const l=new n9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),K(a=>Object.assign(Object.assign({},a),{guards:cG(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function mG(n,e){return St(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ce(Object.assign(Object.assign({},t),{guardsResult:!0})):function gG(n,e,t,r){return qt(n).pipe(St(i=>function EG(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ce(s.map(a=>{const l=Cf(a,e,i);let u;if(function J9(n){return n&&hs(n.canDeactivate)}(l))u=pi(l.canDeactivate(n,e,t,r));else{if(!hs(l))throw new Error("Invalid CanDeactivate guard");u=pi(l(n,e,t,r))}return u.pipe(za())})).pipe($u()):ce(!0)}(i.component,i.route,t,e,r)),za(i=>!0!==i,!0))}(o,r,i,n).pipe(St(a=>a&&function z9(n){return"boolean"==typeof n}(a)?function yG(n,e,t,r){return qt(e).pipe($a(i=>Gv(function _G(n,e){return null!==n&&e&&e(new o9(n)),ce(!0)}(i.route.parent,r),function vG(n,e){return null!==n&&e&&e(new l9(n)),ce(!0)}(i.route,r),function wG(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function dG(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>vx(()=>ce(o.guards.map(l=>{const u=Cf(l,o.node,t);let c;if(function K9(n){return n&&hs(n.canActivateChild)}(u))c=pi(u.canActivateChild(r,n));else{if(!hs(u))throw new Error("Invalid CanActivateChild guard");c=pi(u(r,n))}return c.pipe(za())})).pipe($u())));return ce(s).pipe($u())}(n,i.path,t),function CG(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(s=>vx(()=>{const o=Cf(s,e,t);let a;if(function W9(n){return n&&hs(n.canActivate)}(o))a=pi(o.canActivate(e,n));else{if(!hs(o))throw new Error("Invalid CanActivate guard");a=pi(o(e,n))}return a.pipe(za())}));return ce(i).pipe($u())}(n,i.route,t))),za(i=>!0!==i,!0))}(r,s,n,e):ce(a)),K(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),cr(a=>{if(oo(a.guardsResult)){const u=qv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new r9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),no(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),a0(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(cr(l=>{const u=new i9(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),cs(l=>{let u=!1;return ce(l).pipe(function xG(n,e){return St(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let s=0;return qt(i).pipe($a(o=>function kG(n,e,t,r){return function NG(n,e,t,r){const i=f2(n);if(0===i.length)return ce({});const s={};return qt(i).pipe(St(o=>function RG(n,e,t,r){const i=Cf(n,e,r);return pi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(cr(a=>{s[o]=a}))),$v(1),St(()=>f2(s).length===i.length?ce(s):bi))}(n._resolve,n,e,r).pipe(K(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),$x(n,t).resolve),null)))}(o.route,r,n,e)),cr(()=>s++),$v(1),St(o=>s===i.length?ce(t):bi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),cr({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),cr(l=>{const u=new s9(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),a0(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),K(a=>{const l=function N9(n,e,t){const r=ju(n,e._root,t?t._root:void 0);return new Hx(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),cr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>K(r=>(new G9(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),cr({next(){s=!0},complete(){s=!0}}),function ZH(n){return Me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ds(a=>{if(o=!0,function d9(n){return n&&n[Mx]}(a)){const l=oo(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new bx(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||g2(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new e9(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return bi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zx(t),this.config=t.map(s0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function P9(n,e,t,r,i){if(0===t.length)return Zv(e.root,e.root,e.root,r,i);const s=function F9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kx(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return un(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Kx(t,e,r)}(t);if(s.toRoot())return Zv(e.root,e.root,new De([],{}),r,i);const o=function L9(n,e,t){if(n.isAbsolute)return new e0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new e0(s,s===e.root,0)}const r=ff(n.commands[0])?0:1;return function V9(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new e0(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?pf(o.segmentGroup,o.index,s.commands):Jx(o.segmentGroup,o.index,s.commands);return Zv(e.root,o.segmentGroup,a,r,i)}(u,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GG(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jG):!1===r?Object.assign({},HG):r,oo(t))return Nx(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Nx(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let u,c,d;o?(u=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,m)=>{u=p,c=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new bx(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Jg()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function g2(n){return"imperative"!==n}class y2{}class v2{preload(e,t){return ce(null)}}let _2=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new p2(i,r,l=>t.triggerEvent(new Dx(l)),l=>t.triggerEvent(new Sx(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(no(t=>t instanceof Vu),$a(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(xi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return qt(i).pipe(Ol(),K(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ce(r._loadedConfig):this.loader.load(t.injector,r)).pipe(St(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(F(cn),F(rT),F(Ln),F(y2))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),d0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ix&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ix(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Jg()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const ao=new de("ROUTER_CONFIGURATION"),C2=new de("ROUTER_FORROOT_GUARD"),WG=[qy,{provide:Fx,useClass:Lx},{provide:cn,useFactory:function XG(n,e,t,r,i,s,o={},a,l){const u=new cn(null,n,e,t,r,i,Ax(s));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function ZG(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,u),o.enableTracing&&u.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),u},deps:[Fx,zu,qy,Ln,rT,l0,ao,[class LG{},new ts],[class OG{},new ts]]},zu,{provide:so,useFactory:function e$(n){return n.routerState.root},deps:[cn]},_2,v2,class qG{preload(e,t){return t().pipe(ds(()=>ce(null)))}},{provide:ao,useValue:{enableTracing:!1}}];function KG(){return new lT("Router",cn)}let w2=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[WG,E2(t),{provide:C2,useFactory:YG,deps:[[cn,new ts,new Xl]]},{provide:ao,useValue:r||{}},{provide:Ua,useFactory:QG,deps:[Zs,[new $d(zy),new ts],ao]},{provide:d0,useFactory:JG,deps:[cn,BU,ao]},{provide:y2,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:v2},{provide:lT,multi:!0,useFactory:KG},[h0,{provide:Ty,multi:!0,useFactory:t$,deps:[h0]},{provide:b2,useFactory:n$,deps:[h0]},{provide:nT,multi:!0,useExisting:b2}]]}}static forChild(t){return{ngModule:n,providers:[E2(t)]}}}return n.\u0275fac=function(t){return new(t||n)(F(C2,8),F(cn,8))},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({}),n})();function JG(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new d0(n,e,t)}function QG(n,e,t={}){return t.useHash?new wB(n,e):new MT(n,e)}function YG(n){return"guarded"}function E2(n){return[{provide:lL,multi:!0,useValue:n},{provide:l0,multi:!0,useValue:n}]}let h0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je}appInitializer(){return this.injector.get(vB,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(cn),o=this.injector.get(ao);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ao),i=this.injector.get(_2),s=this.injector.get(d0),o=this.injector.get(cn),a=this.injector.get(Vy);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(F(Ln))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function t$(n){return n.appInitializer.bind(n)}function n$(n){return n.bootstrapListener.bind(n)}const b2=new de("Router Initializer");class i${constructor(e,t){this.email=e,this.password=t}}function D2(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){D2(s,r,i,o,a,"next",l)}function a(l){D2(s,r,i,o,a,"throw",l)}o(void 0)})}}const S2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},I2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw Error();r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},wf=function(n){return function(n){const e=S2(n);return I2.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class c${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Jt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function T2(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function A2(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function x2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function k2(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}class lo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function y$(n,e){return n.replace(v$,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new lo(i,`${this.serviceName}: ${o} (${i}).`,r)}}const v$=/\{\$([^}]+)}/g;function bf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(R2(s)&&R2(o)){if(!bf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function R2(n){return null!==n&&"object"==typeof n}function Df(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class w${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function E$(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=m0),void 0===i.error&&(i.error=m0),void 0===i.complete&&(i.complete=m0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m0(){}function Ir(n){return n&&n._delegate?n._delegate:n}class uo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class T${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new c$;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function x$(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===co?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class k${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T$(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const y0=[];var Oe=(()=>{return(n=Oe||(Oe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Oe;var n})();const O2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},N$=Oe.INFO,R$={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},O$=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=R$[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class v0{constructor(e){this.name=e,this._logLevel=N$,this._logHandler=O$,this._userLogHandler=null,y0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?O2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}let P2,F2;const L2=new WeakMap,_0=new WeakMap,V2=new WeakMap,C0=new WeakMap,w0=new WeakMap;let E0={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return _0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||V2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function H$(n){return"function"==typeof n?function j$(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L$(){return F2||(F2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(b0(this),e),fs(L2.get(this))}:function(...e){return fs(n.apply(b0(this),e))}:function(e,...t){const r=n.call(b0(this),e,...t);return V2.set(r,e.sort?e.sort():[e]),fs(r)}}(n):(n instanceof IDBTransaction&&function B$(n){if(_0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});_0.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function F$(){return P2||(P2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,E0):n)}function fs(n){if(n instanceof IDBRequest)return function V$(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&L2.set(t,n)}).catch(()=>{}),w0.set(e,n),e}(n);if(C0.has(n))return C0.get(n);const e=H$(n);return e!==n&&(C0.set(n,e),w0.set(e,n)),e}const b0=n=>w0.get(n),$$=["get","getKey","getAll","getAllKeys","count"],z$=["put","add","delete","clear"],D0=new Map;function B2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(D0.get(e))return D0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=z$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$$.includes(t))return;const s=function(){var o=g(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[t](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return D0.set(e,s),s}!function U$(n){E0=n(E0)}(n=>k3(x3({},n),{get:(e,t,r)=>B2(e,t)||n.get(e,t,r),has:(e,t)=>!!B2(e,t)||n.has(e,t)}));class q${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function W$(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const S0="@firebase/app",I0=new v0("@firebase/app"),M0="[DEFAULT]",_z={[S0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,Sf=new Map;function Cz(n,e){try{n.container.addComponent(e)}catch(t){I0.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ja(n){const e=n.name;if(Sf.has(e))return I0.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,n);for(const t of ho.values())Cz(t,n);return!0}function If(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ps=new Ju("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ez{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}function T0(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:M0,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw ps.create("bad-app-name",{appName:String(r)});const i=ho.get(r);if(i){if(bf(n,i.options)&&bf(t,i.config))return i;throw ps.create("duplicate-app",{appName:r})}const s=new k$(r);for(const a of Sf.values())s.addComponent(a);const o=new Ez(n,t,s);return ho.set(r,o),o}function j2(n=M0){const e=ho.get(n);if(!e)throw ps.create("no-app",{appName:n});return e}function ms(n,e,t){var r;let i=null!==(r=_z[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void I0.warn(a.join(" "))}Ja(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Zu="firebase-heartbeat-store";let x0=null;function H2(){return x0||(x0=function G$(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=fs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fs(o.result),l.oldVersion,l.newVersion,fs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Zu)}}).catch(n=>{throw ps.create("storage-open",{originalErrorMessage:n.message})})),x0}function k0(){return(k0=g(function*(n){var e;try{return(yield H2()).transaction(Zu).objectStore(Zu).get($2(n))}catch(t){throw ps.create("storage-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function G2(n,e){return N0.apply(this,arguments)}function N0(){return(N0=g(function*(n,e){var t;try{const i=(yield H2()).transaction(Zu,"readwrite");return yield i.objectStore(Zu).put(e,$2(n)),i.done}catch(r){throw ps.create("storage-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function $2(n){return`${n.name}!${n.options.appId}`}class Tz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xz(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=z2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=z2(),{heartbeatsToSend:r,unsentEntries:i}=function Az(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function z2(){return(new Date).toISOString().substring(0,10)}class xz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!function p$(){return"object"==typeof indexedDB}()&&function m$(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Sz(n){return k0.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return G2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return G2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function q2(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}!function kz(n){Ja(new uo("platform-logger",e=>new q$(e),"PRIVATE")),Ja(new uo("heartbeat",e=>new Tz(e),"PRIVATE")),ms(S0,"0.7.27",n),ms(S0,"0.7.27","esm2017"),ms("fire-js","")}(""),ms("firebase","9.8.4","app");const Mf_firebase={apiKey:"AIzaSyBoa0qeFBViWBEDcUE4F9mhKIg8b1kGni4",authDomain:"titanic-school.firebaseapp.com",projectId:"titanic-school",storageBucket:"titanic-school.appspot.com",messagingSenderId:"283711596661",appId:"1:283711596661:web:12238d25f8b1110f9bb03c",measurementId:"G-R395F43TSZ"};const Oz=function W2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},K2=new Ju("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),J2=new v0("@firebase/auth");function Tf(n,...e){J2.logLevel<=Oe.ERROR&&J2.error(`Auth (9.8.4): ${n}`,...e)}function Jn(n,...e){throw R0(n,...e)}function mi(n,...e){return R0(n,...e)}function Q2(n,e,t){const r=Object.assign(Object.assign({},Oz()),{[e]:t});return new Ju("auth","Firebase",r).create(e,{appName:n.name})}function R0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return K2.create(n,...e)}function x(n,e,...t){if(!n)throw R0(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function gs(n,e){n||gi(e)}const Y2=new Map;function Li(n){gs(n instanceof Function,"Expected a class definition");let e=Y2.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y2.set(n,e),e)}function ec(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function X2(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=T2()||x2()}get(){return function Lz(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function O0(){return"http:"===X2()||"https:"===X2()}()||A2()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P0(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Z2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Uz=new tc(3e4,6e4);function jt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Qt(n,e,t,r){return F0.apply(this,arguments)}function F0(){return(F0=g(function*(n,e,t,r,i={}){return ek(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Df(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Z2.fetch()(tk(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function ek(n,e,t){return L0.apply(this,arguments)}function L0(){return(L0=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bz),e);try{const i=new jz(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw nc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw nc(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw nc(n,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Q2(n,c,u);Jn(n,c)}}catch(i){if(i instanceof lo)throw i;Jn(n,"network-request-failed")}})).apply(this,arguments)}function Vi(n,e,t,r){return V0.apply(this,arguments)}function V0(){return(V0=g(function*(n,e,t,r,i={}){const s=yield Qt(n,e,t,r,i);return"mfaPendingCredential"in s&&Jn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function tk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?P0(n.config,i):`${n.config.apiScheme}://${i}`}class jz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),Uz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mi(n,e,r);return i.customData._tokenResponse=t,i}function B0(){return(B0=g(function*(n,e){return Qt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $z(n,e){return j0.apply(this,arguments)}function j0(){return(j0=g(function*(n,e){return Qt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function H0(){return(H0=g(function*(n,e=!1){const t=Ir(n),r=yield t.getIdToken(e),i=Af(r);x(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rc(G0(i.auth_time)),issuedAtTime:rc(G0(i.iat)),expirationTime:rc(G0(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function G0(n){return 1e3*Number(n)}function Af(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(n){try{return I2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Bi(n,e){return $0.apply(this,arguments)}function $0(){return($0=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof lo&&Wz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Wz({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Kz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class nk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ic(n){return z0.apply(this,arguments)}function z0(){return(z0=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Bi(n,$z(t,{idToken:r}));x(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Yz(s.providerUserInfo):[],a=Qz(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function q0(){return(q0=g(function*(n){const e=Ir(n);yield ic(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Qz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yz(n){return n.map(e=>{var{providerId:t}=e,r=$e(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function W0(){return(W0=g(function*(n,e){const t=yield ek(n,{},g(function*(){const r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=tk(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Z2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(void 0!==e.idToken,"internal-error"),x(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function qz(n){const e=Af(n);return x(e,"internal-error"),x(void 0!==e.exp,"internal-error"),x(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Xz(n,e){return W0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new sc;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return gi("not implemented")}}function ys(n,e){x("string"==typeof n||void 0===n,"internal-error",{appName:e})}class fo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=$e(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nk(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Bi(t,t.stsTokenManager.getToken(t.auth,e));return x(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function zz(n){return H0.apply(this,arguments)}(this,e)}reload(){return function Jz(n){return q0.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ic(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Bi(e,function Hz(n,e){return B0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,u,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(u=t.createdAt)&&void 0!==u?u:void 0,_=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:V,isAnonymous:z,providerData:_e,stsTokenManager:nt}=t;x(T&&nt,e,"internal-error");const Kr=sc.fromJSON(this.name,nt);x("string"==typeof T,e,"internal-error"),ys(d,e.name),ys(h,e.name),x("boolean"==typeof V,e,"internal-error"),x("boolean"==typeof z,e,"internal-error"),ys(f,e.name),ys(p,e.name),ys(m,e.name),ys(v,e.name),ys(b,e.name),ys(_,e.name);const Ho=new fo({uid:T,auth:e,email:h,emailVerified:V,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Kr,createdAt:b,lastLoginAt:_});return _e&&Array.isArray(_e)&&(Ho.providerData=_e.map(gd=>Object.assign({},gd))),v&&(Ho._redirectEventId=v),Ho}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new sc;i.updateFromServerResponse(t);const s=new fo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ic(s),s})()}}const rk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function xf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Ya(Li(rk),e,r);const i=(yield Promise.all(t.map(function(){var u=g(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Li(rk);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=yield u._get(o);if(c){const d=fo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch(c){}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=g(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return u.apply(this,arguments)}}())),new Ya(s,e,r)):new Ya(s,e,r)})()}}function ik(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ak(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uk(e))return"Blackberry";if(ck(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||ok(e))&&!e.includes("edge/"))return"Chrome";if(lk(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function sk(n=Jt()){return/firefox\//i.test(n)}function K0(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ok(n=Jt()){return/crios\//i.test(n)}function ak(n=Jt()){return/iemobile/i.test(n)}function lk(n=Jt()){return/android/i.test(n)}function uk(n=Jt()){return/blackberry/i.test(n)}function ck(n=Jt()){return/webos/i.test(n)}function kf(n=Jt()){return/iphone|ipad|ipod/i.test(n)}function dk(n=Jt()){return kf(n)||lk(n)||ck(n)||uk(n)||/windows phone/i.test(n)||ak(n)}function hk(n,e=[]){let t;switch(n){case"Browser":t=ik(Jt());break;case"Worker":t=`${ik(Jt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.8.4/${e.length?e.join(","):"FirebaseCore-web"}`}class nq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class rq{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fk(this),this.idTokenSubscription=new fk(this),this.beforeStateQueue=new nq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ya.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===l)&&(null==u?void 0:u.user)&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return x(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){var r;try{yield ic(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Vz(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Ir(e):null;return r&&x(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Li(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&Li(e)||t._popupRedirectResolver;x(r,t,"argument-error"),t.redirectPersistenceManager=yield Ya.create(t,[Li(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Qn(n){return Ir(n)}class fk{constructor(e){this.auth=e,this.observer=null,this.addObserver=function C$(n,e){const t=new w$(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class gk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}function Q0(){return(Q0=g(function*(n,e){return Qt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function X0(){return(X0=g(function*(n,e){return Vi(n,"POST","/v1/accounts:signInWithPassword",jt(n,e))})).apply(this,arguments)}function i_(){return(i_=g(function*(n,e){return Vi(n,"POST","/v1/accounts:signInWithEmailLink",jt(n,e))})).apply(this,arguments)}function s_(){return(s_=g(function*(n,e){return Vi(n,"POST","/v1/accounts:signInWithEmailLink",jt(n,e))})).apply(this,arguments)}class oc extends gk{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new oc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function aq(n,e){return X0.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function hq(n,e){return i_.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Jn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function vk(n,e){return Q0.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function fq(n,e){return s_.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Jn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ui(n,e){return o_.apply(this,arguments)}function o_(){return(o_=g(function*(n,e){return Vi(n,"POST","/v1/accounts:signInWithIdp",jt(n,e))})).apply(this,arguments)}class uc{constructor(e){var t,r,i,s,o,a;const l=Qu(Yu(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Cq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);x(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function wq(n){const e=Qu(Yu(n)).link,t=e?Qu(Yu(e)).deep_link_id:null,r=Qu(Yu(n)).deep_link_id;return(r?Qu(Yu(r)).link:null)||r||t||e||n}(e);try{return new uc(t)}catch(r){return null}}}let _k=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return oc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=uc.parseLink(r);return x(i,"argument-error"),oc._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eq extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield fo._fromIdTokenResponse(e,r,i),o=wk(r);return new Mr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=wk(r);return new Mr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function wk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Of extends lo{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Of(e,t,r,i)}}function Ek(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Of._fromErrorAndOperation(n,s,e,r):s})}function m_(n,e){return g_.apply(this,arguments)}function g_(){return(g_=g(function*(n,e,t=!1){const r=yield Bi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Mr._forOperation(n,"link",r)})).apply(this,arguments)}function v_(){return(v_=g(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield Bi(n,Ek(i,s,e,n),t);x(o.idToken,i,"internal-error");const a=Af(o.idToken);x(a,i,"internal-error");const{sub:l}=a;return x(n.uid===l,i,"user-mismatch"),Mr._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Jn(i,"user-mismatch"),o}})).apply(this,arguments)}function Sk(n,e){return __.apply(this,arguments)}function __(){return(__=g(function*(n,e,t=!1){const r="signIn",i=yield Ek(n,r,e),s=yield Mr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function w_(){return(w_=g(function*(n,e){return Sk(Qn(n),e)})).apply(this,arguments)}const Lf="__sak";class Mk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $q=(()=>{class n extends Mk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jq(){const n=Jt();return K0(n)||kf(n)}()&&function tq(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=dk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function eq(){return k2()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Tk=(()=>{class n extends Mk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let qq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function zq(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function K_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Wq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=K_("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ht(){return window}function J_(){return void 0!==Ht().WorkerGlobalScope&&"function"==typeof Ht().importScripts}function Q_(){return(Q_=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const Ak="firebaseLocalStorageDb",Vf="firebaseLocalStorage",xk="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bf(n,e){return n.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function Y_(){const n=indexedDB.open(Ak,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vf,{keyPath:xk})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),yield function Zq(){const n=indexedDB.deleteDatabase(Ak);return new dc(n).toPromise()}(),e(yield Y_()))}))})}function kk(n,e,t){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(n,e,t){const r=Bf(n,!0).put({[xk]:e,value:t});return new dc(r).toPromise()})).apply(this,arguments)}function Z_(){return(Z_=g(function*(n,e){const t=Bf(n,!1).get(e),r=yield new dc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Nk(n,e){const t=Bf(n,!0).delete(e);return new dc(t).toPromise()}const rW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield Y_()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return J_()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=qq._getInstance(function Yq(){return J_()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function Jq(){return Q_.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Wq(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Qq(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield Y_();return yield kk(t,Lf,"1"),yield Nk(t,Lf),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>kk(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function eW(n,e){return Z_.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>Nk(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=Bf(o,!1).getAll();return new dc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ok(n){return`__${n}${Math.floor(1e6*Math.random())}`}function mo(n,e){return e?Li(e):(x(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}Ok("rcb"),new tc(3e4,6e4);class u1 extends gk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CW(n){return Sk(n.auth,new u1(n),n.bypassAuthState)}function wW(n){const{auth:e,user:t}=n;return x(t,e,"internal-error"),function Dk(n,e){return v_.apply(this,arguments)}(t,new u1(n),n.bypassAuthState)}function EW(n){return c1.apply(this,arguments)}function c1(){return(c1=g(function*(n){const{auth:e,user:t}=n;return x(t,e,"internal-error"),m_(t,new u1(n),n.bypassAuthState)})).apply(this,arguments)}new tc(2e3,1e4);const hc=new Map;class SW extends class bW{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CW;case"linkViaPopup":case"linkViaRedirect":return EW;case"reauthViaPopup":case"reauthViaRedirect":return wW;default:Jn(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=hc.get(t.auth._key());if(!r){try{const s=(yield function IW(n,e){return m1.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hc.set(t.auth._key(),r)}return t.bypassAuthState||hc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function m1(){return(m1=g(function*(n,e){const t=Lk(e),r=Fk(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function MW(n,e){hc.set(n._key(),e)}function Fk(n){return Li(n._redirectPersistence)}function Lk(n){return xf("pendingRedirect",n.config.apiKey,n.name)}function Vk(n,e){return E1.apply(this,arguments)}function E1(){return(E1=g(function*(n,e,t=!1){const r=Qn(n),i=mo(r,e),o=yield new SW(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class NW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function RW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jk(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jk(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uk(e))}saveEventToCache(e){this.cachedEventUids.add(Uk(e)),this.lastProcessedEventTime=Date.now()}}function Uk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jk({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function OW(n){return D1.apply(this,arguments)}function D1(){return(D1=g(function*(n,e={}){return Qt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const PW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FW=/^https?/;function S1(){return(S1=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield OW(n);for(const t of e)try{if(VW(t))return}catch(r){}Jn(n,"unauthorized-domain")})).apply(this,arguments)}function VW(n){const e=ec(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!FW.test(t))return!1;if(PW.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const BW=new tc(3e4,6e4);function Hk(){const n=Ht().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let jf=null;function jW(n){return jf=jf||function UW(n){return new Promise((e,t)=>{var r,i,s;function o(){Hk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hk(),t(mi(n,"network-request-failed"))},timeout:BW.get()})}if(null===(i=null===(r=Ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ht().gapi)||void 0===s?void 0:s.load)){const a=Ok("iframefcb");return Ht()[a]=()=>{gapi.load?o():t(mi(n,"network-request-failed"))},function Rk(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=mi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function aW(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw jf=null,e})}(n),jf}const HW=new tc(5e3,15e3),zW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WW(n){const e=n.config;x(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?P0(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:"9.8.4"},i=qW.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Df(r).slice(1)}`}function I1(){return I1=g(function*(n){const e=yield jW(n),t=Ht().gapi;return x(t,n,"internal-error"),e.open({where:document.body,url:WW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zW,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=mi(n,"network-request-failed"),l=Ht().setTimeout(()=>{o(a)},HW.get());function u(){Ht().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),I1.apply(this,arguments)}const JW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $k(n,e,t,r,i,s){x(n.config.authDomain,n,"auth-domain-config-required"),x(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:"9.8.4",eventId:i};if(e instanceof vs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function _$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Eq){const l=e.getScopes().filter(u=>""!==u);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function iK({config:n}){return n.emulator?P0(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Df(a).slice(1)}`}const M1="webStorageSupport",oK=class sK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tk,this._completeRedirectFn=Vk,this._overrideRedirectResult=MW}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;gs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=$k(e,t,r,ec(),i);return function eK(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Jt().toLowerCase();t&&(a=ok(u)?"_blank":t),sk(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Zz(n=Jt()){var e;return kf(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function tK(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new Gk(null);const d=window.open(e||"",a,c);x(d,n,"popup-blocked");try{d.focus()}catch(h){}return new Gk(d)}(e,a,K_())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Kq(n){Ht().location.href=n}($k(e,t,r,ec(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function KW(n){return I1.apply(this,arguments)}(e),i=new NW(e);return r.register("authEvent",s=>(x(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(M1,{type:M1},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[M1];void 0!==o&&t(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function LW(n){return S1.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dk()||K0()||kf()}};var qk="@firebase/auth";class aK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function T1(n=j2()){const e=If(n,"auth");return e.isInitialized()?e.getImmediate():function Pz(n,e){const t=If(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(bf(t.getOptions(),null!=e?e:{}))return i;Jn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:oK,persistence:[rW,$q,Tk]})}!function uK(n){Ja(new uo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{x(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),x(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hk(n)},c=new rq(a,l,u);return function Fz(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Li);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new uo("auth-internal",e=>{const t=Qn(e.getProvider("auth").getImmediate());return new aK(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(qk,"0.20.4",function lK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ms(qk,"0.20.4","esm2017")}("Browser");const Kk=T1(T0(Mf_firebase));let Jk=(()=>{class n{constructor(t,r){this.route=t,this.router=r,this.uid=""}signIn(t,r){(function Aq(n,e,t){return function C_(n,e){return w_.apply(this,arguments)}(Ir(n),_k.credential(e,t))})(Kk,t,r).then(i=>{const s=i.user;console.log("Firebase User :",s),this.router.navigate(["/private"]),localStorage.setItem("uid",s.uid),function Lq(n,e,t,r){Ir(n).onAuthStateChanged(e,t,r)}(Kk,o=>o?(this.uid=o.uid,localStorage.setItem("connected","true"),!0):(localStorage.setItem("connected","false"),!1))}).catch(i=>{}),console.log(this.uid)}userConfirm(){}}return n.\u0275fac=function(t){return new(t||n)(F(so),F(cn))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dK=(()=>{class n{constructor(t){this.aS=t,this.title="Titanic connection",this.modelUser=new i$("","")}ngOnInit(){}onSubmit(t){this.aS.signIn(this.modelUser.email,this.modelUser.password)}}return n.\u0275fac=function(t){return new(t||n)(D(Jk))},n.\u0275cmp=vn({type:n,selectors:[["app-login"]],decls:24,vars:5,consts:[[1,"container-md"],[1,"fs-1"],[3,"ngSubmit"],["formLogin","ngForm"],[1,"form-group","m-3"],["for","exampleInputEmail1"],["name","email","required","","type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["id","emailHelp",1,"form-text","text-muted"],[1,"alert","alert-danger",3,"hidden"],["for","exampleInputPassword1"],["name","password","required","","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","m-3"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary","m-3",3,"disabled"]],template:function(t,r){if(1&t){const i=Na();H(0,"div",0)(1,"p",1),ve(2),U(),H(3,"form",2,3),Le("ngSubmit",function(){Rn(i);const o=xa(4);return r.onSubmit(o)}),H(5,"div",4)(6,"label",5),ve(7,"Email address"),U(),H(8,"input",6,7),Le("ngModelChange",function(o){return r.modelUser.email=o}),U(),H(10,"small",8),ve(11,"We'll never share your email with anyone else."),U(),H(12,"div",9),ve(13," Email is required "),U()(),H(14,"div",4)(15,"label",10),ve(16,"Password"),U(),H(17,"input",11),Le("ngModelChange",function(o){return r.modelUser.password=o}),U()(),H(18,"div",12),Vn(19,"input",13),H(20,"label",14),ve(21,"Check me out"),U()(),H(22,"button",15),ve(23,"Submit"),U()()()}if(2&t){const i=xa(4),s=xa(9);Fe(2),Oa(r.title),Fe(6),ut("ngModel",r.modelUser.email),Fe(4),ut("hidden",s.valid||s.pristine),Fe(5),ut("ngModel",r.modelUser.password),Fe(5),ut("disabled",i.invalid)}},directives:[nf,Wh,Ha,xu,Pu,_v,tf],styles:[""]}),n})(),hK=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}switchAccount(){this.router.navigate([""])}disconnect(){localStorage.setItem("connected","false"),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(D(cn))},n.\u0275cmp=vn({type:n,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"navbar","bg-light"],[1,"container-fluid","justify-content-start"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"container"]],template:function(t,r){1&t&&(H(0,"nav",0)(1,"form",1)(2,"button",2),Le("click",function(){return r.switchAccount()}),ve(3,"Changer d'utilisateur"),U(),H(4,"button",3),Le("click",function(){return r.disconnect()}),ve(5,"D\xe9connexion"),U()()(),H(6,"div",4),Vn(7,"app-login"),U())},directives:[nf,Wh,Ha,dK],styles:[""]}),n})(),fK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=vn({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,r){1&t&&(H(0,"p"),ve(1,"dashboard works!"),U())},styles:[""]}),n})();T1(T0(Mf_firebase));let mK=(()=>{class n{constructor(t){this.aS=t,this.uid=this.aS.uid,console.log(this.uid)}canActivate(t,r){return"true"===localStorage.getItem("connected")}}return n.\u0275fac=function(t){return new(t||n)(F(Jk))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gK=(()=>{class n{canActivate(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=vn({type:n,selectors:[["app-user"]],decls:2,vars:0,template:function(t,r){1&t&&(H(0,"p"),ve(1,"user works!"),U())},styles:[""]}),n})();class vK{constructor(e,t,r,i){this.Sex=e,this.min_age=t,this.max_age=r,this.Class=i}}var P,_K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ji={},A1=A1||{},se=_K||self;function Hf(){}function x1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var k1="closure_uid_"+(1e9*Math.random()>>>0),wK=0;function EK(n,e,t){return n.call.apply(n.bind,arguments)}function bK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function dn(n,e,t){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EK:bK).apply(null,arguments)}function Gf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _s(){this.s=this.s,this.o=this.o}var SK={};_s.prototype.s=!1,_s.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function CK(n){return Object.prototype.hasOwnProperty.call(n,k1)&&n[k1]||(n[k1]=++wK)}(this);delete SK[n]}},_s.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Yk=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function Xk(n){return Array.prototype.concat.apply([],arguments)}function N1(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $f(n){return/^[\s\xa0]*$/.test(n)}var Gn,Zk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Hn(n,e){return-1!=n.indexOf(e)}function R1(n,e){return n<e?-1:n>e?1:0}e:{var eN=se.navigator;if(eN){var tN=eN.userAgent;if(tN){Gn=tN;break e}}Gn=""}function O1(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nN(n){const e={};for(const t in n)e[t]=n[t];return e}var rN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<rN.length;s++)t=rN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function P1(n){return P1[" "](n),n}P1[" "]=Hf;var zf,n,TK=Hn(Gn,"Opera"),Xa=Hn(Gn,"Trident")||Hn(Gn,"MSIE"),sN=Hn(Gn,"Edge"),F1=sN||Xa,oN=Hn(Gn,"Gecko")&&!(Hn(Gn.toLowerCase(),"webkit")&&!Hn(Gn,"Edge"))&&!(Hn(Gn,"Trident")||Hn(Gn,"MSIE"))&&!Hn(Gn,"Edge"),AK=Hn(Gn.toLowerCase(),"webkit")&&!Hn(Gn,"Edge");function aN(){var n=se.document;return n?n.documentMode:void 0}e:{var L1="",V1=(n=Gn,oN?/rv:([^\);]+)(\)|;)/.exec(n):sN?/Edge\/([\d\.]+)/.exec(n):Xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AK?/WebKit\/(\S+)/.exec(n):TK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(V1&&(L1=V1?V1[1]:""),Xa){var B1=aN();if(null!=B1&&B1>parseFloat(L1)){zf=String(B1);break e}}zf=L1}var xK={};var NK=se.document&&Xa&&(aN()||parseInt(zf,10))||void 0,RK=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{se.addEventListener("test",Hf,e),se.removeEventListener("test",Hf,e)}catch(t){}return n}();function Tn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pc(n,e){if(Tn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oN){e:{try{P1(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pc.Z.h.call(this)}}Tn.prototype.h=function(){this.defaultPrevented=!0},hn(pc,Tn);var OK={2:"touch",3:"pen",4:"mouse"};pc.prototype.h=function(){pc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mc="closure_listenable_"+(1e6*Math.random()|0),PK=0;function FK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++PK,this.ca=this.fa=!1}function qf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Wf(n){this.src=n,this.g={},this.h=0}function j1(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Qk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function H1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Wf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=H1(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new FK(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var G1="closure_lm_"+(1e6*Math.random()|0),$1={};function uN(n,e,t,r,i){if(r&&r.once)return dN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uN(n,e[s],t,r,i);return null}return t=K1(t),n&&n[mc]?n.N(e,t,fc(r)?!!r.capture:!!r,i):cN(n,e,t,!1,r,i)}function cN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=fc(i)?!!i.capture:!!i,a=q1(n);if(a||(n[G1]=a=new Wf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function LK(){var e=VK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)RK||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dN(n,e[s],t,r,i);return null}return t=K1(t),n&&n[mc]?n.O(e,t,fc(r)?!!r.capture:!!r,i):cN(n,e,t,!0,r,i)}function hN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hN(n,e[s],t,r,i);else r=fc(r)?!!r.capture:!!r,t=K1(t),n&&n[mc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=H1(s=n.g[e],t,r,i))&&(qf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=q1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=H1(e,t,r,i)),(t=-1<n?e[n]:null)&&z1(t))}function z1(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[mc])j1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=q1(e))?(j1(t,n),0==t.h&&(t.src=null,e[G1]=null)):qf(n)}}}function fN(n){return n in $1?$1[n]:$1[n]="on"+n}function VK(n,e){if(n.ca)n=!0;else{e=new pc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&z1(n),n=t.call(r,e)}return n}function q1(n){return(n=n[G1])instanceof Wf?n:null}var W1="__closure_events_fn_"+(1e9*Math.random()>>>0);function K1(n){return"function"==typeof n?n:(n[W1]||(n[W1]=function(e){return n.handleEvent(e)}),n[W1])}function Yt(){_s.call(this),this.i=new Wf(this),this.P=this,this.I=null}function fn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Tn(e,n);else if(e instanceof Tn)e.target=e.target||n;else{var i=e;iN(e=new Tn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Kf(o,r,!0,e)&&i}if(i=Kf(o=e.g=n,r,!0,e)&&i,i=Kf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Kf(o=e.g=t[s],r,!1,e)&&i}function Kf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&j1(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}hn(Yt,_s),Yt.prototype[mc]=!0,Yt.prototype.removeEventListener=function(n,e,t,r){hN(this,n,e,t,r)},Yt.prototype.M=function(){if(Yt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)qf(t[r]);delete n.g[e],n.h--}}this.I=null},Yt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var J1=se.JSON.stringify;function BK(){var n=mN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y1,pN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jK,n=>n.reset());class jK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HK(n){se.setTimeout(()=>{throw n},0)}function Q1(n,e){Y1||function GK(){var n=se.Promise.resolve(void 0);Y1=function(){n.then($K)}}(),X1||(Y1(),X1=!0),mN.add(n,e)}var X1=!1,mN=new class UK{constructor(){this.h=this.g=null}add(e,t){const r=pN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $K(){for(var n;n=BK();){try{n.h.call(n.g)}catch(t){HK(t)}var e=pN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}X1=!1}function Jf(n,e){Yt.call(this),this.h=n||1,this.g=e||se,this.j=dn(this.kb,this),this.l=Date.now()}function Z1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function eC(n,e,t){if("function"==typeof n)t&&(n=dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function gN(n){n.g=eC(()=>{n.g=null,n.i&&(n.i=!1,gN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hn(Jf,Yt),(P=Jf.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fn(this,"tick"),this.da&&(Z1(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){Jf.Z.M.call(this),Z1(this),delete this.g};class zK extends _s{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gN(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gc(n){_s.call(this),this.h=n,this.g={}}hn(gc,_s);var yN=[];function vN(n,e,t,r){Array.isArray(t)||(t&&(yN[0]=t.toString()),t=yN);for(var i=0;i<t.length;i++){var s=uN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _N(n){O1(n.g,function(e,t){this.g.hasOwnProperty(t)&&z1(e)},n),n.g={}}function Qf(){this.g=!0}function Za(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function JK(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return J1(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}gc.prototype.M=function(){gc.Z.M.call(this),_N(this)},gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qf.prototype.Aa=function(){this.g=!1},Qf.prototype.info=function(){};var go={},CN=null;function Yf(){return CN=CN||new Yt}function wN(n){Tn.call(this,go.Ma,n)}function yc(n){const e=Yf();fn(e,new wN(e,n))}function EN(n,e){Tn.call(this,go.STAT_EVENT,n),this.stat=e}function $n(n){const e=Yf();fn(e,new EN(e,n))}function bN(n,e){Tn.call(this,go.Na,n),this.size=e}function vc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}go.Ma="serverreachability",hn(wN,Tn),go.STAT_EVENT="statevent",hn(EN,Tn),go.Na="timingevent",hn(bN,Tn);var Xf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},DN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tC(){}function IN(){}tC.prototype.h=null;var iC,_c={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nC(){Tn.call(this,"d")}function rC(){Tn.call(this,"c")}function Zf(){}function Cc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new gc(this),this.P=QK,this.W=new Jf(n=F1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MN}function MN(){this.i=null,this.g="",this.h=!1}hn(nC,Tn),hn(rC,Tn),hn(Zf,tC),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},iC=new Zf;var QK=45e3,sC={},ep={};function oC(n,e,t){n.K=1,n.v=sp(Hi(e)),n.s=t,n.U=!0,TN(n,null)}function TN(n,e){n.F=Date.now(),wc(n),n.A=Hi(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),LN(t.h,"t",r),n.C=0,t=n.l.H,n.h=new MN,n.g=oR(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zK(dn(n.Ia,n,n.g),n.O)),vN(n.V,n.g,"readystatechange",n.gb),e=n.H?nN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),yc(1),function qK(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function xN(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=YK(n,t),i==ep){4==e&&(n.o=4,$n(14),r=!1),Za(n.j,n.m,null,"[Incomplete Response]");break}if(i==sC){n.o=4,$n(15),Za(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Za(n.j,n.m,i,null),aC(n,i)}AN(n)&&i!=ep&&i!=sC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$n(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vC(e),e.L=!0,$n(11))):(Za(n.j,n.m,t,"[Invalid Chunked Response]"),yo(n),Ec(n))}function YK(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ep:(t=Number(e.substring(t,r)),isNaN(t)?sC:(r+=1)+t>e.length?ep:(e=e.substr(r,t),n.C=r+t,e))}function wc(n){n.Y=Date.now()+n.P,kN(n,n.P)}function kN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vc(dn(n.eb,n),e)}function tp(n){n.B&&(se.clearTimeout(n.B),n.B=null)}function Ec(n){0==n.l.G||n.I||nR(n.l,n)}function yo(n){tp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Z1(n.W),_N(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function aC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cC(t.i,n)))if(t.I=n.N,!n.J&&cC(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=vc(dn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;dp(t),up(t)}yC(t),$n(18)}if(1>=UN(t.i)&&t.ka){try{t.ka()}catch(u){}t.ka=void 0}}else Co(t,11)}else if((n.J||t.g==n)&&dp(t),!$f(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.U=u[0],u=u[1],2==t.G)if("c"==u[0]){t.J=u[1],t.la=u[2];const c=u[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=u[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Hn(p,"spdy")||Hn(p,"quic")||Hn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(dC(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,ot(r.F,r.D,m))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=sR(r,r.H?r.la:null,r.W),o.J){jN(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(tp(a),wc(a)),r.g=o}else eR(r);0<t.l.length&&cp(t)}else"stop"!=u[0]&&"close"!=u[0]||Co(t,7);else 3==t.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Co(t,7):mC(t):"noop"!=u[0]&&t.j&&t.j.wa(u),t.A=0)}yc(4)}catch(u){}}function lC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(x1(n)||"string"==typeof n)Yk(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(x1(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function XK(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(x1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function el(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof el)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function uC(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(P=Cc.prototype).setTimeout=function(n){this.P=n},P.gb=function(n){n=n.target;const e=this.L;e&&3==Gi(n)?e.l():this.Ia(n)},P.Ia=function(n){try{if(n==this.g)e:{const c=Gi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||F1||this.g&&(this.h.h||this.g.ga()||JN(this.g)))){this.I||4!=c||7==e||yc(8==e||0>=d?3:2),tp(this);var t=this.g.ba();this.N=t;t:if(AN(this)){var r=JN(this.g);n="";var i=r.length,s=4==Gi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yo(this),Ec(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function WK(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,$n(12),yo(this),Ec(this);break e}Za(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,aC(this,t)}this.U?(xN(this,c,o),F1&&this.i&&3==c&&(vN(this.V,this.W,"tick",this.fb),this.W.start())):(Za(this.j,this.m,o,null),aC(this,o)),4==c&&yo(this),this.i&&!this.I&&(4==c?nR(this.l,this):(this.i=!1,wc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,$n(12)):(this.o=0,$n(13)),yo(this),Ec(this)}}}catch(c){}},P.fb=function(){if(this.g){var n=Gi(this.g),e=this.g.ga();this.C<e.length&&(tp(this),xN(this,n,e),this.i&&4!=n&&wc(this))}},P.cancel=function(){this.I=!0,yo(this)},P.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KK(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yc(3),$n(17)),yo(this),this.o=2,Ec(this)):kN(this,this.Y-n)},(P=el.prototype).R=function(){uC(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},P.T=function(){return uC(this),this.g.concat()},P.get=function(n,e){return vo(this.h,n)?this.h[n]:e},P.set=function(n,e){vo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},P.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var NN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _o(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _o){this.g=void 0!==e?e:n.g,np(this,n.j),this.s=n.s,rp(this,n.i),ip(this,n.m),this.l=n.l,e=n.h;var t=new Sc;t.i=e.i,e.g&&(t.g=new el(e.g),t.h=e.h),RN(this,t),this.o=n.o}else n&&(t=String(n).match(NN))?(this.g=!!e,np(this,t[1]||"",!0),this.s=bc(t[2]||""),rp(this,t[3]||"",!0),ip(this,t[4]),this.l=bc(t[5]||"",!0),RN(this,t[6]||"",!0),this.o=bc(t[7]||"")):(this.g=!!e,this.h=new Sc(null,this.g))}function Hi(n){return new _o(n)}function np(n,e,t){n.j=t?bc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rp(n,e,t){n.i=t?bc(e,!0):e}function ip(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function RN(n,e,t){e instanceof Sc?(n.h=e,function aJ(n,e){e&&!n.j&&(Cs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(PN(this,r),LN(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Dc(e,sJ)),n.h=new Sc(e,n.g))}function ot(n,e,t){n.h.set(e,t)}function sp(n){return ot(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_o.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dc(e,ON,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dc(e,ON,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dc(t,"/"==t.charAt(0)?iJ:rJ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dc(t,oJ)),n.join("")};var ON=/[#\/\?@]/g,rJ=/[#\?:]/g,iJ=/[#\?]/g,sJ=/[#\?@]/g,oJ=/#/g;function Sc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cs(n){n.g||(n.g=new el,n.h=0,n.i&&function ZK(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PN(n,e){Cs(n),e=tl(n,e),vo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&uC(n)))}function FN(n,e){return Cs(n),e=tl(n,e),vo(n.g.h,e)}function LN(n,e,t){PN(n,e),0<t.length&&(n.i=null,n.g.set(tl(n,e),N1(t)),n.h+=t.length)}function tl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VN(n){this.l=n||uJ,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Sc.prototype).add=function(n,e){Cs(this),this.i=null,n=tl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},P.forEach=function(n,e){Cs(this),this.g.forEach(function(t,r){Yk(t,function(i){n.call(e,i,r,this)},this)},this)},P.T=function(){Cs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},P.R=function(n){Cs(this);var e=[];if("string"==typeof n)FN(this,n)&&(e=Xk(e,this.g.get(tl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Xk(e,n[t])}return e},P.set=function(n,e){return Cs(this),this.i=null,FN(this,n=tl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},P.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var uJ=10;function BN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UN(n){return n.h?1:n.g?n.g.size:0}function cC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dC(n,e){n.g?n.g.add(e):n.h=e}function jN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function HN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return N1(n.i)}function hC(){}function cJ(){this.g=new hC}function dJ(n,e,t){const r=t||"";try{lC(n,function(i,s){let o=i;fc(i)&&(o=J1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function op(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Ic(n){this.l=n.$b||null,this.j=n.ib||!1}function ap(n,e){Yt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VN.prototype.cancel=function(){if(this.i=HN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hC.prototype.stringify=function(n){return se.JSON.stringify(n,void 0)},hC.prototype.parse=function(n){return se.JSON.parse(n,void 0)},hn(Ic,tC),Ic.prototype.g=function(){return new ap(this.l,this.j)},Ic.prototype.i=function(n){return function(){return n}}({}),hn(ap,Yt);var fC=0;function GN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Mc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Tc(n)}function Tc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(P=ap.prototype).open=function(n,e){if(this.readyState!=fC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Tc(this)},P.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=fC},P.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Tc(this)),this.g&&(this.readyState=3,Tc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==se.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},P.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Mc(this):Tc(this),3==this.readyState&&GN(this)}},P.Ua=function(n){this.g&&(this.response=this.responseText=n,Mc(this))},P.Ta=function(n){this.g&&(this.response=n,Mc(this))},P.ha=function(){this.g&&Mc(this)},P.setRequestHeader=function(n,e){this.v.append(n,e)},P.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ap.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fJ=se.JSON.parse;function xt(n){Yt.call(this),this.headers=new el,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$N,this.K=this.L=!1}hn(xt,Yt);var $N="",pJ=/^https?$/i,mJ=["POST","PUT"];function yJ(n){return"content-type"==n.toLowerCase()}function zN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qN(n),lp(n)}function qN(n){n.D||(n.D=!0,fn(n,"complete"),fn(n,"error"))}function WN(n){if(n.h&&void 0!==A1&&(!n.C[1]||4!=Gi(n)||2!=n.ba()))if(n.v&&4==Gi(n))eC(n.Fa,0,n);else if(fn(n,"readystatechange"),4==Gi(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(NN)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!pJ.test(i?i.toLowerCase():"")}t=r}if(t)fn(n,"complete"),fn(n,"success");else{n.m=6;try{var o=2<Gi(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.ba()+"]",qN(n)}}finally{lp(n)}}}function lp(n,e){if(n.g){KN(n);const t=n.g,r=n.C[0]?Hf:null;n.g=null,n.C=null,e||fn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function KN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Gi(n){return n.g?n.g.readyState:0}function JN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $N:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function vJ(n){let e="";return O1(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ot(n,e,t))}function Ac(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QN(n){this.za=0,this.l=[],this.h=new Qf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ac("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ac("baseRetryDelayMs",5e3,n),this.$a=Ac("retryDelaySeedMs",1e4,n),this.Ya=Ac("forwardChannelMaxRetries",2,n),this.ra=Ac("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VN(n&&n.concurrentRequestLimit),this.Ca=new cJ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function mC(n){if(YN(n),3==n.G){var e=n.V++,t=Hi(n.F);ot(t,"SID",n.J),ot(t,"RID",e),ot(t,"TYPE","terminate"),xc(n,t),(e=new Cc(n,n.h,e,void 0)).K=2,e.v=sp(Hi(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=oR(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wc(e)}iR(n)}function up(n){n.g&&(vC(n),n.g.cancel(),n.g=null)}function YN(n){up(n),n.u&&(se.clearTimeout(n.u),n.u=null),dp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function gC(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&cp(n)}function cp(n){BN(n.i)||n.m||(n.m=!0,Q1(n.Ha,n),n.C=0)}function XN(n,e){var t;t=e?e.m:n.V++;const r=Hi(n.F);ot(r,"SID",n.J),ot(r,"RID",t),ot(r,"AID",n.U),xc(n,r),n.o&&n.s&&pC(r,n.o,n.s),t=new Cc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ZN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dC(n.i,t),oC(t,r,e)}function xc(n,e){n.j&&lC({},function(t,r){ot(e,r,t)})}function ZN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?dn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{dJ(c,o,"req"+u+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function eR(n){n.g||n.u||(n.Y=1,Q1(n.Ga,n),n.A=0)}function yC(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=vc(dn(n.Ga,n),rR(n,n.A)),n.A++,0))}function vC(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function tR(n){n.g=new Cc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Hi(n.oa);ot(e,"RID","rpc"),ot(e,"SID",n.J),ot(e,"CI",n.N?"0":"1"),ot(e,"AID",n.U),xc(n,e),ot(e,"TYPE","xmlhttp"),n.o&&n.s&&pC(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sp(Hi(e)),t.s=null,t.U=!0,TN(t,n)}function dp(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function nR(n,e){var t=null;if(n.g==e){dp(n),vC(n),n.g=null;var r=2}else{if(!cC(n.i,e))return;t=e.D,jN(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;fn(r=Yf(),new bN(r,t,e,i)),cp(n)}else eR(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function _J(n,e){return!(UN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=vc(dn(n.Ha,n,e),rR(n,n.C)),n.C++,0)))}(n,e)||2==r&&yC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Co(n,5);break;case 4:Co(n,10);break;case 3:Co(n,6);break;default:Co(n,2)}}function rR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Co(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=dn(n.jb,n);t||(t=new _o("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||np(t,"https"),sp(t)),function hJ(n,e){const t=new Qf;if(se.Image){const r=new Image;r.onload=Gf(op,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gf(op,t,r,"TestLoadImage: error",!1,e),r.onabort=Gf(op,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gf(op,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $n(2);n.G=0,n.j&&n.j.va(e),iR(n),YN(n)}function iR(n){n.G=0,n.I=-1,n.j&&((0!=HN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,N1(n.l),n.l.length=0),n.j.ua())}function sR(n,e,t){let r=function eJ(n){return n instanceof _o?Hi(n):new _o(n,void 0)}(t);if(""!=r.i)e&&rp(r,e+"."+r.i),ip(r,r.m);else{const i=se.location;r=function tJ(n,e,t,r){var i=new _o(null,void 0);return n&&np(i,n),e&&rp(i,e),t&&ip(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&O1(n.aa,function(i,s){ot(r,s,i)}),t=n.sa,(e=n.D)&&t&&ot(r,e,t),ot(r,"VER",n.ma),xc(n,r),r}function oR(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xt(t&&n.Ba&&!n.qa?new Ic({ib:!0}):n.qa)).L=n.H,e}function aR(){}function hp(){if(Xa&&!(10<=Number(NK)))throw Error("Environmental error: no available transport.")}function dr(n,e){Yt.call(this),this.g=new QN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$f(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nl(this)}function lR(n){nC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uR(){rC.call(this),this.status=1}function nl(n){this.g=n}(P=xt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iC.g(),this.C=function SN(n){return n.h||(n.h=n.i())}(this.u?this.u:iC),this.g.onreadystatechange=dn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void zN(this,s)}n=t||"";const i=new el(this.headers);r&&lC(r,function(s,o){i.set(o,s)}),r=function IK(n){e:{var e=yJ;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=se.FormData&&n instanceof se.FormData,!(0<=Qk(mJ,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KN(this),0<this.B&&((this.K=function gJ(n){return Xa&&function kK(){return function MK(n){var e=xK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Zk(String(zf)).split("."),t=Zk("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=R1(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||R1(0==i[2].length,0==s[2].length)||R1(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.pa,this)):this.A=eC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){zN(this,s)}},P.pa=function(){void 0!==A1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},P.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fn(this,"complete"),fn(this,"abort"),lp(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),xt.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?WN(this):this.cb())},P.cb=function(){WN(this)},P.ba=function(){try{return 2<Gi(this)?this.g.status:-1}catch(n){return-1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},P.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fJ(e)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=QN.prototype).ma=8,P.G=1,P.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},P.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Cc(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=nN(s),iN(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZN(this,i,e),ot(t=Hi(this.F),"RID",n),ot(t,"CVER",22),this.D&&ot(t,"X-HTTP-Session-Id",this.D),xc(this,t),this.o&&s&&pC(t,this.o,s),dC(this.i,i),this.Ra&&ot(t,"TYPE","init"),this.ja?(ot(t,"$req",e),ot(t,"SID","null"),i.$=!0,oC(i,t,null)):oC(i,t,e),this.G=2}}else 3==this.G&&(n?XN(this,n):0==this.l.length||BN(this.i)||XN(this))},P.Ga=function(){if(this.u=null,tR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=vc(dn(this.bb,this),n)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$n(10),up(this),tR(this))},P.ab=function(){null!=this.v&&(this.v=null,up(this),yC(this),$n(19))},P.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$n(2)):(this.h.info("Failed to ping google.com"),$n(1))},(P=aR.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},hp.prototype.g=function(n,e){return new dr(n,e)},hn(dr,Yt),dr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Q1(dn(n.hb,n,e))),$n(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sR(n,null,n.W),cp(n)},dr.prototype.close=function(){mC(this.g)},dr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,gC(this.g,e)}else this.v?((e={}).__data__=J1(n),gC(this.g,e)):gC(this.g,n)},dr.prototype.M=function(){this.g.j=null,delete this.j,mC(this.g),delete this.g,dr.Z.M.call(this)},hn(lR,nC),hn(uR,rC),hn(nl,aR),nl.prototype.xa=function(){fn(this.g,"a")},nl.prototype.wa=function(n){fn(this.g,new lR(n))},nl.prototype.va=function(n){fn(this.g,new uR(n))},nl.prototype.ua=function(){fn(this.g,"b")},hp.prototype.createWebChannel=hp.prototype.g,dr.prototype.send=dr.prototype.u,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,Xf.NO_ERROR=0,Xf.TIMEOUT=8,Xf.HTTP_ERROR=6,DN.COMPLETE="complete",IN.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",Yt.prototype.listen=Yt.prototype.N,xt.prototype.listenOnce=xt.prototype.O,xt.prototype.getLastError=xt.prototype.La,xt.prototype.getLastErrorCode=xt.prototype.Da,xt.prototype.getStatus=xt.prototype.ba,xt.prototype.getResponseJson=xt.prototype.Qa,xt.prototype.getResponseText=xt.prototype.ga,xt.prototype.send=xt.prototype.ea;var CJ=ji.createWebChannelTransport=function(){return new hp},wJ=ji.getStatEventTarget=function(){return Yf()},_C=ji.ErrorCode=Xf,EJ=ji.EventType=DN,bJ=ji.Event=go,cR=ji.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DJ=ji.FetchXmlHttpFactory=Ic,fp=ji.WebChannel=IN,SJ=ji.XhrIo=xt;const dR="@firebase/firestore";class Xt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let rl="9.8.4";const ws=new v0("@firebase/firestore");function CC(){return ws.logLevel}function M(n,...e){if(ws.logLevel<=Oe.DEBUG){const t=e.map(wC);ws.debug(`Firestore (${rl}): ${n}`,...t)}}function kt(n,...e){if(ws.logLevel<=Oe.ERROR){const t=e.map(wC);ws.error(`Firestore (${rl}): ${n}`,...t)}}function pp(n,...e){if(ws.logLevel<=Oe.WARN){const t=e.map(wC);ws.warn(`Firestore (${rl}): ${n}`,...t)}}function wC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function L(n="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+n;throw kt(e),new Error(e)}function te(n,e){n||L()}function N(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends lo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class TJ{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(g(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te("string"==typeof r.accessToken),new hR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new Xt(e)}}class AJ{constructor(e,t,r){this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class xJ{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new AJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(te("string"==typeof t.token),this.p=t.token,new fR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NJ(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class pR{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(n,e){return n<e?-1:n>e?1:0}function il(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new dt(0,0))}static max(){return new X(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kc{constructor(e,t,r){void 0===t?t=0:t>e.length&&L(),void 0===r?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===kc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ke extends kc{construct(e,t,r){return new ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new I(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ke(t)}static emptyPath(){return new ke([])}}const RJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends kc{construct(e,t,r){return new Nt(e,t,r)}static isValidIdentifier(e){return RJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new I(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new I(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new I(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new I(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(ke.fromString(e))}static fromName(e){return new k(ke.fromString(e).popFirst(5))}static empty(){return new k(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new ke(e.slice()))}}function yR(n){return new hr(n.readTime,n.key,-1)}class hr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hr(X.min(),k.empty(),-1)}static max(){return new hr(X.max(),k.empty(),-1)}}function bC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(n.documentKey,e.documentKey),0!==t?t:fe(n.largestBatchId,e.largestBatchId))}const vR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Es(n){return DC.apply(this,arguments)}function DC(){return DC=g(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==vR)throw n;M("LocalStore","Unexpectedly lost primary lease")}),DC.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function bs(n){return"IndexedDbTransactionError"===n.name}class Yn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function CR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Yn.ot=-1;class vt{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vp(this.root,e,this.comparator,!0)}}class vp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:pn.RED,this.left=null!=i?i:pn.EMPTY,this.right=null!=s?s:pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new pn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1,pn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(n,e,t,r,i){return this}insert(n,e,t){return new pn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ER(this.data.getIterator())}getIteratorFrom(e){return new ER(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qe(this.comparator);return t.data=e,t}}class ER{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fr{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new fr([])}unionWith(e){let t=new qe(Nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const BJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(te(!!n),"string"==typeof n){let e=0;const t=BJ.exec(n);if(te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Do(n){return"string"==typeof n?Gt.fromBase64String(n):Gt.fromUint8Array(n)}function IC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bR(n){const e=n.mapValue.fields.__previous_value__;return IC(e)?bR(e):e}function Oc(n){const e=Ds(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}class UJ{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ss{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}function Pc(n){return null==n}function Fc(n){return 0===n&&1/n==-1/0}const Is_mapValue={fields:{__type__:{stringValue:"__max__"}}};function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?IC(n)?4:TR(n)?9007199254740991:10:L()}function yi(n,e){if(n===e)return!0;const t=So(n);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oc(n).isEqual(Oc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ds(r.timestampValue),o=Ds(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Do(n.bytesValue).isEqual(Do(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return _t(r.geoPointValue.latitude)===_t(i.geoPointValue.latitude)&&_t(r.geoPointValue.longitude)===_t(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _t(r.integerValue)===_t(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=_t(r.doubleValue),o=_t(i.doubleValue);return s===o?Fc(s)===Fc(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(CR(s)!==CR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!yi(s[a],o[a])))return!1;return!0}(n,e);default:return L()}var i}function Lc(n,e){return void 0!==(n.values||[]).find(t=>yi(t,e))}function Ms(n,e){if(n===e)return 0;const t=So(n),r=So(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=_t(i.integerValue||i.doubleValue),a=_t(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return SR(n.timestampValue,e.timestampValue);case 4:return SR(Oc(n),Oc(e));case 5:return fe(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Do(i),a=Do(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=fe(o[l],a[l]);if(0!==u)return u}return fe(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=fe(_t(i.latitude),_t(s.latitude));return 0!==o?o:fe(_t(i.longitude),_t(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ms(o[l],a[l]);if(u)return u}return fe(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Is_mapValue&&s===Is_mapValue)return 0;if(i===Is_mapValue)return 1;if(s===Is_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=fe(a[c],u[c]);if(0!==d)return d;const h=Ms(o[a[c]],l[u[c]]);if(0!==h)return h}return fe(a.length,u.length)}(n.mapValue,e.mapValue);default:throw L()}}function SR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fe(n,e);const t=Ds(n),r=Ds(e),i=fe(t.seconds,r.seconds);return 0!==i?i:fe(t.nanos,r.nanos)}function ol(n){return MC(n)}function MC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ds(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Do(n.bytesValue).toBase64():"referenceValue"in n?k.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MC(r.fields[a])}`;return s+"}"}(n.mapValue):L();var e}function Io(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function TC(n){return!!n&&"integerValue"in n}function Vc(n){return!!n&&"arrayValue"in n}function IR(n){return!!n&&"nullValue"in n}function MR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cp(n){return!!n&&"mapValue"in n}function Bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Bc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Cp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Bc(this.value))}}function kR(n){const e=[];return bo(n.fields,(t,r)=>{const i=new Nt([t]);if(Cp(r)){const s=kR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fr(e)}class tt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new tt(e,0,X.min(),X.min(),mn.empty(),0)}static newFoundDocument(e,t,r){return new tt(e,1,t,X.min(),r,0)}static newNoDocument(e,t){return new tt(e,2,t,X.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,X.min(),mn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class GJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function NR(n,e=null,t=[],r=[],i=null,s=null,o=null){return new GJ(n,e,t,r,i,s,o)}function Mo(n){const e=N(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ol(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ol(r)).join(",")),e.ut=t}return e.ut}function Uc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!XJ(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!yi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LR(n.startAt,e.startAt)&&LR(n.endAt,e.endAt)}function wp(n){return k.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class gn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new zJ(e,t,r):"array-contains"===t?new KJ(e,r):"in"===t?new JJ(e,r):"not-in"===t?new QJ(e,r):"array-contains-any"===t?new YJ(e,r):new gn(e,t,r)}static ct(e,t,r){return"in"===t?new qJ(e,r):new WJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Ms(t,this.value)):null!==t&&So(this.value)===So(t)&&this.at(Ms(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zJ extends gn{constructor(e,t,r){super(e,t,r),this.key=k.fromName(r.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.at(t)}}class qJ extends gn{constructor(e,t){super(e,"in",t),this.keys=PR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WJ extends gn{constructor(e,t){super(e,"not-in",t),this.keys=PR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>k.fromName(r.referenceValue))}class KJ extends gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vc(t)&&Lc(t.arrayValue,this.value)}}class JJ extends gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lc(this.value.arrayValue,t)}}class QJ extends gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lc(this.value.arrayValue,t)}}class YJ extends gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}class Ts{constructor(e,t){this.position=e,this.inclusive=t}}class al{constructor(e,t="asc"){this.field=e,this.dir=t}}function XJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function FR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),t.key):Ms(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function LR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}class $i{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null}}function ll(n){return new $i(n)}function AC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xC(n){for(const e of n.filters)if(e.ht())return e.field;return null}function kC(n){return null!==n.collectionGroup}function ul(n){const e=N(n);if(null===e.lt){e.lt=[];const t=xC(e),r=AC(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new al(t)),e.lt.push(new al(Nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new al(Nt.keyField(),s))}}}return e.lt}function Tr(n){const e=N(n);if(!e.ft)if("F"===e.limitType)e.ft=NR(e.path,e.collectionGroup,ul(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ul(e))t.push(new al(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ts(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ts(e.startAt.position,e.startAt.inclusive):null;e.ft=NR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function jc(n,e){return Uc(Tr(n),Tr(e))&&n.limitType===e.limitType}function UR(n){return`${Mo(Tr(n))}|lt:${n.limitType}`}function NC(n){return`Query(target=${function $J(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ol(r.value)}`;var r}).join(", ")}]`),Pc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ol(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ol(t)).join(",")),`Target(${e})`}(Tr(n))}; limitType=${n.limitType})`}function RC(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):k.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=FR(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ul(t),r)||t.endAt&&!function(i,s,o){const a=FR(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ul(t),r)));var t,r}function HR(n){return(e,t)=>{let r=!1;for(const i of ul(n)){const s=eQ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function eQ(n,e,t){const r=n.field.isKeyField()?k.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Ms(a,l):L()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}function GR(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function $R(n){return{integerValue:""+n}}function zR(n,e){return function DR(n){return"number"==typeof n&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?$R(e):GR(n,e)}class bp{constructor(){this._=void 0}}function tQ(n,e,t){return n instanceof cl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof To?WR(n,e):n instanceof Ao?KR(n,e):function(r,i){const s=qR(r,i),o=JR(s)+JR(r._t);return TC(s)&&TC(r._t)?$R(o):GR(r.wt,o)}(n,e)}function nQ(n,e,t){return n instanceof To?WR(n,e):n instanceof Ao?KR(n,e):t}function qR(n,e){return n instanceof dl?TC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class cl extends bp{}class To extends bp{constructor(e){super(),this.elements=e}}function WR(n,e){const t=QR(e);for(const r of n.elements)t.some(i=>yi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ao extends bp{constructor(e){super(),this.elements=e}}function KR(n,e){let t=QR(e);for(const r of n.elements)t=t.filter(i=>!yi(i,r));return{arrayValue:{values:t}}}class dl extends bp{constructor(e,t){super(),this.wt=e,this._t=t}}function JR(n){return _t(n.integerValue||n.doubleValue)}function QR(n){return Vc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iQ{constructor(e,t){this.version=e,this.transformResults=t}}class ht{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Sp{}function YR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fl(n.key,ht.none()):new hl(n.key,n.data,ht.none());{const t=n.data,r=mn.empty();let i=new qe(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(n.key,r,new fr(i.toArray()),ht.none())}}function sQ(n,e,t){n instanceof hl?function(r,i,s){const o=r.value.clone(),a=eO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof zi?function(r,i,s){if(!Dp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gc(n,e,t,r){return n instanceof hl?function(i,s,o,a){if(!Dp(i.precondition,s))return o;const l=i.value.clone(),u=tO(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof zi?function(i,s,o,a){if(!Dp(i.precondition,s))return o;const l=tO(i.fieldTransforms,a,s),u=s.data;return u.setAll(ZR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Dp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function oQ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qR(r.transform,i||null);null!=s&&(null===t&&(t=mn.empty()),t.set(r.field,s))}return t||null}function XR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&il(t,r,(i,s)=>function rQ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof To&&r instanceof To||t instanceof Ao&&r instanceof Ao?il(t.elements,r.elements,yi):t instanceof dl&&r instanceof dl?yi(t._t,r._t):t instanceof cl&&r instanceof cl);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hl extends Sp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends Sp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eO(n,e,t){const r=new Map;te(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nQ(o,a,t[i]))}return r}function tO(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,tQ(s,o,e))}return r}class fl extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OC extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aQ{constructor(e){this.count=e}}var Rt,Ne;function nO(n){switch(n){default:return L();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function rO(n){if(void 0===n)return kt("GRPC error has no .code"),E.UNKNOWN;switch(n){case Rt.OK:return E.OK;case Rt.CANCELLED:return E.CANCELLED;case Rt.UNKNOWN:return E.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return E.INTERNAL;case Rt.UNAVAILABLE:return E.UNAVAILABLE;case Rt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Rt.NOT_FOUND:return E.NOT_FOUND;case Rt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Rt.ABORTED:return E.ABORTED;case Rt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Rt.DATA_LOSS:return E.DATA_LOSS;default:return L()}}(Ne=Rt||(Rt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}const lQ=new vt(k.comparator);function Xn(){return lQ}const iO=new vt(k.comparator);function $c(...n){let e=iO;for(const t of n)e=e.insert(t.key,t);return e}function sO(n){let e=iO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vi(){return zc()}function oO(){return zc()}function zc(){return new As(n=>n.toString(),(n,e)=>n.isEqual(e))}const uQ=new vt(k.comparator),cQ=new qe(k.comparator);function ye(...n){let e=cQ;for(const t of n)e=e.add(t);return e}const dQ=new qe(fe);function Ip(){return dQ}class qc{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t)),new qc(X.min(),r,Ip(),Xn(),ye())}}class Wc{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Wc(Gt.EMPTY_BYTE_STRING,t,ye(),ye(),ye())}}class Mp{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class aO{constructor(e,t){this.targetId=e,this.It=t}}class lO{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class uO{constructor(){this.Tt=0,this.Et=dO(),this.At=Gt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ye(),t=ye(),r=ye();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Wc(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=dO()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class hQ{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Xn(),this.Bt=cO(),this.Lt=new qe(fe)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:L()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(wp(s))if(0===r){const o=new k(s.path);this.Kt(t,o,tt.newNoDocument(o,X.min()))}else te(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&wp(a.target)){const l=new k(a.target.path);null!==this.$t.get(l)||this.Xt(o,l)||this.Kt(o,l,tt.newNoDocument(l,e))}s.vt&&(t.set(o,s.St()),s.Dt())}});let r=ye();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ht(l);return!u||2===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new qc(e,t,this.Lt,this.$t,r);return this.$t=Xn(),this.Bt=cO(),this.Lt=new qe(fe),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new uO,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new qe(fe),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new uO),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function cO(){return new vt(k.comparator)}function dO(){return new vt(k.comparator)}const fQ={asc:"ASCENDING",desc:"DESCENDING"},pQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mQ{constructor(e,t){this.databaseId=e,this.dt=t}}function Kc(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hO(n,e){return n.dt?e.toBase64():e.toUint8Array()}function gQ(n,e){return Kc(n,e.toTimestamp())}function en(n){return te(!!n),X.fromTimestamp(function(e){const t=Ds(e);return new dt(t.seconds,t.nanos)}(n))}function PC(n,e){return(t=n,new ke(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fO(n){const e=ke.fromString(n);return te(EO(e)),e}function Jc(n,e){return PC(n.databaseId,e.path)}function _i(n,e){const t=fO(e);if(t.get(1)!==n.databaseId.projectId)throw new I(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new I(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new k(mO(t))}function FC(n,e){return PC(n.databaseId,e)}function Qc(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mO(n){return te(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function gO(n,e,t){return{name:Jc(n,e),fields:t.value.mapValue.fields}}function vO(n,e){return{documents:[FC(n,e.path)]}}function _O(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=FC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const u=l.map(c=>function(d){if("=="===d.op){if(MR(d.value))return{unaryFilter:{field:pl(d.field),op:"IS_NAN"}};if(IR(d.value))return{unaryFilter:{field:pl(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(MR(d.value))return{unaryFilter:{field:pl(d.field),op:"IS_NOT_NAN"}};if(IR(d.value))return{unaryFilter:{field:pl(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(d.field),op:EQ(d.op),value:d.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:pl((c=u).field),direction:wQ(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.dt||Pc(u)?u:{value:u});var u,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function CO(n){let e=function pO(n){const e=fO(n);return 4===e.length?ke.emptyPath():mO(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){te(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=wO(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new al(ml((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Pc(d)?null:d}(t.limit));let l=null;var c;t.startAt&&(l=new Ts((c=t.startAt).values||[],!!c.before));let u=null;return t.endAt&&(u=function(c){return new Ts(c.values||[],!c.before)}(t.endAt)),function VR(n,e,t,r,i,s,o,a){return new $i(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,u)}function wO(n){return n?void 0!==n.unaryFilter?[DQ(n)]:void 0!==n.fieldFilter?[bQ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>wO(e)).reduce((e,t)=>e.concat(t)):L():[]}function wQ(n){return fQ[n]}function EQ(n){return pQ[n]}function pl(n){return{fieldPath:n.canonicalString()}}function ml(n){return Nt.fromServerFormat(n.fieldPath)}function bQ(n){return gn.create(ml(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}function DQ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ml(n.unaryFilter.field);return gn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ml(n.unaryFilter.field);return gn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ml(n.unaryFilter.field);return gn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ml(n.unaryFilter.field);return gn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function SQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class BC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sQ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=YR(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,r)=>XR(t,r))&&il(this.baseMutations,e.baseMutations,(t,r)=>XR(t,r))}}class UC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){te(e.mutations.length===r.length);let i=uQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new UC(e,t,r,i)}}class jC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xs{constructor(e,t,r,i,s=X.min(),o=X.min(),a=Gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class AO{constructor(e){this.ne=e}}function HC(n){const e=CO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function BR(n,e,t){return new $i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class Ro{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Fc(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Do(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?TR(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):L()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),k.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}Ro.ye=new Ro;class YQ{constructor(){this.ze=new $C}addToCollectionParentIndex(e,t){return this.ze.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(hr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class $C{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qe(ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(ke.comparator)).toArray()}}new Uint8Array(0);class Zn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class Fo{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Fo(0)}static Rn(){return new Fo(-1)}}class aY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Gc(r.mutation,i,fr.empty(),dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){const i=vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=$c();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Xn();const o=zc(),a=zc();return t.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(void 0===c||c.mutation instanceof zi)?s=s.insert(u.key,u):void 0!==c&&(o.set(u.key,c.mutation.getFieldMask()),Gc(c.mutation,u,c.mutation.getFieldMask(),dt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new aY(c,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=zc();let i=new vt((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let c=r.get(l)||fr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=oO();c.forEach(h=>{if(!s.has(h)){const f=YR(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return k.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(vi());let a=-1,l=s;return o.next(u=>w.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ye())).next(c=>({batchId:a,changes:sO(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new k(t)).next(r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=$c();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(u=t,c=a.child(i),new $i(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,c;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();null===i.get(u)&&(i=i.insert(u,tt.newInvalidDocument(u)))});let o=$c();return i.forEach((a,l)=>{const u=s.get(a);void 0!==u&&Gc(u.mutation,l,fr.empty(),dt.now()),RC(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(tt.newInvalidDocument(t))}}class lY{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return w.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:en(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:HC(r.bundledQuery),readTime:en(r.readTime)}),w.resolve();var r}}class uY{constructor(){this.overlays=new vt(k.comparator),this.Xn=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=vi(),s=t.length+1,o=new k(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let c=s.get(u.largestBatchId);null===c&&(c=vi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=vi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return w.resolve(a)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jC(t,r));let s=this.Xn.get(t);void 0===s&&(s=ye(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class zC{constructor(){this.Zn=new qe(nn.ts),this.es=new qe(nn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new nn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new nn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new k(new ke([])),r=new nn(t,e),i=new nn(t,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new k(new ke([])),r=new nn(t,e),i=new nn(t,e+1);let s=ye();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new nn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class nn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return k.comparator(e.key,t.key)||fe(e.ls,t.ls)}static ns(e,t){return fe(e.ls,t.ls)||k.comparator(e.key,t.key)}}class cY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new qe(nn.ts)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const o=new BC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new nn(t,0),i=new nn(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qe(fe);return t.forEach(i=>{const s=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new nn(new k(s),0);let a=new qe(fe);return this.ds.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){te(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return w.forEach(t.mutations,i=>{const s=new nn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new nn(t,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dY{constructor(e){this.ps=e,this.docs=new vt(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let r=Xn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Xn();const s=new k(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||bC(yR(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){L()}Is(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hY(this)}getSize(e){return w.resolve(this.size)}}class hY extends class iY{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class fY{constructor(e){this.persistence=e,this.Ts=new As(t=>Mo(t),Uc),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Es=0,this.As=new zC,this.targetCount=0,this.Rs=Fo.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),w.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.vn(t),w.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.As.containsKey(t))}}class YO{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Yn(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new fY(this),this.indexManager=new YQ,this.remoteDocumentCache=new dY(r=>this.referenceDelegate.Ss(r)),this.wt=new AO(t),this.Ds=new lY(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new cY(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new pY(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class pY extends class OJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.ks=new zC,this.Os=null}static Ms(e){return new Fp(e)}get Fs(){if(this.Os)return this.Os;throw L()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),w.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Fs,r=>{const i=k.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,X.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return w.or([()=>w.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class JC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=ye(),i=ye();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JC(e,t.fromCache,r,i)}}class ZO{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){return w.resolve(null)}xi(e,t,r,i){return function ZJ(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(X.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(t,s);return this.Oi(t,o,r,i)?this.Ni(e,t):(CC()<=Oe.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),NC(t)),this.Mi(e,o,t,function gR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new dt(t+1,0):new dt(t,r));return new hr(i,k.empty(),e)}(i,-1)))})}ki(e,t){let r=new qe(HR(e));return t.forEach((i,s)=>{RC(e,s)&&(r=r.add(s))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return CC()<=Oe.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",NC(t)),this.Di.getDocumentsMatchingQuery(e,t,hr.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gY{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new vt(fe),this.Bi=new As(s=>Mo(s),Uc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QO(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function tP(n,e){return QC.apply(this,arguments)}function QC(){return QC=g(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}),QC.apply(this,arguments)}function yY(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);te(null!==m),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ye();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nP(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function vY(n,e){const t=N(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Vs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Vs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,v;e.targetMismatches.has(d)?f=f.withResumeToken(Gt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),m=f,v=c,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.Vs.updateTargetData(s,f))});let l=Xn(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function rP(n,e,t){let r=ye(),i=ye();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Xn();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(c=>{l=c.Gi,u=c.Qi})),!r.isEqual(X.min())){const c=t.Vs.getLastRemoteSnapshotVersion(s).next(d=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.$i=i,s))}function _Y(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vl(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Vs.allocateTargetId(r).next(o=>(i=new xs(e,o,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function _l(n,e,t){return YC.apply(this,arguments)}function YC(){return YC=g(function*(n,e,t){const r=N(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bs(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),YC.apply(this,arguments)}function Vp(n,e,t){const r=N(n);let i=X.min(),s=ye();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=N(a),d=c.Bi.get(u);return void 0!==d?w.resolve(c.$i.get(d)):c.Vs.getTargetData(l,u)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,t?i:X.min(),t?s:ye())).next(a=>(function oP(n,e,t){let r=X.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}(r,function jR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ji:s})))}class nw{constructor(){this.activeTargetIds=Ip()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uP{constructor(){this.Fr=new nw,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new nw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EY{Br(e){}shutdown(){}}class cP{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class DY{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class SY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw pp("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ao(e,t,r,i,s,o){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${bY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new SJ;a.listenOnce(EJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case _C.NO_ERROR:const u=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(u)),s(u);break;case _C.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new I(E.DEADLINE_EXCEEDED,"Request time out"));break;case _C.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new I(h,d.message))}else o(new I(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new I(E.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CJ(),o=wJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new DJ({})),this.uo(a.initMessageHeaders,t,r),T2()||x2()||function h$(){return Jt().indexOf("Electron/")>=0}()||k2()||function f$(){return Jt().indexOf("MSAppHost/")>=0}()||A2()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new DY({jr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(c||(M("Connection","Opening WebChannel transport."),u.open(),c=!0),M("Connection","WebChannel sending:",p),u.send(p))},Wr:()=>u.close()}),f=(p,m,v)=>{p.listen(m,b=>{try{v(b)}catch(_){setTimeout(()=>{throw _},0)}})};return f(u,fp.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(u,fp.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.eo())}),f(u,fp.EventType.ERROR,p=>{d||(d=!0,pp("Connection","WebChannel transport errored:",p),h.eo(new I(E.UNAVAILABLE,"The operation could not be completed")))}),f(u,fp.EventType.MESSAGE,p=>{var m;if(!d){const v=p.data[0];te(!!v);const b=v,_=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(_){M("Connection","WebChannel received error:",_);const T=_.status;let V=function(_e){const nt=Rt[_e];if(void 0!==nt)return rO(nt)}(T),z=_.message;void 0===V&&(V=E.INTERNAL,z="Unknown error status: "+T+" with message "+_.message),d=!0,h.eo(new I(V,z)),u.close()}else M("Connection","WebChannel received:",v),h.no(v)}}),f(o,bJ.STAT_EVENT,p=>{p.stat===cR.PROXY?M("Connection","Detected buffering proxy"):p.stat===cR.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function jp(){return"undefined"!=typeof document?document:null}function od(n){return new mQ(n,!0)}class iw{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class hP{constructor(e,t,r,i,s,o,a,l){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new iw(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return g(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return g(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return g(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(kt(t.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new I(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(g(function*(){e.state=0,e.start()}))}qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IY extends hP{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function vQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:L(),i=e.targetChange.targetIds||[],s=function(l,u){return l.dt?(te(void 0===u||"string"==typeof u),Gt.fromBase64String(u||"")):(te(void 0===u||u instanceof Uint8Array),Gt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?E.UNKNOWN:rO(l.code);return new I(u,l.message||"")}(o);t=new lO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_i(n,r.document.name),s=en(r.document.updateTime),o=new mn({mapValue:{fields:r.document.fields}}),a=tt.newFoundDocument(i,s,o);t=new Mp(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=_i(n,r.document),s=r.readTime?en(r.readTime):X.min(),o=tt.newNoDocument(i,s);t=new Mp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_i(n,r.document);t=new Mp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,s=new aQ(r.count||0);t=new aO(r.targetId,s)}}var l;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return X.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?en(s.readTime):X.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Qc(this.wt),t.addTarget=function(i,s){let o;const a=s.target;return o=wp(a)?{documents:vO(i,a)}:{query:_O(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=hO(i,s.resumeToken):s.snapshotVersion.compareTo(X.min())>0&&(o.readTime=Kc(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function CQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=Qc(this.wt),t.removeTarget=e,this.Mo(t)}}class MY extends hP{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function _Q(n,e){return n&&n.length>0?(te(void 0!==e),n.map(t=>function(r,i){let s=en(r.updateTime?r.updateTime:i);return s.isEqual(X.min())&&(s=en(i)),new iQ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=en(e.commitTime);return this.listener.Jo(r,t)}return te(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Qc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Yc(n,e){let t;if(e instanceof hl)t={update:gO(n,e.key,e.value)};else if(e instanceof fl)t={delete:Jc(n,e.key)};else if(e instanceof zi)t={update:gO(n,e.key,e.data),updateMask:SQ(e.fieldMask)};else{if(!(e instanceof OC))return L();t={verify:Jc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof cl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof dl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw L()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),t;var i}(this.wt,r))};this.Mo(t)}}class TY extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new I(E.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new I(E.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new I(E.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class AY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(kt(t),this.su=!1):M("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class xY{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(g(function*(){var l;Rs(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(u){const c=N(u);c.lu.add(4),yield Cl(c),c._u.set("Unknown"),c.lu.delete(4),yield ad(c)}),function(u){return l.apply(this,arguments)})(o))}))}),this._u=new AY(r,i)}}function ad(n){return sw.apply(this,arguments)}function sw(){return sw=g(function*(n){if(Rs(n))for(const e of n.fu)yield e(!0)}),sw.apply(this,arguments)}function Cl(n){return ow.apply(this,arguments)}function ow(){return ow=g(function*(n){for(const e of n.fu)yield e(!1)}),ow.apply(this,arguments)}function Hp(n,e){const t=N(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),uw(t)?lw(t):El(t).Co()&&aw(t,e))}function ld(n,e){const t=N(n),r=El(t);t.hu.delete(e),r.Co()&&fP(t,e),0===t.hu.size&&(r.Co()?r.ko():Rs(t)&&t._u.set("Unknown"))}function aw(n,e){n.wu.Nt(e.targetId),El(n).Qo(e)}function fP(n,e){n.wu.Nt(e),El(n).jo(e)}function lw(n){n.wu=new hQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),El(n).start(),n._u.iu()}function uw(n){return Rs(n)&&!El(n).Do()&&n.hu.size>0}function Rs(n){return 0===N(n).lu.size}function pP(n){n.wu=void 0}function kY(n){return cw.apply(this,arguments)}function cw(){return cw=g(function*(n){n.hu.forEach((e,t)=>{aw(n,e)})}),cw.apply(this,arguments)}function NY(n,e){return dw.apply(this,arguments)}function dw(){return dw=g(function*(n,e){pP(n),uw(n)?(n._u.uu(e),lw(n)):n._u.set("Unknown")}),dw.apply(this,arguments)}function RY(n,e,t){return hw.apply(this,arguments)}function hw(){return hw=g(function*(n,e,t){if(n._u.set("Online"),e instanceof lO&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gp(n,r)}else if(e instanceof Mp?n.wu.Ut(e):e instanceof aO?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(X.min()))try{const r=yield nP(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.hu.get(l);u&&i.hu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.hu.get(a);if(!l)return;i.hu.set(a,l.withResumeToken(Gt.EMPTY_BYTE_STRING,l.snapshotVersion)),fP(i,a);const u=new xs(l.target,a,1,l.sequenceNumber);aw(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Gp(n,r)}var r}),hw.apply(this,arguments)}function Gp(n,e,t){return fw.apply(this,arguments)}function fw(){return fw=g(function*(n,e,t){if(!bs(e))throw e;n.lu.add(1),yield Cl(n),n._u.set("Offline"),t||(t=()=>nP(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield ad(n)}))}),fw.apply(this,arguments)}function mP(n,e){return e().catch(t=>Gp(n,t,e))}function wl(n){return pw.apply(this,arguments)}function pw(){return pw=g(function*(n){const e=N(n),t=Os(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;OY(e);)try{const i=yield _Y(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,PY(e,i)}catch(i){yield Gp(e,i)}gP(e)&&yP(e)}),pw.apply(this,arguments)}function OY(n){return Rs(n)&&n.au.length<10}function PY(n,e){n.au.push(e);const t=Os(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function gP(n){return Rs(n)&&!Os(n).Do()&&n.au.length>0}function yP(n){Os(n).start()}function FY(n){return mw.apply(this,arguments)}function mw(){return mw=g(function*(n){Os(n).Xo()}),mw.apply(this,arguments)}function LY(n){return gw.apply(this,arguments)}function gw(){return gw=g(function*(n){const e=Os(n);for(const t of n.au)e.Ho(t.mutations)}),gw.apply(this,arguments)}function VY(n,e,t){return yw.apply(this,arguments)}function yw(){return yw=g(function*(n,e,t){const r=n.au.shift(),i=UC.from(r,e,t);yield mP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield wl(n)}),yw.apply(this,arguments)}function BY(n,e){return vw.apply(this,arguments)}function vw(){return vw=g(function*(n,e){var t;e&&Os(n).zo&&(yield(t=g(function*(r,i){if(nO(s=i.code)&&s!==E.ABORTED){const o=r.au.shift();Os(r).No(),yield mP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield wl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),gP(n)&&yP(n)}),vw.apply(this,arguments)}function vP(n,e){return _w.apply(this,arguments)}function _w(){return _w=g(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Rs(t);t.lu.add(3),yield Cl(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ad(t)}),_w.apply(this,arguments)}function ww(){return ww=g(function*(n,e){const t=N(n);e?(t.lu.delete(2),yield ad(t)):e||(t.lu.add(2),yield Cl(t),t._u.set("Unknown"))}),ww.apply(this,arguments)}function El(n){return n.mu||(n.mu=function(e,t,r){const i=N(e);return i.tu(),new IY(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:kY.bind(null,n),Jr:NY.bind(null,n),Go:RY.bind(null,n)}),n.fu.push(function(){var e=g(function*(t){t?(n.mu.No(),uw(n)?lw(n):n._u.set("Unknown")):(yield n.mu.stop(),pP(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Os(n){return n.gu||(n.gu=function(e,t,r){const i=N(e);return i.tu(),new MY(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:FY.bind(null,n),Jr:BY.bind(null,n),Yo:LY.bind(null,n),Jo:VY.bind(null,n)}),n.fu.push(function(){var e=g(function*(t){t?(n.gu.No(),yield wl(n)):(yield n.gu.stop(),n.au.length>0&&(M("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Ew{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Ew(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(n,e){if(kt("AsyncQueue",`${e}: ${n}`),bs(n))return new I(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Dl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||k.comparator(t.key,r.key):(t,r)=>k.comparator(t.key,r.key),this.keyedMap=$c(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new Dl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _P{constructor(){this.yu=new vt(k.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):L():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sl{constructor(e,t,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Sl(e,t,Dl.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class UY{constructor(){this.Iu=void 0,this.listeners=[]}}class jY{constructor(){this.queries=new As(e=>UR(e),jc),this.onlineState="Unknown",this.Tu=new Set}}function bw(n,e){return Dw.apply(this,arguments)}function Dw(){return Dw=g(function*(n,e){const t=N(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new UY),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=bl(o,`Initialization of query '${NC(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&Mw(t)}),Dw.apply(this,arguments)}function Sw(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=g(function*(n,e){const t=N(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Iw.apply(this,arguments)}function HY(n,e){const t=N(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&Mw(t)}function GY(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Mw(n){n.Tu.forEach(e=>{e.next()})}class Tw{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class EP{constructor(e){this.key=e}}class bP{constructor(e){this.key=e}}class DP{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ye(),this.mutatedKeys=ye(),this.Lu=HR(e),this.Uu=new Dl(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new _P,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=RC(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),v=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.Lu(f,l)>0||u&&this.Lu(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(u.type,c.type)||this.Lu(u.doc,c.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,l=a!==this.$u;return this.$u=a,0!==s.length||l?{snapshot:new Sl(this.query,e.Uu,i,s,e.mutatedKeys,0===a,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new _P,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ye(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new bP(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new EP(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=ye();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Sl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class qY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WY{constructor(e){this.key=e,this.Xu=!1}}class KY{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new As(a=>UR(a),jc),this.ec=new Map,this.nc=new Set,this.sc=new vt(k.comparator),this.ic=new Map,this.rc=new zC,this.oc={},this.uc=new Map,this.cc=Fo.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function JY(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=g(function*(n,e){const t=Xw(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield vl(t.localStore,Tr(e));t.isPrimaryClient&&Hp(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield xw(t,e,r,"current"===a)}return i}),Aw.apply(this,arguments)}function xw(n,e,t,r){return kw.apply(this,arguments)}function kw(){return kw=g(function*(n,e,t,r){n.hc=(c,d,h)=>{return(f=g(function*(p,m,v,b){let _=m.view.Ku(v);_.Oi&&(_=yield Vp(p.localStore,m.query,!1).then(({documents:z})=>m.view.Ku(z,_)));const T=b&&b.targetChanges.get(m.targetId),V=m.view.applyChanges(_,p.isPrimaryClient,T);return jw(p,m.targetId,V.zu),V.snapshot}),function(p,m,v,b){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Vp(n.localStore,e,!0),s=new DP(e,i.ji),o=s.Ku(i.documents),a=Wc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);jw(n,t,l.zu);const u=new qY(e,t,s);return n.tc.set(e,u),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),l.snapshot}),kw.apply(this,arguments)}function QY(n,e){return Nw.apply(this,arguments)}function Nw(){return Nw=g(function*(n,e){const t=N(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!jc(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _l(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ld(t.remoteStore,r.targetId),Il(t,r.targetId)}).catch(Es))):(Il(t,r.targetId),yield _l(t.localStore,r.targetId,!0))}),Nw.apply(this,arguments)}function Rw(){return Rw=g(function*(n,e,t){const r=Zw(n);try{const i=yield function(s,o){const a=N(s),l=dt.now(),u=o.reduce((h,f)=>h.add(f.key),ye());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Xn(),p=ye();return a.Ui.getEntries(h,u).next(m=>{f=m,f.forEach((v,b)=>{b.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const v=[];for(const b of o){const _=oQ(b,c.get(b.key).overlayedDocument);null!=_&&v.push(new zi(b.key,_,kR(_.value.mapValue),ht.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,v,o)}).next(m=>{d=m;const v=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,v)})}).then(()=>({batchId:d.batchId,changes:sO(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.oc[s.currentUser.toKey()];l||(l=new vt(fe)),l=l.insert(o,a),s.oc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield qi(r,i.changes),yield wl(r.remoteStore)}catch(i){const s=bl(i,"Failed to persist write");t.reject(s)}}),Rw.apply(this,arguments)}function SP(n,e){return Ow.apply(this,arguments)}function Ow(){return Ow=g(function*(n,e){const t=N(n);try{const r=yield vY(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ic.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?te(o.Xu):i.removedDocuments.size>0&&(te(o.Xu),o.Xu=!1))}),yield qi(t,r,e)}catch(r){yield Es(r)}}),Ow.apply(this,arguments)}function IP(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Eu(o)&&(l=!0)}),l&&Mw(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XY(n,e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=g(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new vt(k.comparator);o=o.insert(s,tt.newNoDocument(s,X.min()));const a=ye().add(s),l=new qc(X.min(),new Map,new qe(fe),o,a);yield SP(r,l),r.sc=r.sc.remove(s),r.ic.delete(e),Hw(r)}else yield _l(r.localStore,e,!1).then(()=>Il(r,e,t)).catch(Es)}),Pw.apply(this,arguments)}function ZY(n,e){return Fw.apply(this,arguments)}function Fw(){return Fw=g(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield yY(t.localStore,e);Uw(t,r,null),Bw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qi(t,i)}catch(i){yield Es(i)}}),Fw.apply(this,arguments)}function eX(n,e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=g(function*(n,e,t){const r=N(n);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(te(null!==c),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Uw(r,e,t),Bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qi(r,i)}catch(i){yield Es(i)}}),Lw.apply(this,arguments)}function Bw(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Uw(n,e,t){const r=N(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Il(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||MP(n,r)})}function MP(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(ld(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Hw(n))}function jw(n,e,t){for(const r of t)r instanceof EP?(n.rc.addReference(r.key,e),nX(n,r)):r instanceof bP?(M("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||MP(n,r.key)):L()}function nX(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.nc.add(r),Hw(n))}function Hw(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new k(ke.fromString(e)),r=n.cc.next();n.ic.set(r,new WY(t)),n.sc=n.sc.insert(t,r),Hp(n.remoteStore,new xs(Tr(ll(t.path)),r,2,Yn.ot))}}function qi(n,e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=g(function*(n,e,t){const r=N(n),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,l)=>{o.push(r.hc(l,e,t).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=JC.Vi(l.targetId,u);s.push(c)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=g(function*(l,u){const c=N(l);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!bs(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.$i.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.$i=c.$i.insert(h,m)}}}),function(l,u){return a.apply(this,arguments)})(r.localStore,s))}),Gw.apply(this,arguments)}function rX(n,e){return $w.apply(this,arguments)}function $w(){return $w=g(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield tP(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(o=>{o.forEach(a=>{a.reject(new I(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qi(t,r.Ki)}var i}),$w.apply(this,arguments)}function iX(n,e){const t=N(n),r=t.ic.get(e);if(r&&r.Xu)return ye().add(r.key);{let i=ye();const s=t.ec.get(e);if(!s)return i;for(const o of s){const a=t.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function Xw(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XY.bind(null,e),e.Zu.Go=HY.bind(null,e.eventManager),e.Zu.lc=GY.bind(null,e.eventManager),e}function Zw(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eX.bind(null,e),e}class fX{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.wt=od(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function eP(n,e,t,r){return new gY(n,e,t,r)}(this.persistence,new ZO,e.initialUser,this.wt)}_c(e){return new YO(Fp.Ms,this.wt)}dc(e){return new uP}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eE{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=rX.bind(null,r.syncEngine),yield function Cw(n,e){return ww.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jY}createDatastore(e){const t=od(e.databaseInfo.databaseId),r=new SY(e.databaseInfo);return new TY(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>IP(this.syncEngine,a,0),o=cP.V()?new cP:new EY,new xY(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,u){const c=new KY(r,i,s,o,a,l);return u&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=N(t);M("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Cl(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class $p{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _X{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=pR.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kP(n,e){return tE.apply(this,arguments)}function tE(){return tE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield tP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tE.apply(this,arguments)}function NP(n,e){return nE.apply(this,arguments)}function nE(){return nE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rE(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>vP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>vP(e.remoteStore,s)),n.onlineComponents=e}),nE.apply(this,arguments)}function rE(n){return iE.apply(this,arguments)}function iE(){return iE=g(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield kP(n,new fX)),n.offlineComponents}),iE.apply(this,arguments)}function zp(n){return sE.apply(this,arguments)}function sE(){return sE=g(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield NP(n,new eE)),n.onlineComponents}),sE.apply(this,arguments)}function Ml(n){return lE.apply(this,arguments)}function lE(){return lE=g(function*(n){const e=yield zp(n),t=e.eventManager;return t.onListen=JY.bind(null,e.syncEngine),t.onUnlisten=QY.bind(null,e.syncEngine),t}),lE.apply(this,arguments)}const LP=new Map;function uE(n,e,t){if(!t)throw new I(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VP(n){if(!k.isDocumentKey(n))throw new I(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BP(n){if(k.isDocumentKey(n))throw new I(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":L()}function Re(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new I(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qp(n);throw new I(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class jP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new I(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function TX(n,e,t,r){if(!0===e&&!0===r)throw new I(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jP({}),this._settingsFrozen=!1,e instanceof Ss?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new I(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(i.options.projectId)}(e))}get app(){if(!this._app)throw new I(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new IJ;switch(t.type){case"gapi":const r=t.client;return te(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new xJ(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new I(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LP.get(e);t&&(M("ComponentProvider","Removing Datastore"),LP.delete(e),t.terminate())}(this),Promise.resolve()}}class Et{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}}class An{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new An(this.firestore,e,this._query)}}class wi extends An{constructor(e,t,r){super(e,t,ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new k(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function HP(n,e,...t){if(n=Ir(n),uE("collection","path",e),n instanceof ud){const r=ke.fromString(e,...t);return BP(r),new wi(n,null,r)}{if(!(n instanceof Et||n instanceof wi))throw new I(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return BP(r),new wi(n.firestore,null,r)}}function cE(n,e,...t){if(n=Ir(n),1===arguments.length&&(e=pR.I()),uE("doc","path",e),n instanceof ud){const r=ke.fromString(e,...t);return VP(r),new Et(n,null,new k(r))}{if(!(n instanceof Et||n instanceof wi))throw new I(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return VP(r),new Et(n.firestore,n instanceof wi?n.converter:null,new k(r))}}class xX{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new iw(this,"async_queue_retry"),this.Kc=()=>{const t=jp();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Zt;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return g(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!bs(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,kt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=Ew.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&L()}verifyOperationInProgress(){}zc(){var e=this;return g(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class at extends ud{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xX,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||GP(this),this._firestoreClient.terminate()}}function $t(n){return n._firestoreClient||GP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GP(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new UJ(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new _X(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Tl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Gt.fromBase64String(e))}catch(t){throw new I(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qP{constructor(e){this._methodName=e}}class hE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}const RX=/^__.*__$/;class OX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)}}function KP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Wp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Jp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(KP(this.Zc)&&RX.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class PX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||od(e)}aa(e,t,r,i=!1){return new Wp({Zc:e,methodName:t,ca:r,path:Nt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Al(n){const e=n._freezeSettings(),t=od(n._databaseId);return new PX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fE(n,e,t,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,e,t,i);mE("Data must be an object, but it was:",o,r);const a=ZP(r,o);let l,u;if(s.merge)l=new fr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=gE(e,d,t);if(!o.contains(h))throw new I(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t3(c,h)||c.push(h)}l=new fr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new OX(new mn(a),l,u)}function Bo(n,e){if(e3(n=Ir(n)))return mE("Unsupported field value:",e,n),ZP(n,e);if(n instanceof qP)return function(t,r){if(!KP(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Bo(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Ir(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zR(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dt.fromDate(t);return{timestampValue:Kc(r.wt,i)}}if(t instanceof dt){const i=new dt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kc(r.wt,i)}}if(t instanceof hE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vo)return{bytesValue:hO(r.wt,t._byteString)};if(t instanceof Et){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:PC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${qp(t)}`)}(n,e)}function ZP(n,e){const t={};return wR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(n,(r,i)=>{const s=Bo(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function e3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof hE||n instanceof Vo||n instanceof Et||n instanceof qP)}function mE(n,e,t){if(!e3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qp(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function gE(n,e,t){if((e=Ir(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return Kp(n,e);throw Jp("Field path arguments must be of type string or ",n,!1,void 0,t)}const BX=new RegExp("[~\\*/\\[\\]]");function Kp(n,e,t){if(e.search(BX)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tl(...e.split("."))._internalPath}catch(r){throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new I(E.INVALID_ARGUMENT,a+n+l)}function t3(n,e){return n.some(t=>t.isEqual(e))}class yE{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UX extends yE{data(){return super.data()}}function Qp(n,e){return"string"==typeof e?Kp(n,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}class Uo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends yE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yp extends xl{data(e={}){return super.data(e)}}class kl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yp(this._firestore,this._userDataWriter,r.key,r,new Uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:jX(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function dd(n,...e){for(const t of e)n=t._apply(n);return n}class GX extends class HX{}{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Al(e.firestore),r=function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new I(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){l3(c,u);const f=[];for(const p of c)f.push(a3(a,i,p));d={arrayValue:{values:f}}}else d=a3(a,i,c)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||l3(c,u),d=function XP(n,e,t,r=!1){return Bo(t,n.aa(r?4:3,e))}(o,"where",c,"in"===u||"not-in"===u);const h=gn.create(l,u,d);return function(f,p){if(p.ht()){const v=xC(f);if(null!==v&&!v.isEqual(p.field))throw new I(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${p.field.toString()}'`);const b=AC(f);null!==b&&function u3(n,e,t){if(!t.isEqual(e))throw new I(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,p.field,b)}const m=function(v,b){for(const _ of v.filters)if(b.indexOf(_.op)>=0)return _.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==m)throw new I(E.INVALID_ARGUMENT,m===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${m.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new An(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new $i(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Ar(n,e,t){const r=e,i=Qp("where",n);return new GX(i,r,t)}function a3(n,e,t){if("string"==typeof(t=Ir(t))){if(""===t)throw new I(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&-1!==t.indexOf("/"))throw new I(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ke.fromString(t));if(!k.isDocumentKey(r))throw new I(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Io(n,new k(r))}if(t instanceof Et)return Io(n,t._key);throw new I(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(t)}.`)}function l3(n,e){if(!Array.isArray(n)||0===n.length)throw new I(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new I(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function c3(n){n=Re(n,Et);const e=Re(n.firestore,at);return function PP(n,e,t={}){const r=new Zt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,l){const u=new $p({next:d=>{s.enqueueAndForget(()=>Sw(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new I(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new I(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Tw(ll(o.path),u,{includeMetadataChanges:!0,Du:!0});return bw(i,c)}(yield Ml(n),n.asyncQueue,e,t,r)})),r.promise}($t(e),n._key).then(t=>function _E(n,e,t){const r=t.docs.get(e._key),i=new jo(n);return new xl(n,i,e._key,r,new Uo(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class jo extends class qX{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw L()}}convertObject(e,t){const r={};return bo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new hE(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ke.fromString(e);te(EO(r));const i=new Ss(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(t)||kt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function hd(n){n=Re(n,An);const e=Re(n.firestore,at),t=$t(e),r=new jo(e);return function n3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new I(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FP(n,e,t={}){const r=new Zt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,l){const u=new $p({next:d=>{s.enqueueAndForget(()=>Sw(i,c)),d.fromCache&&"server"===a.source?l.reject(new I(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Tw(o,u,{includeMetadataChanges:!0,Du:!0});return bw(i,c)}(yield Ml(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new kl(e,r,n,i))}function fd(n,e){return function(t,r){const i=new Zt;return t.asyncQueue.enqueueAndForget(g(function*(){return function YY(n,e,t){return Rw.apply(this,arguments)}(yield function aE(n){return zp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}($t(n),e)}!function(n,e=!0){rl="9.8.4",Ja(new uo("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new at(i,new TJ(t.getProvider("auth-internal")),new kJ(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),ms(dR,"3.4.11",n),ms(dR,"3.4.11","esm2017")}();var YX=zt(28);let XX=(()=>{let n=class{constructor(){this._papa=YX}parse(t,r){return this._papa.parse(t,r)}unparse(t,r){return this._papa.unparse(t,r)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({factory:function(){return new n},token:n,providedIn:"root"}),n})(),h3=(()=>{class n{constructor(t){this.papa=t}getData(){return this.papa.parse('"PassengerId","Survived","Pclass","FirstName","Name","Sex","Age","SibSp","Parch","Ticket","Fare","Cabin","Embarked", \r 1, 0, 3, Braund, Mr. Owen Harris, male, 22, 1, 0, A / 5 21171, 7.25,, S, \r 2, 1, 1, Cumings, Mrs. John Bradley (Florence Briggs Thayer), female, 38, 1, 0, PC 17599, 71.2833, C85, C, \r 3, 1, 3, Heikkinen, Miss. Laina, female, 26, 0, 0, STON / O2. 3101282, 7.925,, S, \r 4, 1, 1, Futrelle, Mrs. Jacques Heath (Lily May Peel), female, 35, 1, 0, 113803, 53.1, C123, S, \r 5, 0, 3, Allen, Mr. William Henry, male, 35, 0, 0, 373450, 8.05,, S, \r 6, 0, 3, Moran, Mr. James, male,, 0, 0, 330877, 8.4583,, Q, \r 7, 0, 1, McCarthy, Mr. Timothy J, male, 54, 0, 0, 17463, 51.8625, E46, S, \r 8, 0, 3, Palsson, Master. Gosta Leonard, male, 2, 3, 1, 349909, 21.075,, S, \r 9, 1, 3, Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg), female, 27, 0, 2, 347742, 11.1333,, S, \r 10, 1, 2, Nasser, Mrs. Nicholas (Adele Achem), female, 14, 1, 0, 237736, 30.0708,, C, \r 11, 1, 3, Sandstrom, Miss. Marguerite Rut, female, 4, 1, 1, PP 9549, 16.7, G6, S, \r 12, 1, 1, Bonnell, Miss. Elizabeth, female, 58, 0, 0, 113783, 26.55, C103, S, \r 13, 0, 3, Saundercock, Mr. William Henry, male, 20, 0, 0, A / 5. 2151, 8.05,, S, \r 14, 0, 3, Andersson, Mr. Anders Johan, male, 39, 1, 5, 347082, 31.275,, S, \r 15, 0, 3, Vestrom, Miss. Hulda Amanda Adolfina, female, 14, 0, 0, 350406, 7.8542,, S, \r 16, 1, 2, Hewlett, Mrs. (Mary D Kingcome) , female, 55, 0, 0, 248706, 16,, S, \r 17, 0, 3, Rice, Master. Eugene, male, 2, 4, 1, 382652, 29.125,, Q, \r 18, 1, 2, Williams, Mr. Charles Eugene, male,, 0, 0, 244373, 13,, S, \r 19, 0, 3, Vander Planke, Mrs. Julius (Emelia Maria Vandemoortele), female, 31, 1, 0, 345763, 18,, S, \r 20, 1, 3, Masselmani, Mrs. Fatima, female,, 0, 0, 2649, 7.225,, C, \r 21, 0, 2, Fynney, Mr. Joseph J, male, 35, 0, 0, 239865, 26,, S, \r 22, 1, 2, Beesley, Mr. Lawrence, male, 34, 0, 0, 248698, 13, D56, S, \r 23, 1, 3, McGowan, Miss. Anna Annie, female, 15, 0, 0, 330923, 8.0292,, Q, \r 24, 1, 1, Sloper, Mr. William Thompson, male, 28, 0, 0, 113788, 35.5, A6, S, \r 25, 0, 3, Palsson, Miss. Torborg Danira, female, 8, 3, 1, 349909, 21.075,, S, \r 26, 1, 3, Asplund, Mrs. Carl Oscar (Selma Augusta Emilia Johansson), female, 38, 1, 5, 347077, 31.3875,, S, \r 27, 0, 3, Emir, Mr. Farred Chehab, male,, 0, 0, 2631, 7.225,, C, \r 28, 0, 1, Fortune, Mr. Charles Alexander, male, 19, 3, 2, 19950, 263, C23 C25 C27, S, \r 29, 1, 3, O\'Dwyer, Miss. Ellen Nellie, female,, 0, 0, 330959, 7.8792,, Q, \r 30, 0, 3, Todoroff, Mr. Lalio, male,, 0, 0, 349216, 7.8958,, S, \r 31, 0, 1, Uruchurtu, Don. Manuel E, male, 40, 0, 0, PC 17601, 27.7208,, C, \r 32, 1, 1, Spencer, Mrs. William Augustus (Marie Eugenie), female,, 1, 0, PC 17569, 146.5208, B78, C, \r 33, 1, 3, Glynn, Miss. Mary Agatha, female,, 0, 0, 335677, 7.75,, Q, \r 34, 0, 2, Wheadon, Mr. Edward H, male, 66, 0, 0, C.A. 24579, 10.5,, S, \r 35, 0, 1, Meyer, Mr. Edgar Joseph, male, 28, 1, 0, PC 17604, 82.1708,, C, \r 36, 0, 1, Holverson, Mr. Alexander Oskar, male, 42, 1, 0, 113789, 52,, S, \r 37, 1, 3, Mamee, Mr. Hanna, male,, 0, 0, 2677, 7.2292,, C, \r 38, 0, 3, Cann, Mr. Ernest Charles, male, 21, 0, 0, A./ 5. 2152, 8.05,, S, \r 39, 0, 3, Vander Planke, Miss. Augusta Maria, female, 18, 2, 0, 345764, 18,, S, \r 40, 1, 3, Nicola-Yarred, Miss. Jamila, female, 14, 1, 0, 2651, 11.2417,, C, \r 41, 0, 3, Ahlin, Mrs. Johan (Johanna Persdotter Larsson), female, 40, 1, 0, 7546, 9.475,, S, \r 42, 0, 2, Turpin, Mrs. William John Robert (Dorothy Ann Wonnacott), female, 27, 1, 0, 11668, 21,, S, \r 43, 0, 3, Kraeff, Mr. Theodor, male,, 0, 0, 349253, 7.8958,, C, \r 44, 1, 2, Laroche, Miss. Simonne Marie Anne Andree, female, 3, 1, 2, SC / Paris 2123, 41.5792,, C, \r 45, 1, 3, Devaney, Miss. Margaret Delia, female, 19, 0, 0, 330958, 7.8792,, Q, \r 46, 0, 3, Rogers, Mr. William John, male,, 0, 0, S.C./ A.4. 23567, 8.05,, S, \r 47, 0, 3, Lennon, Mr. Denis, male,, 1, 0, 370371, 15.5,, Q, \r 48, 1, 3, O\'Driscoll, Miss. Bridget, female,, 0, 0, 14311, 7.75,, Q, \r 49, 0, 3, Samaan, Mr. Youssef, male,, 2, 0, 2662, 21.6792,, C, \r 50, 0, 3, Arnold-Franchi, Mrs. Josef (Josefine Franchi), female, 18, 1, 0, 349237, 17.8,, S, \r 51, 0, 3, Panula, Master. Juha Niilo, male, 7, 4, 1, 3101295, 39.6875,, S, \r 52, 0, 3, Nosworthy, Mr. Richard Cater, male, 21, 0, 0, A / 4. 39886, 7.8,, S, \r 53, 1, 1, Harper, Mrs. Henry Sleeper (Myna Haxtun), female, 49, 1, 0, PC 17572, 76.7292, D33, C, \r 54, 1, 2, Faunthorpe, Mrs. Lizzie (Elizabeth Anne Wilkinson), female, 29, 1, 0, 2926, 26,, S, \r 55, 0, 1, Ostby, Mr. Engelhart Cornelius, male, 65, 0, 1, 113509, 61.9792, B30, C, \r 56, 1, 1, Woolner, Mr. Hugh, male,, 0, 0, 19947, 35.5, C52, S, \r 57, 1, 2, Rugg, Miss. Emily, female, 21, 0, 0, C.A. 31026, 10.5,, S, \r 58, 0, 3, Novel, Mr. Mansouer, male, 28.5, 0, 0, 2697, 7.2292,, C, \r 59, 1, 2, West, Miss. Constance Mirium, female, 5, 1, 2, C.A. 34651, 27.75,, S, \r 60, 0, 3, Goodwin, Master. William Frederick, male, 11, 5, 2, CA 2144, 46.9,, S, \r 61, 0, 3, Sirayanian, Mr. Orsen, male, 22, 0, 0, 2669, 7.2292,, C, \r 62, 1, 1, Icard, Miss. Amelie, female, 38, 0, 0, 113572, 80, B28,, \r   63, 0, 1, Harris, Mr. Henry Birkhardt, male, 45, 1, 0, 36973, 83.475, C83, S, \r 64, 0, 3, Skoog, Master. Harald, male, 4, 3, 2, 347088, 27.9,, S, \r 65, 0, 1, Stewart, Mr. Albert A, male,, 0, 0, PC 17605, 27.7208,, C, \r 66, 1, 3, Moubarek, Master. Gerios, male,, 1, 1, 2661, 15.2458,, C, \r 67, 1, 2, Nye, Mrs. (Elizabeth Ramell), female, 29, 0, 0, C.A. 29395, 10.5, F33, S, \r 68, 0, 3, Crease, Mr. Ernest James, male, 19, 0, 0, S.P. 3464, 8.1583,, S, \r 69, 1, 3, Andersson, Miss. Erna Alexandra, female, 17, 4, 2, 3101281, 7.925,, S, \r 70, 0, 3, Kink, Mr. Vincenz, male, 26, 2, 0, 315151, 8.6625,, S, \r 71, 0, 2, Jenkin, Mr. Stephen Curnow, male, 32, 0, 0, C.A. 33111, 10.5,, S, \r 72, 0, 3, Goodwin, Miss. Lillian Amy, female, 16, 5, 2, CA 2144, 46.9,, S, \r 73, 0, 2, Hood, Mr. Ambrose Jr, male, 21, 0, 0, S.O.C. 14879, 73.5,, S, \r 74, 0, 3, Chronopoulos, Mr. Apostolos, male, 26, 1, 0, 2680, 14.4542,, C, \r 75, 1, 3, Bing, Mr. Lee, male, 32, 0, 0, 1601, 56.4958,, S, \r 76, 0, 3, Moen, Mr. Sigurd Hansen, male, 25, 0, 0, 348123, 7.65, F G73, S, \r 77, 0, 3, Staneff, Mr. Ivan, male,, 0, 0, 349208, 7.8958,, S, \r 78, 0, 3, Moutal, Mr. Rahamin Haim, male,, 0, 0, 374746, 8.05,, S, \r 79, 1, 2, Caldwell, Master. Alden Gates, male, 0.83, 0, 2, 248738, 29,, S, \r 80, 1, 3, Dowdell, Miss. Elizabeth, female, 30, 0, 0, 364516, 12.475,, S, \r 81, 0, 3, Waelens, Mr. Achille, male, 22, 0, 0, 345767, 9,, S, \r 82, 1, 3, Sheerlinck, Mr. Jan Baptist, male, 29, 0, 0, 345779, 9.5,, S, \r 83, 1, 3, McDermott, Miss. Brigdet Delia, female,, 0, 0, 330932, 7.7875,, Q, \r 84, 0, 1, Carrau, Mr. Francisco M, male, 28, 0, 0, 113059, 47.1,, S, \r 85, 1, 2, Ilett, Miss. Bertha, female, 17, 0, 0, SO / C 14885, 10.5,, S, \r 86, 1, 3, Backstrom, Mrs. Karl Alfred (Maria Mathilda Gustafsson), female, 33, 3, 0, 3101278, 15.85,, S, \r 87, 0, 3, Ford, Mr. William Neal, male, 16, 1, 3, W./ C. 6608, 34.375,, S, \r 88, 0, 3, Slocovski, Mr. Selman Francis, male,, 0, 0, SOTON / OQ 392086, 8.05,, S, \r 89, 1, 1, Fortune, Miss. Mabel Helen, female, 23, 3, 2, 19950, 263, C23 C25 C27, S, \r 90, 0, 3, Celotti, Mr. Francesco, male, 24, 0, 0, 343275, 8.05,, S, \r 91, 0, 3, Christmann, Mr. Emil, male, 29, 0, 0, 343276, 8.05,, S, \r 92, 0, 3, Andreasson, Mr. Paul Edvin, male, 20, 0, 0, 347466, 7.8542,, S, \r 93, 0, 1, Chaffee, Mr. Herbert Fuller, male, 46, 1, 0, W.E.P. 5734, 61.175, E31, S, \r 94, 0, 3, Dean, Mr. Bertram Frank, male, 26, 1, 2, C.A. 2315, 20.575,, S, \r 95, 0, 3, Coxon, Mr. Daniel, male, 59, 0, 0, 364500, 7.25,, S, \r 96, 0, 3, Shorney, Mr. Charles Joseph, male,, 0, 0, 374910, 8.05,, S, \r 97, 0, 1, Goldschmidt, Mr. George B, male, 71, 0, 0, PC 17754, 34.6542, A5, C, \r 98, 1, 1, Greenfield, Mr. William Bertram, male, 23, 0, 1, PC 17759, 63.3583, D10 D12, C, \r 99, 1, 2, Doling, Mrs. John T (Ada Julia Bone), female, 34, 0, 1, 231919, 23,, S, \r 100, 0, 2, Kantor, Mr. Sinai, male, 34, 1, 0, 244367, 26,, S, \r 101, 0, 3, Petranec, Miss. Matilda, female, 28, 0, 0, 349245, 7.8958,, S, \r 102, 0, 3, Petroff, Mr. Pastcho (Pentcho), male,, 0, 0, 349215, 7.8958,, S, \r 103, 0, 1, White, Mr. Richard Frasar, male, 21, 0, 1, 35281, 77.2875, D26, S, \r 104, 0, 3, Johansson, Mr. Gustaf Joel, male, 33, 0, 0, 7540, 8.6542,, S, \r 105, 0, 3, Gustafsson, Mr. Anders Vilhelm, male, 37, 2, 0, 3101276, 7.925,, S, \r 106, 0, 3, Mionoff, Mr. Stoytcho, male, 28, 0, 0, 349207, 7.8958,, S, \r 107, 1, 3, Salkjelsvik, Miss. Anna Kristine, female, 21, 0, 0, 343120, 7.65,, S, \r 108, 1, 3, Moss, Mr. Albert Johan, male,, 0, 0, 312991, 7.775,, S, \r 109, 0, 3, Rekic, Mr. Tido, male, 38, 0, 0, 349249, 7.8958,, S, \r 110, 1, 3, Moran, Miss. Bertha, female,, 1, 0, 371110, 24.15,, Q, \r 111, 0, 1, Porter, Mr. Walter Chamberlain, male, 47, 0, 0, 110465, 52, C110, S, \r 112, 0, 3, Zabour, Miss. Hileni, female, 14.5, 1, 0, 2665, 14.4542,, C, \r 113, 0, 3, Barton, Mr. David John, male, 22, 0, 0, 324669, 8.05,, S, \r 114, 0, 3, Jussila, Miss. Katriina, female, 20, 1, 0, 4136, 9.825,, S, \r 115, 0, 3, Attalah, Miss. Malake, female, 17, 0, 0, 2627, 14.4583,, C, \r 116, 0, 3, Pekoniemi, Mr. Edvard, male, 21, 0, 0, STON / O 2. 3101294, 7.925,, S, \r 117, 0, 3, Connors, Mr. Patrick, male, 70.5, 0, 0, 370369, 7.75,, Q, \r 118, 0, 2, Turpin, Mr. William John Robert, male, 29, 1, 0, 11668, 21,, S, \r 119, 0, 1, Baxter, Mr. Quigg Edmond, male, 24, 0, 1, PC 17558, 247.5208, B58 B60, C, \r 120, 0, 3, Andersson, Miss. Ellis Anna Maria, female, 2, 4, 2, 347082, 31.275,, S, \r 121, 0, 2, Hickman, Mr. Stanley George, male, 21, 2, 0, S.O.C. 14879, 73.5,, S, \r 122, 0, 3, Moore, Mr. Leonard Charles, male,, 0, 0, A4. 54510, 8.05,, S, \r 123, 0, 2, Nasser, Mr. Nicholas, male, 32.5, 1, 0, 237736, 30.0708,, C, \r 124, 1, 2, Webber, Miss. Susan, female, 32.5, 0, 0, 27267, 13, E101, S, \r 125, 0, 1, White, Mr. Percival Wayland, male, 54, 0, 1, 35281, 77.2875, D26, S, \r 126, 1, 3, Nicola-Yarred, Master. Elias, male, 12, 1, 0, 2651, 11.2417,, C, \r 127, 0, 3, McMahon, Mr. Martin, male,, 0, 0, 370372, 7.75,, Q, \r 128, 1, 3, Madsen, Mr. Fridtjof Arne, male, 24, 0, 0, C 17369, 7.1417,, S, \r 129, 1, 3, Peter, Miss. Anna, female,, 1, 1, 2668, 22.3583, F E69, C, \r 130, 0, 3, Ekstrom, Mr. Johan, male, 45, 0, 0, 347061, 6.975,, S, \r 131, 0, 3, Drazenoic, Mr. Jozef, male, 33, 0, 0, 349241, 7.8958,, C, \r 132, 0, 3, Coelho, Mr. Domingos Fernandeo, male, 20, 0, 0, SOTON / O.Q. 3101307, 7.05,, S, \r 133, 0, 3, Robins, Mrs. Alexander A (Grace Charity Laury), female, 47, 1, 0, A / 5. 3337, 14.5,, S, \r 134, 1, 2, Weisz, Mrs. Leopold (Mathilde Francoise Pede), female, 29, 1, 0, 228414, 26,, S, \r 135, 0, 2, Sobey, Mr. Samuel James Hayden, male, 25, 0, 0, C.A. 29178, 13,, S, \r 136, 0, 2, Richard, Mr. Emile, male, 23, 0, 0, SC / PARIS 2133, 15.0458,, C, \r 137, 1, 1, Newsom, Miss. Helen Monypeny, female, 19, 0, 2, 11752, 26.2833, D47, S, \r 138, 0, 1, Futrelle, Mr. Jacques Heath, male, 37, 1, 0, 113803, 53.1, C123, S, \r 139, 0, 3, Osen, Mr. Olaf Elon, male, 16, 0, 0, 7534, 9.2167,, S, \r 140, 0, 1, Giglio, Mr. Victor, male, 24, 0, 0, PC 17593, 79.2, B86, C, \r 141, 0, 3, Boulos, Mrs. Joseph (Sultana), female,, 0, 2, 2678, 15.2458,, C, \r 142, 1, 3, Nysten, Miss. Anna Sofia, female, 22, 0, 0, 347081, 7.75,, S, \r 143, 1, 3, Hakkarainen, Mrs. Pekka Pietari (Elin Matilda Dolck), female, 24, 1, 0, STON / O2. 3101279, 15.85,, S, \r 144, 0, 3, Burke, Mr. Jeremiah, male, 19, 0, 0, 365222, 6.75,, Q, \r 145, 0, 2, Andrew, Mr. Edgardo Samuel, male, 18, 0, 0, 231945, 11.5,, S, \r 146, 0, 2, Nicholls, Mr. Joseph Charles, male, 19, 1, 1, C.A. 33112, 36.75,, S, \r 147, 1, 3, Andersson, Mr. August Edvard (Wennerstrom), male, 27, 0, 0, 350043, 7.7958,, S, \r 148, 0, 3, Ford, Miss. Robina Maggie Ruby, female, 9, 2, 2, W./ C. 6608, 34.375,, S, \r 149, 0, 2, Navratil, Mr. Michel (Louis M Hoffman), male, 36.5, 0, 2, 230080, 26, F2, S, \r 150, 0, 2, Byles, Rev. Thomas Roussel Davids, male, 42, 0, 0, 244310, 13,, S, \r 151, 0, 2, Bateman, Rev. Robert James, male, 51, 0, 0, S.O.P. 1166, 12.525,, S, \r 152, 1, 1, Pears, Mrs. Thomas (Edith Wearne), female, 22, 1, 0, 113776, 66.6, C2, S, \r 153, 0, 3, Meo, Mr. Alfonzo, male, 55.5, 0, 0, A.5. 11206, 8.05,, S, \r 154, 0, 3, van Billiard, Mr. Austin Blyler, male, 40.5, 0, 2, A / 5. 851, 14.5,, S, \r 155, 0, 3, Olsen, Mr. Ole Martin, male,, 0, 0, Fa 265302, 7.3125,, S, \r 156, 0, 1, Williams, Mr. Charles Duane, male, 51, 0, 1, PC 17597, 61.3792,, C, \r 157, 1, 3, Gilnagh, Miss. Katherine Katie, female, 16, 0, 0, 35851, 7.7333,, Q, \r 158, 0, 3, Corn, Mr. Harry, male, 30, 0, 0, SOTON / OQ 392090, 8.05,, S, \r 159, 0, 3, Smiljanic, Mr. Mile, male,, 0, 0, 315037, 8.6625,, S, \r 160, 0, 3, Sage, Master. Thomas Henry, male,, 8, 2, CA. 2343, 69.55,, S, \r 161, 0, 3, Cribb, Mr. John Hatfield, male, 44, 0, 1, 371362, 16.1,, S, \r 162, 1, 2, Watt, Mrs. James (Elizabeth Bessie Inglis Milne), female, 40, 0, 0, C.A. 33595, 15.75,, S, \r 163, 0, 3, Bengtsson, Mr. John Viktor, male, 26, 0, 0, 347068, 7.775,, S, \r 164, 0, 3, Calic, Mr. Jovo, male, 17, 0, 0, 315093, 8.6625,, S, \r 165, 0, 3, Panula, Master. Eino Viljami, male, 1, 4, 1, 3101295, 39.6875,, S, \r 166, 1, 3, Goldsmith, Master. Frank John William Frankie, male, 9, 0, 2, 363291, 20.525,, S, \r 167, 1, 1, Chibnall, Mrs. (Edith Martha Bowerman), female,, 0, 1, 113505, 55, E33, S, \r 168, 0, 3, Skoog, Mrs. William (Anna Bernhardina Karlsson), female, 45, 1, 4, 347088, 27.9,, S, \r 169, 0, 1, Baumann, Mr. John D, male,, 0, 0, PC 17318, 25.925,, S, \r 170, 0, 3, Ling, Mr. Lee, male, 28, 0, 0, 1601, 56.4958,, S, \r 171, 0, 1, Van der hoef, Mr. Wyckoff, male, 61, 0, 0, 111240, 33.5, B19, S, \r 172, 0, 3, Rice, Master. Arthur, male, 4, 4, 1, 382652, 29.125,, Q, \r 173, 1, 3, Johnson, Miss. Eleanor Ileen, female, 1, 1, 1, 347742, 11.1333,, S, \r 174, 0, 3, Sivola, Mr. Antti Wilhelm, male, 21, 0, 0, STON / O 2. 3101280, 7.925,, S, \r 175, 0, 1, Smith, Mr. James Clinch, male, 56, 0, 0, 17764, 30.6958, A7, C, \r 176, 0, 3, Klasen, Mr. Klas Albin, male, 18, 1, 1, 350404, 7.8542,, S, \r 177, 0, 3, Lefebre, Master. Henry Forbes, male,, 3, 1, 4133, 25.4667,, S, \r 178, 0, 1, Isham, Miss. Ann Elizabeth, female, 50, 0, 0, PC 17595, 28.7125, C49, C, \r 179, 0, 2, Hale, Mr. Reginald, male, 30, 0, 0, 250653, 13,, S, \r 180, 0, 3, Leonard, Mr. Lionel, male, 36, 0, 0, LINE, 0,, S, \r 181, 0, 3, Sage, Miss. Constance Gladys, female,, 8, 2, CA. 2343, 69.55,, S, \r 182, 0, 2, Pernot, Mr. Rene, male,, 0, 0, SC / PARIS 2131, 15.05,, C, \r 183, 0, 3, Asplund, Master. Clarence Gustaf Hugo, male, 9, 4, 2, 347077, 31.3875,, S, \r 184, 1, 2, Becker, Master. Richard F, male, 1, 2, 1, 230136, 39, F4, S, \r 185, 1, 3, Kink-Heilmann, Miss. Luise Gretchen, female, 4, 0, 2, 315153, 22.025,, S, \r 186, 0, 1, Rood, Mr. Hugh Roscoe, male,, 0, 0, 113767, 50, A32, S, \r 187, 1, 3, O\'Brien, Mrs. Thomas (Johanna Hannah Godfrey), female,, 1, 0, 370365, 15.5,, Q, \r 188, 1, 1, Romaine, Mr. Charles Hallace (Mr C Rolmane), male, 45, 0, 0, 111428, 26.55,, S, \r 189, 0, 3, Bourke, Mr. John, male, 40, 1, 1, 364849, 15.5,, Q, \r 190, 0, 3, Turcin, Mr. Stjepan, male, 36, 0, 0, 349247, 7.8958,, S, \r 191, 1, 2, Pinsky, Mrs. (Rosa), female, 32, 0, 0, 234604, 13,, S, \r 192, 0, 2, Carbines, Mr. William, male, 19, 0, 0, 28424, 13,, S, \r 193, 1, 3, Andersen-Jensen, Miss. Carla Christine Nielsine, female, 19, 1, 0, 350046, 7.8542,, S, \r 194, 1, 2, Navratil, Master. Michel M, male, 3, 1, 1, 230080, 26, F2, S, \r 195, 1, 1, Brown, Mrs. James Joseph (Margaret Tobin), female, 44, 0, 0, PC 17610, 27.7208, B4, C, \r 196, 1, 1, Lurette, Miss. Elise, female, 58, 0, 0, PC 17569, 146.5208, B80, C, \r 197, 0, 3, Mernagh, Mr. Robert, male,, 0, 0, 368703, 7.75,, Q, \r 198, 0, 3, Olsen, Mr. Karl Siegwart Andreas, male, 42, 0, 1, 4579, 8.4042,, S, \r 199, 1, 3, Madigan, Miss. Margaret Maggie, female,, 0, 0, 370370, 7.75,, Q, \r 200, 0, 2, Yrois, Miss. Henriette (Mrs Harbeck), female, 24, 0, 0, 248747, 13,, S, \r 201, 0, 3, Vande Walle, Mr. Nestor Cyriel, male, 28, 0, 0, 345770, 9.5,, S, \r 202, 0, 3, Sage, Mr. Frederick, male,, 8, 2, CA. 2343, 69.55,, S, \r 203, 0, 3, Johanson, Mr. Jakob Alfred, male, 34, 0, 0, 3101264, 6.4958,, S, \r 204, 0, 3, Youseff, Mr. Gerious, male, 45.5, 0, 0, 2628, 7.225,, C, \r 205, 1, 3, Cohen, Mr. Gurshon Gus, male, 18, 0, 0, A / 5 3540, 8.05,, S, \r 206, 0, 3, Strom, Miss. Telma Matilda, female, 2, 0, 1, 347054, 10.4625, G6, S, \r 207, 0, 3, Backstrom, Mr. Karl Alfred, male, 32, 1, 0, 3101278, 15.85,, S, \r 208, 1, 3, Albimona, Mr. Nassef Cassem, male, 26, 0, 0, 2699, 18.7875,, C, \r 209, 1, 3, Carr, Miss. Helen Ellen, female, 16, 0, 0, 367231, 7.75,, Q, \r 210, 1, 1, Blank, Mr. Henry, male, 40, 0, 0, 112277, 31, A31, C, \r 211, 0, 3, Ali, Mr. Ahmed, male, 24, 0, 0, SOTON / O.Q. 3101311, 7.05,, S, \r 212, 1, 2, Cameron, Miss. Clear Annie, female, 35, 0, 0, F.C.C. 13528, 21,, S, \r 213, 0, 3, Perkin, Mr. John Henry, male, 22, 0, 0, A / 5 21174, 7.25,, S, \r 214, 0, 2, Givard, Mr. Hans Kristensen, male, 30, 0, 0, 250646, 13,, S, \r 215, 0, 3, Kiernan, Mr. Philip, male,, 1, 0, 367229, 7.75,, Q, \r 216, 1, 1, Newell, Miss. Madeleine, female, 31, 1, 0, 35273, 113.275, D36, C, \r 217, 1, 3, Honkanen, Miss. Eliina, female, 27, 0, 0, STON / O2. 3101283, 7.925,, S, \r 218, 0, 2, Jacobsohn, Mr. Sidney Samuel, male, 42, 1, 0, 243847, 27,, S, \r 219, 1, 1, Bazzani, Miss. Albina, female, 32, 0, 0, 11813, 76.2917, D15, C, \r 220, 0, 2, Harris, Mr. Walter, male, 30, 0, 0, W / C 14208, 10.5,, S, \r 221, 1, 3, Sunderland, Mr. Victor Francis, male, 16, 0, 0, SOTON / OQ 392089, 8.05,, S, \r 222, 0, 2, Bracken, Mr. James H, male, 27, 0, 0, 220367, 13,, S, \r 223, 0, 3, Green, Mr. George Henry, male, 51, 0, 0, 21440, 8.05,, S, \r 224, 0, 3, Nenkoff, Mr. Christo, male,, 0, 0, 349234, 7.8958,, S, \r 225, 1, 1, Hoyt, Mr. Frederick Maxfield, male, 38, 1, 0, 19943, 90, C93, S, \r 226, 0, 3, Berglund, Mr. Karl Ivar Sven, male, 22, 0, 0, PP 4348, 9.35,, S, \r 227, 1, 2, Mellors, Mr. William John, male, 19, 0, 0, SW / PP 751, 10.5,, S, \r 228, 0, 3, Lovell, Mr. John Hall (Henry), male, 20.5, 0, 0, A / 5 21173, 7.25,, S, \r 229, 0, 2, Fahlstrom, Mr. Arne Jonas, male, 18, 0, 0, 236171, 13,, S, \r 230, 0, 3, Lefebre, Miss. Mathilde, female,, 3, 1, 4133, 25.4667,, S, \r 231, 1, 1, Harris, Mrs. Henry Birkhardt (Irene Wallach), female, 35, 1, 0, 36973, 83.475, C83, S, \r 232, 0, 3, Larsson, Mr. Bengt Edvin, male, 29, 0, 0, 347067, 7.775,, S, \r 233, 0, 2, Sjostedt, Mr. Ernst Adolf, male, 59, 0, 0, 237442, 13.5,, S, \r 234, 1, 3, Asplund, Miss. Lillian Gertrud, female, 5, 4, 2, 347077, 31.3875,, S, \r 235, 0, 2, Leyson, Mr. Robert William Norman, male, 24, 0, 0, C.A. 29566, 10.5,, S, \r 236, 0, 3, Harknett, Miss. Alice Phoebe, female,, 0, 0, W./ C. 6609, 7.55,, S, \r 237, 0, 2, Hold, Mr. Stephen, male, 44, 1, 0, 26707, 26,, S, \r 238, 1, 2, Collyer, Miss. Marjorie Lottie, female, 8, 0, 2, C.A. 31921, 26.25,, S, \r 239, 0, 2, Pengelly, Mr. Frederick William, male, 19, 0, 0, 28665, 10.5,, S, \r 240, 0, 2, Hunt, Mr. George Henry, male, 33, 0, 0, SCO / W 1585, 12.275,, S, \r 241, 0, 3, Zabour, Miss. Thamine, female,, 1, 0, 2665, 14.4542,, C, \r 242, 1, 3, Murphy, Miss. Katherine Kate, female,, 1, 0, 367230, 15.5,, Q, \r 243, 0, 2, Coleridge, Mr. Reginald Charles, male, 29, 0, 0, W./ C. 14263, 10.5,, S, \r 244, 0, 3, Maenpaa, Mr. Matti Alexanteri, male, 22, 0, 0, STON / O 2. 3101275, 7.125,, S, \r 245, 0, 3, Attalah, Mr. Sleiman, male, 30, 0, 0, 2694, 7.225,, C, \r 246, 0, 1, Minahan, Dr. William Edward, male, 44, 2, 0, 19928, 90, C78, Q, \r 247, 0, 3, Lindahl, Miss. Agda Thorilda Viktoria, female, 25, 0, 0, 347071, 7.775,, S, \r 248, 1, 2, Hamalainen, Mrs. William (Anna), female, 24, 0, 2, 250649, 14.5,, S, \r 249, 1, 1, Beckwith, Mr. Richard Leonard, male, 37, 1, 1, 11751, 52.5542, D35, S, \r 250, 0, 2, Carter, Rev. Ernest Courtenay, male, 54, 1, 0, 244252, 26,, S, \r 251, 0, 3, Reed, Mr. James George, male,, 0, 0, 362316, 7.25,, S, \r 252, 0, 3, Strom, Mrs. Wilhelm (Elna Matilda Persson), female, 29, 1, 1, 347054, 10.4625, G6, S, \r 253, 0, 1, Stead, Mr. William Thomas, male, 62, 0, 0, 113514, 26.55, C87, S, \r 254, 0, 3, Lobb, Mr. William Arthur, male, 30, 1, 0, A / 5. 3336, 16.1,, S, \r 255, 0, 3, Rosblom, Mrs. Viktor (Helena Wilhelmina), female, 41, 0, 2, 370129, 20.2125,, S, \r 256, 1, 3, Touma, Mrs. Darwis (Hanne Youssef Razi), female, 29, 0, 2, 2650, 15.2458,, C, \r 257, 1, 1, Thorne, Mrs. Gertrude Maybelle, female,, 0, 0, PC 17585, 79.2,, C, \r 258, 1, 1, Cherry, Miss. Gladys, female, 30, 0, 0, 110152, 86.5, B77, S, \r 259, 1, 1, Ward, Miss. Anna, female, 35, 0, 0, PC 17755, 512.3292,, C, \r 260, 1, 2, Parrish, Mrs. (Lutie Davis), female, 50, 0, 1, 230433, 26,, S, \r 261, 0, 3, Smith, Mr. Thomas, male,, 0, 0, 384461, 7.75,, Q, \r 262, 1, 3, Asplund, Master. Edvin Rojj Felix, male, 3, 4, 2, 347077, 31.3875,, S, \r 263, 0, 1, Taussig, Mr. Emil, male, 52, 1, 1, 110413, 79.65, E67, S, \r 264, 0, 1, Harrison, Mr. William, male, 40, 0, 0, 112059, 0, B94, S, \r 265, 0, 3, Henry, Miss. Delia, female,, 0, 0, 382649, 7.75,, Q, \r 266, 0, 2, Reeves, Mr. David, male, 36, 0, 0, C.A. 17248, 10.5,, S, \r 267, 0, 3, Panula, Mr. Ernesti Arvid, male, 16, 4, 1, 3101295, 39.6875,, S, \r 268, 1, 3, Persson, Mr. Ernst Ulrik, male, 25, 1, 0, 347083, 7.775,, S, \r 269, 1, 1, Graham, Mrs. William Thompson (Edith Junkins), female, 58, 0, 1, PC 17582, 153.4625, C125, S, \r 270, 1, 1, Bissette, Miss. Amelia, female, 35, 0, 0, PC 17760, 135.6333, C99, S, \r 271, 0, 1, Cairns, Mr. Alexander, male,, 0, 0, 113798, 31,, S, \r 272, 1, 3, Tornquist, Mr. William Henry, male, 25, 0, 0, LINE, 0,, S, \r 273, 1, 2, Mellinger, Mrs. (Elizabeth Anne Maidment), female, 41, 0, 1, 250644, 19.5,, S, \r 274, 0, 1, Natsch, Mr. Charles H, male, 37, 0, 1, PC 17596, 29.7, C118, C, \r 275, 1, 3, Healy, Miss. Hanora Nora, female,, 0, 0, 370375, 7.75,, Q, \r 276, 1, 1, Andrews, Miss. Kornelia Theodosia, female, 63, 1, 0, 13502, 77.9583, D7, S, \r 277, 0, 3, Lindblom, Miss. Augusta Charlotta, female, 45, 0, 0, 347073, 7.75,, S, \r 278, 0, 2, Parkes, Mr. Francis Frank, male,, 0, 0, 239853, 0,, S, \r 279, 0, 3, Rice, Master. Eric, male, 7, 4, 1, 382652, 29.125,, Q, \r 280, 1, 3, Abbott, Mrs. Stanton (Rosa Hunt), female, 35, 1, 1, C.A. 2673, 20.25,, S, \r 281, 0, 3, Duane, Mr. Frank, male, 65, 0, 0, 336439, 7.75,, Q, \r 282, 0, 3, Olsson, Mr. Nils Johan Goransson, male, 28, 0, 0, 347464, 7.8542,, S, \r 283, 0, 3, de Pelsmaeker, Mr. Alfons, male, 16, 0, 0, 345778, 9.5,, S, \r 284, 1, 3, Dorking, Mr. Edward Arthur, male, 19, 0, 0, A / 5. 10482, 8.05,, S, \r 285, 0, 1, Smith, Mr. Richard William, male,, 0, 0, 113056, 26, A19, S, \r 286, 0, 3, Stankovic, Mr. Ivan, male, 33, 0, 0, 349239, 8.6625,, C, \r 287, 1, 3, de Mulder, Mr. Theodore, male, 30, 0, 0, 345774, 9.5,, S, \r 288, 0, 3, Naidenoff, Mr. Penko, male, 22, 0, 0, 349206, 7.8958,, S, \r 289, 1, 2, Hosono, Mr. Masabumi, male, 42, 0, 0, 237798, 13,, S, \r 290, 1, 3, Connolly, Miss. Kate, female, 22, 0, 0, 370373, 7.75,, Q, \r 291, 1, 1, Barber, Miss. Ellen Nellie, female, 26, 0, 0, 19877, 78.85,, S, \r 292, 1, 1, Bishop, Mrs. Dickinson H (Helen Walton), female, 19, 1, 0, 11967, 91.0792, B49, C, \r 293, 0, 2, Levy, Mr. Rene Jacques, male, 36, 0, 0, SC / Paris 2163, 12.875, D, C, \r 294, 0, 3, Haas, Miss. Aloisia, female, 24, 0, 0, 349236, 8.85,, S, \r 295, 0, 3, Mineff, Mr. Ivan, male, 24, 0, 0, 349233, 7.8958,, S, \r 296, 0, 1, Lewy, Mr. Ervin G, male,, 0, 0, PC 17612, 27.7208,, C, \r 297, 0, 3, Hanna, Mr. Mansour, male, 23.5, 0, 0, 2693, 7.2292,, C, \r 298, 0, 1, Allison, Miss. Helen Loraine, female, 2, 1, 2, 113781, 151.55, C22 C26, S, \r 299, 1, 1, Saalfeld, Mr. Adolphe, male,, 0, 0, 19988, 30.5, C106, S, \r 300, 1, 1, Baxter, Mrs. James (Helene DeLaudeniere Chaput), female, 50, 0, 1, PC 17558, 247.5208, B58 B60, C, \r 301, 1, 3, Kelly, Miss. Anna Katherine Annie Kate, female,, 0, 0, 9234, 7.75,, Q, \r 302, 1, 3, McCoy, Mr. Bernard, male,, 2, 0, 367226, 23.25,, Q, \r 303, 0, 3, Johnson, Mr. William Cahoone Jr, male, 19, 0, 0, LINE, 0,, S, \r 304, 1, 2, Keane, Miss. Nora A, female,, 0, 0, 226593, 12.35, E101, Q, \r 305, 0, 3, Williams, Mr. Howard Hugh Harry, male,, 0, 0, A / 5 2466, 8.05,, S, \r 306, 1, 1, Allison, Master. Hudson Trevor, male, 0.92, 1, 2, 113781, 151.55, C22 C26, S, \r 307, 1, 1, Fleming, Miss. Margaret, female,, 0, 0, 17421, 110.8833,, C, \r 308, 1, 1, Penasco y Castellana, Mrs. Victor de Satode (Maria Josefa Perez de Soto y Vallejo), female, 17, 1, 0, PC 17758, 108.9, C65, C, \r 309, 0, 2, Abelson, Mr. Samuel, male, 30, 1, 0, P / PP 3381, 24,, C, \r 310, 1, 1, Francatelli, Miss. Laura Mabel, female, 30, 0, 0, PC 17485, 56.9292, E36, C, \r 311, 1, 1, Hays, Miss. Margaret Bechstein, female, 24, 0, 0, 11767, 83.1583, C54, C, \r 312, 1, 1, Ryerson, Miss. Emily Borie, female, 18, 2, 2, PC 17608, 262.375, B57 B59 B63 B66, C, \r 313, 0, 2, Lahtinen, Mrs. William (Anna Sylfven), female, 26, 1, 1, 250651, 26,, S, \r 314, 0, 3, Hendekovic, Mr. Ignjac, male, 28, 0, 0, 349243, 7.8958,, S, \r 315, 0, 2, Hart, Mr. Benjamin, male, 43, 1, 1, F.C.C. 13529, 26.25,, S, \r 316, 1, 3, Nilsson, Miss. Helmina Josefina, female, 26, 0, 0, 347470, 7.8542,, S, \r 317, 1, 2, Kantor, Mrs. Sinai (Miriam Sternin), female, 24, 1, 0, 244367, 26,, S, \r 318, 0, 2, Moraweck, Dr. Ernest, male, 54, 0, 0, 29011, 14,, S, \r 319, 1, 1, Wick, Miss. Mary Natalie, female, 31, 0, 2, 36928, 164.8667, C7, S, \r 320, 1, 1, Spedden, Mrs. Frederic Oakley (Margaretta Corning Stone), female, 40, 1, 1, 16966, 134.5, E34, C, \r 321, 0, 3, Dennis, Mr. Samuel, male, 22, 0, 0, A / 5 21172, 7.25,, S, \r 322, 0, 3, Danoff, Mr. Yoto, male, 27, 0, 0, 349219, 7.8958,, S, \r 323, 1, 2, Slayter, Miss. Hilda Mary, female, 30, 0, 0, 234818, 12.35,, Q, \r 324, 1, 2, Caldwell, Mrs. Albert Francis (Sylvia Mae Harbaugh), female, 22, 1, 1, 248738, 29,, S, \r 325, 0, 3, Sage, Mr. George John Jr, male,, 8, 2, CA. 2343, 69.55,, S, \r 326, 1, 1, Young, Miss. Marie Grice, female, 36, 0, 0, PC 17760, 135.6333, C32, C, \r 327, 0, 3, Nysveen, Mr. Johan Hansen, male, 61, 0, 0, 345364, 6.2375,, S, \r 328, 1, 2, Ball, Mrs. (Ada E Hall), female, 36, 0, 0, 28551, 13, D, S, \r 329, 1, 3, Goldsmith, Mrs. Frank John (Emily Alice Brown), female, 31, 1, 1, 363291, 20.525,, S, \r 330, 1, 1, Hippach, Miss. Jean Gertrude, female, 16, 0, 1, 111361, 57.9792, B18, C, \r 331, 1, 3, McCoy, Miss. Agnes, female,, 2, 0, 367226, 23.25,, Q, \r 332, 0, 1, Partner, Mr. Austen, male, 45.5, 0, 0, 113043, 28.5, C124, S, \r 333, 0, 1, Graham, Mr. George Edward, male, 38, 0, 1, PC 17582, 153.4625, C91, S, \r 334, 0, 3, Vander Planke, Mr. Leo Edmondus, male, 16, 2, 0, 345764, 18,, S, \r 335, 1, 1, Frauenthal, Mrs. Henry William (Clara Heinsheimer), female,, 1, 0, PC 17611, 133.65,, S, \r 336, 0, 3, Denkoff, Mr. Mitto, male,, 0, 0, 349225, 7.8958,, S, \r 337, 0, 1, Pears, Mr. Thomas Clinton, male, 29, 1, 0, 113776, 66.6, C2, S, \r 338, 1, 1, Burns, Miss. Elizabeth Margaret, female, 41, 0, 0, 16966, 134.5, E40, C, \r 339, 1, 3, Dahl, Mr. Karl Edwart, male, 45, 0, 0, 7598, 8.05,, S, \r 340, 0, 1, Blackwell, Mr. Stephen Weart, male, 45, 0, 0, 113784, 35.5, T, S, \r 341, 1, 2, Navratil, Master. Edmond Roger, male, 2, 1, 1, 230080, 26, F2, S, \r 342, 1, 1, Fortune, Miss. Alice Elizabeth, female, 24, 3, 2, 19950, 263, C23 C25 C27, S, \r 343, 0, 2, Collander, Mr. Erik Gustaf, male, 28, 0, 0, 248740, 13,, S, \r 344, 0, 2, Sedgwick, Mr. Charles Frederick Waddington, male, 25, 0, 0, 244361, 13,, S, \r 345, 0, 2, Fox, Mr. Stanley Hubert, male, 36, 0, 0, 229236, 13,, S, \r 346, 1, 2, Brown, Miss. Amelia Mildred, female, 24, 0, 0, 248733, 13, F33, S, \r 347, 1, 2, Smith, Miss. Marion Elsie, female, 40, 0, 0, 31418, 13,, S, \r 348, 1, 3, Davison, Mrs. Thomas Henry (Mary E Finck), female,, 1, 0, 386525, 16.1,, S, \r 349, 1, 3, Coutts, Master. William Loch William, male, 3, 1, 1, C.A. 37671, 15.9,, S, \r 350, 0, 3, Dimic, Mr. Jovan, male, 42, 0, 0, 315088, 8.6625,, S, \r 351, 0, 3, Odahl, Mr. Nils Martin, male, 23, 0, 0, 7267, 9.225,, S, \r 352, 0, 1, Williams-Lambert, Mr. Fletcher Fellows, male,, 0, 0, 113510, 35, C128, S, \r 353, 0, 3, Elias, Mr. Tannous, male, 15, 1, 1, 2695, 7.2292,, C, \r 354, 0, 3, Arnold-Franchi, Mr. Josef, male, 25, 1, 0, 349237, 17.8,, S, \r 355, 0, 3, Yousif, Mr. Wazli, male,, 0, 0, 2647, 7.225,, C, \r 356, 0, 3, Vanden Steen, Mr. Leo Peter, male, 28, 0, 0, 345783, 9.5,, S, \r 357, 1, 1, Bowerman, Miss. Elsie Edith, female, 22, 0, 1, 113505, 55, E33, S, \r 358, 0, 2, Funk, Miss. Annie Clemmer, female, 38, 0, 0, 237671, 13,, S, \r 359, 1, 3, McGovern, Miss. Mary, female,, 0, 0, 330931, 7.8792,, Q, \r 360, 1, 3, Mockler, Miss. Helen Mary Ellie, female,, 0, 0, 330980, 7.8792,, Q, \r 361, 0, 3, Skoog, Mr. Wilhelm, male, 40, 1, 4, 347088, 27.9,, S, \r 362, 0, 2, del Carlo, Mr. Sebastiano, male, 29, 1, 0, SC / PARIS 2167, 27.7208,, C, \r 363, 0, 3, Barbara, Mrs. (Catherine David), female, 45, 0, 1, 2691, 14.4542,, C, \r 364, 0, 3, Asim, Mr. Adola, male, 35, 0, 0, SOTON / O.Q. 3101310, 7.05,, S, \r 365, 0, 3, O\'Brien, Mr. Thomas, male,, 1, 0, 370365, 15.5,, Q, \r 366, 0, 3, Adahl, Mr. Mauritz Nils Martin, male, 30, 0, 0, C 7076, 7.25,, S, \r 367, 1, 1, Warren, Mrs. Frank Manley (Anna Sophia Atkinson), female, 60, 1, 0, 110813, 75.25, D37, C, \r 368, 1, 3, Moussa, Mrs. (Mantoura Boulos), female,, 0, 0, 2626, 7.2292,, C, \r 369, 1, 3, Jermyn, Miss. Annie, female,, 0, 0, 14313, 7.75,, Q, \r 370, 1, 1, Aubart, Mme. Leontine Pauline, female, 24, 0, 0, PC 17477, 69.3, B35, C, \r 371, 1, 1, Harder, Mr. George Achilles, male, 25, 1, 0, 11765, 55.4417, E50, C, \r 372, 0, 3, Wiklund, Mr. Jakob Alfred, male, 18, 1, 0, 3101267, 6.4958,, S, \r 373, 0, 3, Beavan, Mr. William Thomas, male, 19, 0, 0, 323951, 8.05,, S, \r 374, 0, 1, Ringhini, Mr. Sante, male, 22, 0, 0, PC 17760, 135.6333,, C, \r 375, 0, 3, Palsson, Miss. Stina Viola, female, 3, 3, 1, 349909, 21.075,, S, \r 376, 1, 1, Meyer, Mrs. Edgar Joseph (Leila Saks), female,, 1, 0, PC 17604, 82.1708,, C, \r 377, 1, 3, Landergren, Miss. Aurora Adelia, female, 22, 0, 0, C 7077, 7.25,, S, \r 378, 0, 1, Widener, Mr. Harry Elkins, male, 27, 0, 2, 113503, 211.5, C82, C, \r 379, 0, 3, Betros, Mr. Tannous, male, 20, 0, 0, 2648, 4.0125,, C, \r 380, 0, 3, Gustafsson, Mr. Karl Gideon, male, 19, 0, 0, 347069, 7.775,, S, \r 381, 1, 1, Bidois, Miss. Rosalie, female, 42, 0, 0, PC 17757, 227.525,, C, \r 382, 1, 3, Nakid, Miss. Maria (Mary), female, 1, 0, 2, 2653, 15.7417,, C, \r 383, 0, 3, Tikkanen, Mr. Juho, male, 32, 0, 0, STON / O 2. 3101293, 7.925,, S, \r 384, 1, 1, Holverson, Mrs. Alexander Oskar (Mary Aline Towner), female, 35, 1, 0, 113789, 52,, S, \r 385, 0, 3, Plotcharsky, Mr. Vasil, male,, 0, 0, 349227, 7.8958,, S, \r 386, 0, 2, Davies, Mr. Charles Henry, male, 18, 0, 0, S.O.C. 14879, 73.5,, S, \r 387, 0, 3, Goodwin, Master. Sidney Leonard, male, 1, 5, 2, CA 2144, 46.9,, S, \r 388, 1, 2, Buss, Miss. Kate, female, 36, 0, 0, 27849, 13,, S, \r 389, 0, 3, Sadlier, Mr. Matthew, male,, 0, 0, 367655, 7.7292,, Q, \r 390, 1, 2, Lehmann, Miss. Bertha, female, 17, 0, 0, SC 1748, 12,, C, \r 391, 1, 1, Carter, Mr. William Ernest, male, 36, 1, 2, 113760, 120, B96 B98, S, \r 392, 1, 3, Jansson, Mr. Carl Olof, male, 21, 0, 0, 350034, 7.7958,, S, \r 393, 0, 3, Gustafsson, Mr. Johan Birger, male, 28, 2, 0, 3101277, 7.925,, S, \r 394, 1, 1, Newell, Miss. Marjorie, female, 23, 1, 0, 35273, 113.275, D36, C, \r 395, 1, 3, Sandstrom, Mrs. Hjalmar (Agnes Charlotta Bengtsson), female, 24, 0, 2, PP 9549, 16.7, G6, S, \r 396, 0, 3, Johansson, Mr. Erik, male, 22, 0, 0, 350052, 7.7958,, S, \r 397, 0, 3, Olsson, Miss. Elina, female, 31, 0, 0, 350407, 7.8542,, S, \r 398, 0, 2, McKane, Mr. Peter David, male, 46, 0, 0, 28403, 26,, S, \r 399, 0, 2, Pain, Dr. Alfred, male, 23, 0, 0, 244278, 10.5,, S, \r 400, 1, 2, Trout, Mrs. William H (Jessie L), female, 28, 0, 0, 240929, 12.65,, S, \r 401, 1, 3, Niskanen, Mr. Juha, male, 39, 0, 0, STON / O 2. 3101289, 7.925,, S, \r 402, 0, 3, Adams, Mr. John, male, 26, 0, 0, 341826, 8.05,, S, \r 403, 0, 3, Jussila, Miss. Mari Aina, female, 21, 1, 0, 4137, 9.825,, S, \r 404, 0, 3, Hakkarainen, Mr. Pekka Pietari, male, 28, 1, 0, STON / O2. 3101279, 15.85,, S, \r 405, 0, 3, Oreskovic, Miss. Marija, female, 20, 0, 0, 315096, 8.6625,, S, \r 406, 0, 2, Gale, Mr. Shadrach, male, 34, 1, 0, 28664, 21,, S, \r 407, 0, 3, Widegren, Mr. Carl/Charles Peter, male, 51, 0, 0, 347064, 7.75,, S, \r 408, 1, 2, Richards, Master. William Rowe, male, 3, 1, 1, 29106, 18.75,, S, \r 409, 0, 3, Birkeland, Mr. Hans Martin Monsen, male, 21, 0, 0, 312992, 7.775,, S, \r 410, 0, 3, Lefebre, Miss. Ida, female,, 3, 1, 4133, 25.4667,, S, \r 411, 0, 3, Sdycoff, Mr. Todor, male,, 0, 0, 349222, 7.8958,, S, \r 412, 0, 3, Hart, Mr. Henry, male,, 0, 0, 394140, 6.8583,, Q, \r 413, 1, 1, Minahan, Miss. Daisy E, female, 33, 1, 0, 19928, 90, C78, Q, \r 414, 0, 2, Cunningham, Mr. Alfred Fleming, male,, 0, 0, 239853, 0,, S, \r 415, 1, 3, Sundman, Mr. Johan Julian, male, 44, 0, 0, STON / O 2. 3101269, 7.925,, S, \r 416, 0, 3, Meek, Mrs. Thomas (Annie Louise Rowley), female,, 0, 0, 343095, 8.05,, S, \r 417, 1, 2, Drew, Mrs. James Vivian (Lulu Thorne Christian), female, 34, 1, 1, 28220, 32.5,, S, \r 418, 1, 2, Silven, Miss. Lyyli Karoliina, female, 18, 0, 2, 250652, 13,, S, \r 419, 0, 2, Matthews, Mr. William John, male, 30, 0, 0, 28228, 13,, S, \r 420, 0, 3, Van Impe, Miss. Catharina, female, 10, 0, 2, 345773, 24.15,, S, \r 421, 0, 3, Gheorgheff, Mr. Stanio, male,, 0, 0, 349254, 7.8958,, C, \r 422, 0, 3, Charters, Mr. David, male, 21, 0, 0, A / 5. 13032, 7.7333,, Q, \r 423, 0, 3, Zimmerman, Mr. Leo, male, 29, 0, 0, 315082, 7.875,, S, \r 424, 0, 3, Danbom, Mrs. Ernst Gilbert (Anna Sigrid Maria Brogren), female, 28, 1, 1, 347080, 14.4,, S, \r 425, 0, 3, Rosblom, Mr. Viktor Richard, male, 18, 1, 1, 370129, 20.2125,, S, \r 426, 0, 3, Wiseman, Mr. Phillippe, male,, 0, 0, A / 4. 34244, 7.25,, S, \r 427, 1, 2, Clarke, Mrs. Charles V (Ada Maria Winfield), female, 28, 1, 0, 2003, 26,, S, \r 428, 1, 2, Phillips, Miss. Kate Florence (Mrs Kate Louise Phillips Marshall), female, 19, 0, 0, 250655, 26,, S, \r 429, 0, 3, Flynn, Mr. James, male,, 0, 0, 364851, 7.75,, Q, \r 430, 1, 3, Pickard, Mr. Berk (Berk Trembisky), male, 32, 0, 0, SOTON / O.Q. 392078, 8.05, E10, S, \r 431, 1, 1, Bjornstrom-Steffansson, Mr. Mauritz Hakan, male, 28, 0, 0, 110564, 26.55, C52, S, \r 432, 1, 3, Thorneycroft, Mrs. Percival (Florence Kate White), female,, 1, 0, 376564, 16.1,, S, \r 433, 1, 2, Louch, Mrs. Charles Alexander (Alice Adelaide Slow), female, 42, 1, 0, SC / AH 3085, 26,, S, \r 434, 0, 3, Kallio, Mr. Nikolai Erland, male, 17, 0, 0, STON / O 2. 3101274, 7.125,, S, \r 435, 0, 1, Silvey, Mr. William Baird, male, 50, 1, 0, 13507, 55.9, E44, S, \r 436, 1, 1, Carter, Miss. Lucile Polk, female, 14, 1, 2, 113760, 120, B96 B98, S, \r 437, 0, 3, Ford, Miss. Doolina Margaret Daisy, female, 21, 2, 2, W./ C. 6608, 34.375,, S, \r 438, 1, 2, Richards, Mrs. Sidney (Emily Hocking), female, 24, 2, 3, 29106, 18.75,, S, \r 439, 0, 1, Fortune, Mr. Mark, male, 64, 1, 4, 19950, 263, C23 C25 C27, S, \r 440, 0, 2, Kvillner, Mr. Johan Henrik Johannesson, male, 31, 0, 0, C.A. 18723, 10.5,, S, \r 441, 1, 2, Hart, Mrs. Benjamin (Esther Ada Bloomfield), female, 45, 1, 1, F.C.C. 13529, 26.25,, S, \r 442, 0, 3, Hampe, Mr. Leon, male, 20, 0, 0, 345769, 9.5,, S, \r 443, 0, 3, Petterson, Mr. Johan Emil, male, 25, 1, 0, 347076, 7.775,, S, \r 444, 1, 2, Reynaldo, Ms. Encarnacion, female, 28, 0, 0, 230434, 13,, S, \r 445, 1, 3, Johannesen-Bratthammer, Mr. Bernt, male,, 0, 0, 65306, 8.1125,, S, \r 446, 1, 1, Dodge, Master. Washington, male, 4, 0, 2, 33638, 81.8583, A34, S, \r 447, 1, 2, Mellinger, Miss. Madeleine Violet, female, 13, 0, 1, 250644, 19.5,, S, \r 448, 1, 1, Seward, Mr. Frederic Kimber, male, 34, 0, 0, 113794, 26.55,, S, \r 449, 1, 3, Baclini, Miss. Marie Catherine, female, 5, 2, 1, 2666, 19.2583,, C, \r 450, 1, 1, Peuchen, Major. Arthur Godfrey, male, 52, 0, 0, 113786, 30.5, C104, S, \r 451, 0, 2, West, Mr. Edwy Arthur, male, 36, 1, 2, C.A. 34651, 27.75,, S, \r 452, 0, 3, Hagland, Mr. Ingvald Olai Olsen, male,, 1, 0, 65303, 19.9667,, S, \r 453, 0, 1, Foreman, Mr. Benjamin Laventall, male, 30, 0, 0, 113051, 27.75, C111, C, \r 454, 1, 1, Goldenberg, Mr. Samuel L, male, 49, 1, 0, 17453, 89.1042, C92, C, \r 455, 0, 3, Peduzzi, Mr. Joseph, male,, 0, 0, A / 5 2817, 8.05,, S, \r 456, 1, 3, Jalsevac, Mr. Ivan, male, 29, 0, 0, 349240, 7.8958,, C, \r 457, 0, 1, Millet, Mr. Francis Davis, male, 65, 0, 0, 13509, 26.55, E38, S, \r 458, 1, 1, Kenyon, Mrs. Frederick R (Marion), female,, 1, 0, 17464, 51.8625, D21, S, \r 459, 1, 2, Toomey, Miss. Ellen, female, 50, 0, 0, F.C.C. 13531, 10.5,, S, \r 460, 0, 3, O\'Connor, Mr. Maurice, male,, 0, 0, 371060, 7.75,, Q, \r 461, 1, 1, Anderson, Mr. Harry, male, 48, 0, 0, 19952, 26.55, E12, S, \r 462, 0, 3, Morley, Mr. William, male, 34, 0, 0, 364506, 8.05,, S, \r 463, 0, 1, Gee, Mr. Arthur H, male, 47, 0, 0, 111320, 38.5, E63, S, \r 464, 0, 2, Milling, Mr. Jacob Christian, male, 48, 0, 0, 234360, 13,, S, \r 465, 0, 3, Maisner, Mr. Simon, male,, 0, 0, A / S 2816, 8.05,, S, \r 466, 0, 3, Goncalves, Mr. Manuel Estanslas, male, 38, 0, 0, SOTON / O.Q. 3101306, 7.05,, S, \r 467, 0, 2, Campbell, Mr. William, male,, 0, 0, 239853, 0,, S, \r 468, 0, 1, Smart, Mr. John Montgomery, male, 56, 0, 0, 113792, 26.55,, S, \r 469, 0, 3, Scanlan, Mr. James, male,, 0, 0, 36209, 7.725,, Q, \r 470, 1, 3, Baclini, Miss. Helene Barbara, female, 0.75, 2, 1, 2666, 19.2583,, C, \r 471, 0, 3, Keefe, Mr. Arthur, male,, 0, 0, 323592, 7.25,, S, \r 472, 0, 3, Cacic, Mr. Luka, male, 38, 0, 0, 315089, 8.6625,, S, \r 473, 1, 2, West, Mrs. Edwy Arthur (Ada Mary Worth), female, 33, 1, 2, C.A. 34651, 27.75,, S, \r 474, 1, 2, Jerwan, Mrs. Amin S (Marie Marthe Thuillard), female, 23, 0, 0, SC / AH Basle 541, 13.7917, D, C, \r 475, 0, 3, Strandberg, Miss. Ida Sofia, female, 22, 0, 0, 7553, 9.8375,, S, \r 476, 0, 1, Clifford, Mr. George Quincy, male,, 0, 0, 110465, 52, A14, S, \r 477, 0, 2, Renouf, Mr. Peter Henry, male, 34, 1, 0, 31027, 21,, S, \r 478, 0, 3, Braund, Mr. Lewis Richard, male, 29, 1, 0, 3460, 7.0458,, S, \r 479, 0, 3, Karlsson, Mr. Nils August, male, 22, 0, 0, 350060, 7.5208,, S, \r 480, 1, 3, Hirvonen, Miss. Hildur E, female, 2, 0, 1, 3101298, 12.2875,, S, \r 481, 0, 3, Goodwin, Master. Harold Victor, male, 9, 5, 2, CA 2144, 46.9,, S, \r 482, 0, 2, Frost, Mr. Anthony Wood Archie, male,, 0, 0, 239854, 0,, S, \r 483, 0, 3, Rouse, Mr. Richard Henry, male, 50, 0, 0, A / 5 3594, 8.05,, S, \r 484, 1, 3, Turkula, Mrs. (Hedwig), female, 63, 0, 0, 4134, 9.5875,, S, \r 485, 1, 1, Bishop, Mr. Dickinson H, male, 25, 1, 0, 11967, 91.0792, B49, C, \r 486, 0, 3, Lefebre, Miss. Jeannie, female,, 3, 1, 4133, 25.4667,, S, \r 487, 1, 1, Hoyt, Mrs. Frederick Maxfield (Jane Anne Forby), female, 35, 1, 0, 19943, 90, C93, S, \r 488, 0, 1, Kent, Mr. Edward Austin, male, 58, 0, 0, 11771, 29.7, B37, C, \r 489, 0, 3, Somerton, Mr. Francis William, male, 30, 0, 0, A.5. 18509, 8.05,, S, \r 490, 1, 3, Coutts, Master. Eden Leslie Neville, male, 9, 1, 1, C.A. 37671, 15.9,, S, \r 491, 0, 3, Hagland, Mr. Konrad Mathias Reiersen, male,, 1, 0, 65304, 19.9667,, S, \r 492, 0, 3, Windelov, Mr. Einar, male, 21, 0, 0, SOTON / OQ 3101317, 7.25,, S, \r 493, 0, 1, Molson, Mr. Harry Markland, male, 55, 0, 0, 113787, 30.5, C30, S, \r 494, 0, 1, Artagaveytia, Mr. Ramon, male, 71, 0, 0, PC 17609, 49.5042,, C, \r 495, 0, 3, Stanley, Mr. Edward Roland, male, 21, 0, 0, A / 4 45380, 8.05,, S, \r 496, 0, 3, Yousseff, Mr. Gerious, male,, 0, 0, 2627, 14.4583,, C, \r 497, 1, 1, Eustis, Miss. Elizabeth Mussey, female, 54, 1, 0, 36947, 78.2667, D20, C, \r 498, 0, 3, Shellard, Mr. Frederick William, male,, 0, 0, C.A. 6212, 15.1,, S, \r 499, 0, 1, Allison, Mrs. Hudson J C (Bessie Waldo Daniels), female, 25, 1, 2, 113781, 151.55, C22 C26, S, \r 500, 0, 3, Svensson, Mr. Olof, male, 24, 0, 0, 350035, 7.7958,, S, \r 501, 0, 3, Calic, Mr. Petar, male, 17, 0, 0, 315086, 8.6625,, S, \r 502, 0, 3, Canavan, Miss. Mary, female, 21, 0, 0, 364846, 7.75,, Q, \r 503, 0, 3, O\'Sullivan, Miss. Bridget Mary, female,, 0, 0, 330909, 7.6292,, Q, \r 504, 0, 3, Laitinen, Miss. Kristina Sofia, female, 37, 0, 0, 4135, 9.5875,, S, \r 505, 1, 1, Maioni, Miss. Roberta, female, 16, 0, 0, 110152, 86.5, B79, S, \r 506, 0, 1, Penasco y Castellana, Mr. Victor de Satode, male, 18, 1, 0, PC 17758, 108.9, C65, C, \r 507, 1, 2, Quick, Mrs. Frederick Charles (Jane Richards), female, 33, 0, 2, 26360, 26,, S, \r 508, 1, 1, Bradley, Mr. George (George Arthur Brayton), male,, 0, 0, 111427, 26.55,, S, \r 509, 0, 3, Olsen, Mr. Henry Margido, male, 28, 0, 0, C 4001, 22.525,, S, \r 510, 1, 3, Lang, Mr. Fang, male, 26, 0, 0, 1601, 56.4958,, S, \r 511, 1, 3, Daly, Mr. Eugene Patrick, male, 29, 0, 0, 382651, 7.75,, Q, \r 512, 0, 3, Webber, Mr. James, male,, 0, 0, SOTON / OQ 3101316, 8.05,, S, \r 513, 1, 1, McGough, Mr. James Robert, male, 36, 0, 0, PC 17473, 26.2875, E25, S, \r 514, 1, 1, Rothschild, Mrs. Martin (Elizabeth L. Barrett), female, 54, 1, 0, PC 17603, 59.4,, C, \r 515, 0, 3, Coleff, Mr. Satio, male, 24, 0, 0, 349209, 7.4958,, S, \r 516, 0, 1, Walker, Mr. William Anderson, male, 47, 0, 0, 36967, 34.0208, D46, S, \r 517, 1, 2, Lemore, Mrs. (Amelia Milley), female, 34, 0, 0, C.A. 34260, 10.5, F33, S, \r 518, 0, 3, Ryan, Mr. Patrick, male,, 0, 0, 371110, 24.15,, Q, \r 519, 1, 2, Angle, Mrs. William A (Florence Mary Agnes Hughes), female, 36, 1, 0, 226875, 26,, S, \r 520, 0, 3, Pavlovic, Mr. Stefo, male, 32, 0, 0, 349242, 7.8958,, S, \r 521, 1, 1, Perreault, Miss. Anne, female, 30, 0, 0, 12749, 93.5, B73, S, \r 522, 0, 3, Vovk, Mr. Janko, male, 22, 0, 0, 349252, 7.8958,, S, \r 523, 0, 3, Lahoud, Mr. Sarkis, male,, 0, 0, 2624, 7.225,, C, \r 524, 1, 1, Hippach, Mrs. Louis Albert (Ida Sophia Fischer), female, 44, 0, 1, 111361, 57.9792, B18, C, \r 525, 0, 3, Kassem, Mr. Fared, male,, 0, 0, 2700, 7.2292,, C, \r 526, 0, 3, Farrell, Mr. James, male, 40.5, 0, 0, 367232, 7.75,, Q, \r 527, 1, 2, Ridsdale, Miss. Lucy, female, 50, 0, 0, W./ C. 14258, 10.5,, S, \r 528, 0, 1, Farthing, Mr. John, male,, 0, 0, PC 17483, 221.7792, C95, S, \r 529, 0, 3, Salonen, Mr. Johan Werner, male, 39, 0, 0, 3101296, 7.925,, S, \r 530, 0, 2, Hocking, Mr. Richard George, male, 23, 2, 1, 29104, 11.5,, S, \r 531, 1, 2, Quick, Miss. Phyllis May, female, 2, 1, 1, 26360, 26,, S, \r 532, 0, 3, Toufik, Mr. Nakli, male,, 0, 0, 2641, 7.2292,, C, \r 533, 0, 3, Elias, Mr. Joseph Jr, male, 17, 1, 1, 2690, 7.2292,, C, \r 534, 1, 3, Peter, Mrs. Catherine (Catherine Rizk), female,, 0, 2, 2668, 22.3583,, C, \r 535, 0, 3, Cacic, Miss. Marija, female, 30, 0, 0, 315084, 8.6625,, S, \r 536, 1, 2, Hart, Miss. Eva Miriam, female, 7, 0, 2, F.C.C. 13529, 26.25,, S, \r 537, 0, 1, Butt, Major. Archibald Willingham, male, 45, 0, 0, 113050, 26.55, B38, S, \r 538, 1, 1, LeRoy, Miss. Bertha, female, 30, 0, 0, PC 17761, 106.425,, C, \r 539, 0, 3, Risien, Mr. Samuel Beard, male,, 0, 0, 364498, 14.5,, S, \r 540, 1, 1, Frolicher, Miss. Hedwig Margaritha, female, 22, 0, 2, 13568, 49.5, B39, C, \r 541, 1, 1, Crosby, Miss. Harriet R, female, 36, 0, 2, WE / P 5735, 71, B22, S, \r 542, 0, 3, Andersson, Miss. Ingeborg Constanzia, female, 9, 4, 2, 347082, 31.275,, S, \r 543, 0, 3, Andersson, Miss. Sigrid Elisabeth, female, 11, 4, 2, 347082, 31.275,, S, \r 544, 1, 2, Beane, Mr. Edward, male, 32, 1, 0, 2908, 26,, S, \r 545, 0, 1, Douglas, Mr. Walter Donald, male, 50, 1, 0, PC 17761, 106.425, C86, C, \r 546, 0, 1, Nicholson, Mr. Arthur Ernest, male, 64, 0, 0, 693, 26,, S, \r 547, 1, 2, Beane, Mrs. Edward (Ethel Clarke), female, 19, 1, 0, 2908, 26,, S, \r 548, 1, 2, Padro y Manent, Mr. Julian, male,, 0, 0, SC / PARIS 2146, 13.8625,, C, \r 549, 0, 3, Goldsmith, Mr. Frank John, male, 33, 1, 1, 363291, 20.525,, S, \r 550, 1, 2, Davies, Master. John Morgan Jr, male, 8, 1, 1, C.A. 33112, 36.75,, S, \r 551, 1, 1, Thayer, Mr. John Borland Jr, male, 17, 0, 2, 17421, 110.8833, C70, C, \r 552, 0, 2, Sharp, Mr. Percival James R, male, 27, 0, 0, 244358, 26,, S, \r 553, 0, 3, O\'Brien, Mr. Timothy, male,, 0, 0, 330979, 7.8292,, Q, \r 554, 1, 3, Leeni, Mr. Fahim (Philip Zenni), male, 22, 0, 0, 2620, 7.225,, C, \r 555, 1, 3, Ohman, Miss. Velin, female, 22, 0, 0, 347085, 7.775,, S, \r 556, 0, 1, Wright, Mr. George, male, 62, 0, 0, 113807, 26.55,, S, \r 557, 1, 1, Duff Gordon, Lady. (Lucille Christiana Sutherland) (Mrs Morgan), female, 48, 1, 0, 11755, 39.6, A16, C, \r 558, 0, 1, Robbins, Mr. Victor, male,, 0, 0, PC 17757, 227.525,, C, \r 559, 1, 1, Taussig, Mrs. Emil (Tillie Mandelbaum), female, 39, 1, 1, 110413, 79.65, E67, S, \r 560, 1, 3, de Messemaeker, Mrs. Guillaume Joseph (Emma), female, 36, 1, 0, 345572, 17.4,, S, \r 561, 0, 3, Morrow, Mr. Thomas Rowan, male,, 0, 0, 372622, 7.75,, Q, \r 562, 0, 3, Sivic, Mr. Husein, male, 40, 0, 0, 349251, 7.8958,, S, \r 563, 0, 2, Norman, Mr. Robert Douglas, male, 28, 0, 0, 218629, 13.5,, S, \r 564, 0, 3, Simmons, Mr. John, male,, 0, 0, SOTON / OQ 392082, 8.05,, S, \r 565, 0, 3, Meanwell, Miss. (Marion Ogden), female,, 0, 0, SOTON / O.Q. 392087, 8.05,, S, \r 566, 0, 3, Davies, Mr. Alfred J, male, 24, 2, 0, A / 4 48871, 24.15,, S, \r 567, 0, 3, Stoytcheff, Mr. Ilia, male, 19, 0, 0, 349205, 7.8958,, S, \r 568, 0, 3, Palsson, Mrs. Nils (Alma Cornelia Berglund), female, 29, 0, 4, 349909, 21.075,, S, \r 569, 0, 3, Doharr, Mr. Tannous, male,, 0, 0, 2686, 7.2292,, C, \r 570, 1, 3, Jonsson, Mr. Carl, male, 32, 0, 0, 350417, 7.8542,, S, \r 571, 1, 2, Harris, Mr. George, male, 62, 0, 0, S.W./ PP 752, 10.5,, S, \r 572, 1, 1, Appleton, Mrs. Edward Dale (Charlotte Lamson), female, 53, 2, 0, 11769, 51.4792, C101, S, \r 573, 1, 1, Flynn, Mr. John Irwin (Irving), male, 36, 0, 0, PC 17474, 26.3875, E25, S, \r 574, 1, 3, Kelly, Miss. Mary, female,, 0, 0, 14312, 7.75,, Q, \r 575, 0, 3, Rush, Mr. Alfred George John, male, 16, 0, 0, A / 4. 20589, 8.05,, S, \r 576, 0, 3, Patchett, Mr. George, male, 19, 0, 0, 358585, 14.5,, S, \r 577, 1, 2, Garside, Miss. Ethel, female, 34, 0, 0, 243880, 13,, S, \r 578, 1, 1, Silvey, Mrs. William Baird (Alice Munger), female, 39, 1, 0, 13507, 55.9, E44, S, \r 579, 0, 3, Caram, Mrs. Joseph (Maria Elias), female,, 1, 0, 2689, 14.4583,, C, \r 580, 1, 3, Jussila, Mr. Eiriik, male, 32, 0, 0, STON / O 2. 3101286, 7.925,, S, \r 581, 1, 2, Christy, Miss. Julie Rachel, female, 25, 1, 1, 237789, 30,, S, \r 582, 1, 1, Thayer, Mrs. John Borland (Marian Longstreth Morris), female, 39, 1, 1, 17421, 110.8833, C68, C, \r 583, 0, 2, Downton, Mr. William James, male, 54, 0, 0, 28403, 26,, S, \r 584, 0, 1, Ross, Mr. John Hugo, male, 36, 0, 0, 13049, 40.125, A10, C, \r 585, 0, 3, Paulner, Mr. Uscher, male,, 0, 0, 3411, 8.7125,, C, \r 586, 1, 1, Taussig, Miss. Ruth, female, 18, 0, 2, 110413, 79.65, E68, S, \r 587, 0, 2, Jarvis, Mr. John Denzil, male, 47, 0, 0, 237565, 15,, S, \r 588, 1, 1, Frolicher-Stehli, Mr. Maxmillian, male, 60, 1, 1, 13567, 79.2, B41, C, \r 589, 0, 3, Gilinski, Mr. Eliezer, male, 22, 0, 0, 14973, 8.05,, S, \r 590, 0, 3, Murdlin, Mr. Joseph, male,, 0, 0, A./ 5. 3235, 8.05,, S, \r 591, 0, 3, Rintamaki, Mr. Matti, male, 35, 0, 0, STON / O 2. 3101273, 7.125,, S, \r 592, 1, 1, Stephenson, Mrs. Walter Bertram (Martha Eustis), female, 52, 1, 0, 36947, 78.2667, D20, C, \r 593, 0, 3, Elsbury, Mr. William James, male, 47, 0, 0, A / 5 3902, 7.25,, S, \r 594, 0, 3, Bourke, Miss. Mary, female,, 0, 2, 364848, 7.75,, Q, \r 595, 0, 2, Chapman, Mr. John Henry, male, 37, 1, 0, SC / AH 29037, 26,, S, \r 596, 0, 3, Van Impe, Mr. Jean Baptiste, male, 36, 1, 1, 345773, 24.15,, S, \r 597, 1, 2, Leitch, Miss. Jessie Wills, female,, 0, 0, 248727, 33,, S, \r 598, 0, 3, Johnson, Mr. Alfred, male, 49, 0, 0, LINE, 0,, S, \r 599, 0, 3, Boulos, Mr. Hanna, male,, 0, 0, 2664, 7.225,, C, \r 600, 1, 1, Duff Gordon, Sir. Cosmo Edmund (Mr Morgan), male, 49, 1, 0, PC 17485, 56.9292, A20, C, \r 601, 1, 2, Jacobsohn, Mrs. Sidney Samuel (Amy Frances Christy), female, 24, 2, 1, 243847, 27,, S, \r 602, 0, 3, Slabenoff, Mr. Petco, male,, 0, 0, 349214, 7.8958,, S, \r 603, 0, 1, Harrington, Mr. Charles H, male,, 0, 0, 113796, 42.4,, S, \r 604, 0, 3, Torber, Mr. Ernst William, male, 44, 0, 0, 364511, 8.05,, S, \r 605, 1, 1, Homer, Mr. Harry (Mr E Haven), male, 35, 0, 0, 111426, 26.55,, C, \r 606, 0, 3, Lindell, Mr. Edvard Bengtsson, male, 36, 1, 0, 349910, 15.55,, S, \r 607, 0, 3, Karaic, Mr. Milan, male, 30, 0, 0, 349246, 7.8958,, S, \r 608, 1, 1, Daniel, Mr. Robert Williams, male, 27, 0, 0, 113804, 30.5,, S, \r 609, 1, 2, Laroche, Mrs. Joseph (Juliette Marie Louise Lafargue), female, 22, 1, 2, SC / Paris 2123, 41.5792,, C, \r 610, 1, 1, Shutes, Miss. Elizabeth W, female, 40, 0, 0, PC 17582, 153.4625, C125, S, \r 611, 0, 3, Andersson, Mrs. Anders Johan (Alfrida Konstantia Brogren), female, 39, 1, 5, 347082, 31.275,, S, \r 612, 0, 3, Jardin, Mr. Jose Neto, male,, 0, 0, SOTON / O.Q. 3101305, 7.05,, S, \r 613, 1, 3, Murphy, Miss. Margaret Jane, female,, 1, 0, 367230, 15.5,, Q, \r 614, 0, 3, Horgan, Mr. John, male,, 0, 0, 370377, 7.75,, Q, \r 615, 0, 3, Brocklebank, Mr. William Alfred, male, 35, 0, 0, 364512, 8.05,, S, \r 616, 1, 2, Herman, Miss. Alice, female, 24, 1, 2, 220845, 65,, S, \r 617, 0, 3, Danbom, Mr. Ernst Gilbert, male, 34, 1, 1, 347080, 14.4,, S, \r 618, 0, 3, Lobb, Mrs. William Arthur (Cordelia K Stanlick), female, 26, 1, 0, A / 5. 3336, 16.1,, S, \r 619, 1, 2, Becker, Miss. Marion Louise, female, 4, 2, 1, 230136, 39, F4, S, \r 620, 0, 2, Gavey, Mr. Lawrence, male, 26, 0, 0, 31028, 10.5,, S, \r 621, 0, 3, Yasbeck, Mr. Antoni, male, 27, 1, 0, 2659, 14.4542,, C, \r 622, 1, 1, Kimball, Mr. Edwin Nelson Jr, male, 42, 1, 0, 11753, 52.5542, D19, S, \r 623, 1, 3, Nakid, Mr. Sahid, male, 20, 1, 1, 2653, 15.7417,, C, \r 624, 0, 3, Hansen, Mr. Henry Damsgaard, male, 21, 0, 0, 350029, 7.8542,, S, \r 625, 0, 3, Bowen, Mr. David John Dai, male, 21, 0, 0, 54636, 16.1,, S, \r 626, 0, 1, Sutton, Mr. Frederick, male, 61, 0, 0, 36963, 32.3208, D50, S, \r 627, 0, 2, Kirkland, Rev. Charles Leonard, male, 57, 0, 0, 219533, 12.35,, Q, \r 628, 1, 1, Longley, Miss. Gretchen Fiske, female, 21, 0, 0, 13502, 77.9583, D9, S, \r 629, 0, 3, Bostandyeff, Mr. Guentcho, male, 26, 0, 0, 349224, 7.8958,, S, \r 630, 0, 3, O\'Connell, Mr. Patrick D, male,, 0, 0, 334912, 7.7333,, Q, \r 631, 1, 1, Barkworth, Mr. Algernon Henry Wilson, male, 80, 0, 0, 27042, 30, A23, S, \r 632, 0, 3, Lundahl, Mr. Johan Svensson, male, 51, 0, 0, 347743, 7.0542,, S, \r 633, 1, 1, Stahelin-Maeglin, Dr. Max, male, 32, 0, 0, 13214, 30.5, B50, C, \r 634, 0, 1, Parr, Mr. William Henry Marsh, male,, 0, 0, 112052, 0,, S, \r 635, 0, 3, Skoog, Miss. Mabel, female, 9, 3, 2, 347088, 27.9,, S, \r 636, 1, 2, Davis, Miss. Mary, female, 28, 0, 0, 237668, 13,, S, \r 637, 0, 3, Leinonen, Mr. Antti Gustaf, male, 32, 0, 0, STON / O 2. 3101292, 7.925,, S, \r 638, 0, 2, Collyer, Mr. Harvey, male, 31, 1, 1, C.A. 31921, 26.25,, S, \r 639, 0, 3, Panula, Mrs. Juha (Maria Emilia Ojala), female, 41, 0, 5, 3101295, 39.6875,, S, \r 640, 0, 3, Thorneycroft, Mr. Percival, male,, 1, 0, 376564, 16.1,, S, \r 641, 0, 3, Jensen, Mr. Hans Peder, male, 20, 0, 0, 350050, 7.8542,, S, \r 642, 1, 1, Sagesser, Mlle. Emma, female, 24, 0, 0, PC 17477, 69.3, B35, C, \r 643, 0, 3, Skoog, Miss. Margit Elizabeth, female, 2, 3, 2, 347088, 27.9,, S, \r 644, 1, 3, Foo, Mr. Choong, male,, 0, 0, 1601, 56.4958,, S, \r 645, 1, 3, Baclini, Miss. Eugenie, female, 0.75, 2, 1, 2666, 19.2583,, C, \r 646, 1, 1, Harper, Mr. Henry Sleeper, male, 48, 1, 0, PC 17572, 76.7292, D33, C, \r 647, 0, 3, Cor, Mr. Liudevit, male, 19, 0, 0, 349231, 7.8958,, S, \r 648, 1, 1, Simonius-Blumer, Col. Oberst Alfons, male, 56, 0, 0, 13213, 35.5, A26, C, \r 649, 0, 3, Willey, Mr. Edward, male,, 0, 0, S.O./ P.P. 751, 7.55,, S, \r 650, 1, 3, Stanley, Miss. Amy Zillah Elsie, female, 23, 0, 0, CA. 2314, 7.55,, S, \r 651, 0, 3, Mitkoff, Mr. Mito, male,, 0, 0, 349221, 7.8958,, S, \r 652, 1, 2, Doling, Miss. Elsie, female, 18, 0, 1, 231919, 23,, S, \r 653, 0, 3, Kalvik, Mr. Johannes Halvorsen, male, 21, 0, 0, 8475, 8.4333,, S, \r 654, 1, 3, O\'Leary, Miss. Hanora Norah, female,, 0, 0, 330919, 7.8292,, Q, \r 655, 0, 3, Hegarty, Miss. Hanora Nora, female, 18, 0, 0, 365226, 6.75,, Q, \r 656, 0, 2, Hickman, Mr. Leonard Mark, male, 24, 2, 0, S.O.C. 14879, 73.5,, S, \r 657, 0, 3, Radeff, Mr. Alexander, male,, 0, 0, 349223, 7.8958,, S, \r 658, 0, 3, Bourke, Mrs. John (Catherine), female, 32, 1, 1, 364849, 15.5,, Q, \r 659, 0, 2, Eitemiller, Mr. George Floyd, male, 23, 0, 0, 29751, 13,, S, \r 660, 0, 1, Newell, Mr. Arthur Webster, male, 58, 0, 2, 35273, 113.275, D48, C, \r 661, 1, 1, Frauenthal, Dr. Henry William, male, 50, 2, 0, PC 17611, 133.65,, S, \r 662, 0, 3, Badt, Mr. Mohamed, male, 40, 0, 0, 2623, 7.225,, C, \r 663, 0, 1, Colley, Mr. Edward Pomeroy, male, 47, 0, 0, 5727, 25.5875, E58, S, \r 664, 0, 3, Coleff, Mr. Peju, male, 36, 0, 0, 349210, 7.4958,, S, \r 665, 1, 3, Lindqvist, Mr. Eino William, male, 20, 1, 0, STON / O 2. 3101285, 7.925,, S, \r 666, 0, 2, Hickman, Mr. Lewis, male, 32, 2, 0, S.O.C. 14879, 73.5,, S, \r 667, 0, 2, Butler, Mr. Reginald Fenton, male, 25, 0, 0, 234686, 13,, S, \r 668, 0, 3, Rommetvedt, Mr. Knud Paust, male,, 0, 0, 312993, 7.775,, S, \r 669, 0, 3, Cook, Mr. Jacob, male, 43, 0, 0, A / 5 3536, 8.05,, S, \r 670, 1, 1, Taylor, Mrs. Elmer Zebley (Juliet Cummins Wright), female,, 1, 0, 19996, 52, C126, S, \r 671, 1, 2, Brown, Mrs. Thomas William Solomon (Elizabeth Catherine Ford), female, 40, 1, 1, 29750, 39,, S, \r 672, 0, 1, Davidson, Mr. Thornton, male, 31, 1, 0, F.C. 12750, 52, B71, S, \r 673, 0, 2, Mitchell, Mr. Henry Michael, male, 70, 0, 0, C.A. 24580, 10.5,, S, \r 674, 1, 2, Wilhelms, Mr. Charles, male, 31, 0, 0, 244270, 13,, S, \r 675, 0, 2, Watson, Mr. Ennis Hastings, male,, 0, 0, 239856, 0,, S, \r 676, 0, 3, Edvardsson, Mr. Gustaf Hjalmar, male, 18, 0, 0, 349912, 7.775,, S, \r 677, 0, 3, Sawyer, Mr. Frederick Charles, male, 24.5, 0, 0, 342826, 8.05,, S, \r 678, 1, 3, Turja, Miss. Anna Sofia, female, 18, 0, 0, 4138, 9.8417,, S, \r 679, 0, 3, Goodwin, Mrs. Frederick (Augusta Tyler), female, 43, 1, 6, CA 2144, 46.9,, S, \r 680, 1, 1, Cardeza, Mr. Thomas Drake Martinez, male, 36, 0, 1, PC 17755, 512.3292, B51 B53 B55, C, \r 681, 0, 3, Peters, Miss. Katie, female,, 0, 0, 330935, 8.1375,, Q, \r 682, 1, 1, Hassab, Mr. Hammad, male, 27, 0, 0, PC 17572, 76.7292, D49, C, \r 683, 0, 3, Olsvigen, Mr. Thor Anderson, male, 20, 0, 0, 6563, 9.225,, S, \r 684, 0, 3, Goodwin, Mr. Charles Edward, male, 14, 5, 2, CA 2144, 46.9,, S, \r 685, 0, 2, Brown, Mr. Thomas William Solomon, male, 60, 1, 1, 29750, 39,, S, \r 686, 0, 2, Laroche, Mr. Joseph Philippe Lemercier, male, 25, 1, 2, SC / Paris 2123, 41.5792,, C, \r 687, 0, 3, Panula, Mr. Jaako Arnold, male, 14, 4, 1, 3101295, 39.6875,, S, \r 688, 0, 3, Dakic, Mr. Branko, male, 19, 0, 0, 349228, 10.1708,, S, \r 689, 0, 3, Fischer, Mr. Eberhard Thelander, male, 18, 0, 0, 350036, 7.7958,, S, \r 690, 1, 1, Madill, Miss. Georgette Alexandra, female, 15, 0, 1, 24160, 211.3375, B5, S, \r 691, 1, 1, Dick, Mr. Albert Adrian, male, 31, 1, 0, 17474, 57, B20, S, \r 692, 1, 3, Karun, Miss. Manca, female, 4, 0, 1, 349256, 13.4167,, C, \r 693, 1, 3, Lam, Mr. Ali, male,, 0, 0, 1601, 56.4958,, S, \r 694, 0, 3, Saad, Mr. Khalil, male, 25, 0, 0, 2672, 7.225,, C, \r 695, 0, 1, Weir, Col. John, male, 60, 0, 0, 113800, 26.55,, S, \r 696, 0, 2, Chapman, Mr. Charles Henry, male, 52, 0, 0, 248731, 13.5,, S, \r 697, 0, 3, Kelly, Mr. James, male, 44, 0, 0, 363592, 8.05,, S, \r 698, 1, 3, Mullens, Miss. Katherine Katie, female,, 0, 0, 35852, 7.7333,, Q, \r 699, 0, 1, Thayer, Mr. John Borland, male, 49, 1, 1, 17421, 110.8833, C68, C, \r 700, 0, 3, Humblen, Mr. Adolf Mathias Nicolai Olsen, male, 42, 0, 0, 348121, 7.65, F G63, S, \r 701, 1, 1, Astor, Mrs. John Jacob (Madeleine Talmadge Force), female, 18, 1, 0, PC 17757, 227.525, C62 C64, C, \r 702, 1, 1, Silverthorne, Mr. Spencer Victor, male, 35, 0, 0, PC 17475, 26.2875, E24, S, \r 703, 0, 3, Barbara, Miss. Saiide, female, 18, 0, 1, 2691, 14.4542,, C, \r 704, 0, 3, Gallagher, Mr. Martin, male, 25, 0, 0, 36864, 7.7417,, Q, \r 705, 0, 3, Hansen, Mr. Henrik Juul, male, 26, 1, 0, 350025, 7.8542,, S, \r 706, 0, 2, Morley, Mr. Henry Samuel (Mr Henry Marshall), male, 39, 0, 0, 250655, 26,, S, \r 707, 1, 2, Kelly, Mrs. Florence Fannie, female, 45, 0, 0, 223596, 13.5,, S, \r 708, 1, 1, Calderhead, Mr. Edward Pennington, male, 42, 0, 0, PC 17476, 26.2875, E24, S, \r 709, 1, 1, Cleaver, Miss. Alice, female, 22, 0, 0, 113781, 151.55,, S, \r 710, 1, 3, Moubarek, Master. Halim Gonios (William George), male,, 1, 1, 2661, 15.2458,, C, \r 711, 1, 1, Mayne, Mlle. Berthe Antonine (Mrs de Villiers), female, 24, 0, 0, PC 17482, 49.5042, C90, C, \r 712, 0, 1, Klaber, Mr. Herman, male,, 0, 0, 113028, 26.55, C124, S, \r 713, 1, 1, Taylor, Mr. Elmer Zebley, male, 48, 1, 0, 19996, 52, C126, S, \r 714, 0, 3, Larsson, Mr. August Viktor, male, 29, 0, 0, 7545, 9.4833,, S, \r 715, 0, 2, Greenberg, Mr. Samuel, male, 52, 0, 0, 250647, 13,, S, \r 716, 0, 3, Soholt, Mr. Peter Andreas Lauritz Andersen, male, 19, 0, 0, 348124, 7.65, F G73, S, \r 717, 1, 1, Endres, Miss. Caroline Louise, female, 38, 0, 0, PC 17757, 227.525, C45, C, \r 718, 1, 2, Troutt, Miss. Edwina Celia Winnie, female, 27, 0, 0, 34218, 10.5, E101, S, \r 719, 0, 3, McEvoy, Mr. Michael, male,, 0, 0, 36568, 15.5,, Q, \r 720, 0, 3, Johnson, Mr. Malkolm Joackim, male, 33, 0, 0, 347062, 7.775,, S, \r 721, 1, 2, Harper, Miss. Annie Jessie Nina, female, 6, 0, 1, 248727, 33,, S, \r 722, 0, 3, Jensen, Mr. Svend Lauritz, male, 17, 1, 0, 350048, 7.0542,, S, \r 723, 0, 2, Gillespie, Mr. William Henry, male, 34, 0, 0, 12233, 13,, S, \r 724, 0, 2, Hodges, Mr. Henry Price, male, 50, 0, 0, 250643, 13,, S, \r 725, 1, 1, Chambers, Mr. Norman Campbell, male, 27, 1, 0, 113806, 53.1, E8, S, \r 726, 0, 3, Oreskovic, Mr. Luka, male, 20, 0, 0, 315094, 8.6625,, S, \r 727, 1, 2, Renouf, Mrs. Peter Henry (Lillian Jefferys), female, 30, 3, 0, 31027, 21,, S, \r 728, 1, 3, Mannion, Miss. Margareth, female,, 0, 0, 36866, 7.7375,, Q, \r 729, 0, 2, Bryhl, Mr. Kurt Arnold Gottfrid, male, 25, 1, 0, 236853, 26,, S, \r 730, 0, 3, Ilmakangas, Miss. Pieta Sofia, female, 25, 1, 0, STON / O2. 3101271, 7.925,, S, \r 731, 1, 1, Allen, Miss. Elisabeth Walton, female, 29, 0, 0, 24160, 211.3375, B5, S, \r 732, 0, 3, Hassan, Mr. Houssein G N, male, 11, 0, 0, 2699, 18.7875,, C, \r 733, 0, 2, Knight, Mr. Robert J, male,, 0, 0, 239855, 0,, S, \r 734, 0, 2, Berriman, Mr. William John, male, 23, 0, 0, 28425, 13,, S, \r 735, 0, 2, Troupiansky, Mr. Moses Aaron, male, 23, 0, 0, 233639, 13,, S, \r 736, 0, 3, Williams, Mr. Leslie, male, 28.5, 0, 0, 54636, 16.1,, S, \r 737, 0, 3, Ford, Mrs. Edward (Margaret Ann Watson), female, 48, 1, 3, W./ C. 6608, 34.375,, S, \r 738, 1, 1, Lesurer, Mr. Gustave J, male, 35, 0, 0, PC 17755, 512.3292, B101, C, \r 739, 0, 3, Ivanoff, Mr. Kanio, male,, 0, 0, 349201, 7.8958,, S, \r 740, 0, 3, Nankoff, Mr. Minko, male,, 0, 0, 349218, 7.8958,, S, \r 741, 1, 1, Hawksford, Mr. Walter James, male,, 0, 0, 16988, 30, D45, S, \r 742, 0, 1, Cavendish, Mr. Tyrell William, male, 36, 1, 0, 19877, 78.85, C46, S, \r 743, 1, 1, Ryerson, Miss. Susan Parker Suzette, female, 21, 2, 2, PC 17608, 262.375, B57 B59 B63 B66, C, \r 744, 0, 3, McNamee, Mr. Neal, male, 24, 1, 0, 376566, 16.1,, S, \r 745, 1, 3, Stranden, Mr. Juho, male, 31, 0, 0, STON / O 2. 3101288, 7.925,, S, \r 746, 0, 1, Crosby, Capt. Edward Gifford, male, 70, 1, 1, WE / P 5735, 71, B22, S, \r 747, 0, 3, Abbott, Mr. Rossmore Edward, male, 16, 1, 1, C.A. 2673, 20.25,, S, \r 748, 1, 2, Sinkkonen, Miss. Anna, female, 30, 0, 0, 250648, 13,, S, \r 749, 0, 1, Marvin, Mr. Daniel Warner, male, 19, 1, 0, 113773, 53.1, D30, S, \r 750, 0, 3, Connaghton, Mr. Michael, male, 31, 0, 0, 335097, 7.75,, Q, \r 751, 1, 2, Wells, Miss. Joan, female, 4, 1, 1, 29103, 23,, S, \r 752, 1, 3, Moor, Master. Meier, male, 6, 0, 1, 392096, 12.475, E121, S, \r 753, 0, 3, Vande Velde, Mr. Johannes Joseph, male, 33, 0, 0, 345780, 9.5,, S, \r 754, 0, 3, Jonkoff, Mr. Lalio, male, 23, 0, 0, 349204, 7.8958,, S, \r 755, 1, 2, Herman, Mrs. Samuel (Jane Laver), female, 48, 1, 2, 220845, 65,, S, \r 756, 1, 2, Hamalainen, Master. Viljo, male, 0.67, 1, 1, 250649, 14.5,, S, \r 757, 0, 3, Carlsson, Mr. August Sigfrid, male, 28, 0, 0, 350042, 7.7958,, S, \r 758, 0, 2, Bailey, Mr. Percy Andrew, male, 18, 0, 0, 29108, 11.5,, S, \r 759, 0, 3, Theobald, Mr. Thomas Leonard, male, 34, 0, 0, 363294, 8.05,, S, \r 760, 1, 1, Rothes, the Countess. of (Lucy Noel Martha Dyer-Edwards), female, 33, 0, 0, 110152, 86.5, B77, S, \r 761, 0, 3, Garfirth, Mr. John, male,, 0, 0, 358585, 14.5,, S, \r 762, 0, 3, Nirva, Mr. Iisakki Antino Aijo, male, 41, 0, 0, SOTON / O2 3101272, 7.125,, S, \r 763, 1, 3, Barah, Mr. Hanna Assi, male, 20, 0, 0, 2663, 7.2292,, C, \r 764, 1, 1, Carter, Mrs. William Ernest (Lucile Polk), female, 36, 1, 2, 113760, 120, B96 B98, S, \r 765, 0, 3, Eklund, Mr. Hans Linus, male, 16, 0, 0, 347074, 7.775,, S, \r 766, 1, 1, Hogeboom, Mrs. John C (Anna Andrews), female, 51, 1, 0, 13502, 77.9583, D11, S, \r 767, 0, 1, Brewe, Dr. Arthur Jackson, male,, 0, 0, 112379, 39.6,, C, \r 768, 0, 3, Mangan, Miss. Mary, female, 30.5, 0, 0, 364850, 7.75,, Q, \r 769, 0, 3, Moran, Mr. Daniel J, male,, 1, 0, 371110, 24.15,, Q, \r 770, 0, 3, Gronnestad, Mr. Daniel Danielsen, male, 32, 0, 0, 8471, 8.3625,, S, \r 771, 0, 3, Lievens, Mr. Rene Aime, male, 24, 0, 0, 345781, 9.5,, S, \r 772, 0, 3, Jensen, Mr. Niels Peder, male, 48, 0, 0, 350047, 7.8542,, S, \r 773, 0, 2, Mack, Mrs. (Mary), female, 57, 0, 0, S.O./ P.P. 3, 10.5, E77, S, \r 774, 0, 3, Elias, Mr. Dibo, male,, 0, 0, 2674, 7.225,, C, \r 775, 1, 2, Hocking, Mrs. Elizabeth (Eliza Needs), female, 54, 1, 3, 29105, 23,, S, \r 776, 0, 3, Myhrman, Mr. Pehr Fabian Oliver Malkolm, male, 18, 0, 0, 347078, 7.75,, S, \r 777, 0, 3, Tobin, Mr. Roger, male,, 0, 0, 383121, 7.75, F38, Q, \r 778, 1, 3, Emanuel, Miss. Virginia Ethel, female, 5, 0, 0, 364516, 12.475,, S, \r 779, 0, 3, Kilgannon, Mr. Thomas J, male,, 0, 0, 36865, 7.7375,, Q, \r 780, 1, 1, Robert, Mrs. Edward Scott (Elisabeth Walton McMillan), female, 43, 0, 1, 24160, 211.3375, B3, S, \r 781, 1, 3, Ayoub, Miss. Banoura, female, 13, 0, 0, 2687, 7.2292,, C, \r 782, 1, 1, Dick, Mrs. Albert Adrian (Vera Gillespie), female, 17, 1, 0, 17474, 57, B20, S, \r 783, 0, 1, Long, Mr. Milton Clyde, male, 29, 0, 0, 113501, 30, D6, S, \r 784, 0, 3, Johnston, Mr. Andrew G, male,, 1, 2, W./ C. 6607, 23.45,, S, \r 785, 0, 3, Ali, Mr. William, male, 25, 0, 0, SOTON / O.Q. 3101312, 7.05,, S, \r 786, 0, 3, Harmer, Mr. Abraham (David Lishin), male, 25, 0, 0, 374887, 7.25,, S, \r 787, 1, 3, Sjoblom, Miss. Anna Sofia, female, 18, 0, 0, 3101265, 7.4958,, S, \r 788, 0, 3, Rice, Master. George Hugh, male, 8, 4, 1, 382652, 29.125,, Q, \r 789, 1, 3, Dean, Master. Bertram Vere, male, 1, 1, 2, C.A. 2315, 20.575,, S, \r 790, 0, 1, Guggenheim, Mr. Benjamin, male, 46, 0, 0, PC 17593, 79.2, B82 B84, C, \r 791, 0, 3, Keane, Mr. Andrew Andy, male,, 0, 0, 12460, 7.75,, Q, \r 792, 0, 2, Gaskell, Mr. Alfred, male, 16, 0, 0, 239865, 26,, S, \r 793, 0, 3, Sage, Miss. Stella Anna, female,, 8, 2, CA. 2343, 69.55,, S, \r 794, 0, 1, Hoyt, Mr. William Fisher, male,, 0, 0, PC 17600, 30.6958,, C, \r 795, 0, 3, Dantcheff, Mr. Ristiu, male, 25, 0, 0, 349203, 7.8958,, S, \r 796, 0, 2, Otter, Mr. Richard, male, 39, 0, 0, 28213, 13,, S, \r 797, 1, 1, Leader, Dr. Alice (Farnham), female, 49, 0, 0, 17465, 25.9292, D17, S, \r 798, 1, 3, Osman, Mrs. Mara, female, 31, 0, 0, 349244, 8.6833,, S, \r 799, 0, 3, Ibrahim Shawah, Mr. Yousseff, male, 30, 0, 0, 2685, 7.2292,, C, \r 800, 0, 3, Van Impe, Mrs. Jean Baptiste (Rosalie Paula Govaert), female, 30, 1, 1, 345773, 24.15,, S, \r 801, 0, 2, Ponesell, Mr. Martin, male, 34, 0, 0, 250647, 13,, S, \r 802, 1, 2, Collyer, Mrs. Harvey (Charlotte Annie Tate), female, 31, 1, 1, C.A. 31921, 26.25,, S, \r 803, 1, 1, Carter, Master. William Thornton II, male, 11, 1, 2, 113760, 120, B96 B98, S, \r 804, 1, 3, Thomas, Master. Assad Alexander, male, 0.42, 0, 1, 2625, 8.5167,, C, \r 805, 1, 3, Hedman, Mr. Oskar Arvid, male, 27, 0, 0, 347089, 6.975,, S, \r 806, 0, 3, Johansson, Mr. Karl Johan, male, 31, 0, 0, 347063, 7.775,, S, \r 807, 0, 1, Andrews, Mr. Thomas Jr, male, 39, 0, 0, 112050, 0, A36, S, \r 808, 0, 3, Pettersson, Miss. Ellen Natalia, female, 18, 0, 0, 347087, 7.775,, S, \r 809, 0, 2, Meyer, Mr. August, male, 39, 0, 0, 248723, 13,, S, \r 810, 1, 1, Chambers, Mrs. Norman Campbell (Bertha Griggs), female, 33, 1, 0, 113806, 53.1, E8, S, \r 811, 0, 3, Alexander, Mr. William, male, 26, 0, 0, 3474, 7.8875,, S, \r 812, 0, 3, Lester, Mr. James, male, 39, 0, 0, A / 4 48871, 24.15,, S, \r 813, 0, 2, Slemen, Mr. Richard James, male, 35, 0, 0, 28206, 10.5,, S, \r 814, 0, 3, Andersson, Miss. Ebba Iris Alfrida, female, 6, 4, 2, 347082, 31.275,, S, \r 815, 0, 3, Tomlin, Mr. Ernest Portage, male, 30.5, 0, 0, 364499, 8.05,, S, \r 816, 0, 1, Fry, Mr. Richard, male,, 0, 0, 112058, 0, B102, S, \r 817, 0, 3, Heininen, Miss. Wendla Maria, female, 23, 0, 0, STON / O2. 3101290, 7.925,, S, \r 818, 0, 2, Mallet, Mr. Albert, male, 31, 1, 1, S.C./ PARIS 2079, 37.0042,, C, \r 819, 0, 3, Holm, Mr. John Fredrik Alexander, male, 43, 0, 0, C 7075, 6.45,, S, \r 820, 0, 3, Skoog, Master. Karl Thorsten, male, 10, 3, 2, 347088, 27.9,, S, \r 821, 1, 1, Hays, Mrs. Charles Melville (Clara Jennings Gregg), female, 52, 1, 1, 12749, 93.5, B69, S, \r 822, 1, 3, Lulic, Mr. Nikola, male, 27, 0, 0, 315098, 8.6625,, S, \r 823, 0, 1, Reuchlin, Jonkheer. John George, male, 38, 0, 0, 19972, 0,, S, \r 824, 1, 3, Moor, Mrs. (Beila), female, 27, 0, 1, 392096, 12.475, E121, S, \r 825, 0, 3, Panula, Master. Urho Abraham, male, 2, 4, 1, 3101295, 39.6875,, S, \r 826, 0, 3, Flynn, Mr. John, male,, 0, 0, 368323, 6.95,, Q, \r 827, 0, 3, Lam, Mr. Len, male,, 0, 0, 1601, 56.4958,, S, \r 828, 1, 2, Mallet, Master. Andre, male, 1, 0, 2, S.C./ PARIS 2079, 37.0042,, C, \r 829, 1, 3, McCormack, Mr. Thomas Joseph, male,, 0, 0, 367228, 7.75,, Q, \r 830, 1, 1, Stone, Mrs. George Nelson (Martha Evelyn), female, 62, 0, 0, 113572, 80, B28,, \r   831, 1, 3, Yasbeck, Mrs. Antoni (Selini Alexander), female, 15, 1, 0, 2659, 14.4542,, C, \r 832, 1, 2, Richards, Master. George Sibley, male, 0.83, 1, 1, 29106, 18.75,, S, \r 833, 0, 3, Saad, Mr. Amin, male,, 0, 0, 2671, 7.2292,, C, \r 834, 0, 3, Augustsson, Mr. Albert, male, 23, 0, 0, 347468, 7.8542,, S, \r 835, 0, 3, Allum, Mr. Owen George, male, 18, 0, 0, 2223, 8.3,, S, \r 836, 1, 1, Compton, Miss. Sara Rebecca, female, 39, 1, 1, PC 17756, 83.1583, E49, C, \r 837, 0, 3, Pasic, Mr. Jakob, male, 21, 0, 0, 315097, 8.6625,, S, \r 838, 0, 3, Sirota, Mr. Maurice, male,, 0, 0, 392092, 8.05,, S, \r 839, 1, 3, Chip, Mr. Chang, male, 32, 0, 0, 1601, 56.4958,, S, \r 840, 1, 1, Marechal, Mr. Pierre, male,, 0, 0, 11774, 29.7, C47, C, \r 841, 0, 3, Alhomaki, Mr. Ilmari Rudolf, male, 20, 0, 0, SOTON / O2 3101287, 7.925,, S, \r 842, 0, 2, Mudd, Mr. Thomas Charles, male, 16, 0, 0, S.O./ P.P. 3, 10.5,, S, \r 843, 1, 1, Serepeca, Miss. Augusta, female, 30, 0, 0, 113798, 31,, C, \r 844, 0, 3, Lemberopolous, Mr. Peter L, male, 34.5, 0, 0, 2683, 6.4375,, C, \r 845, 0, 3, Culumovic, Mr. Jeso, male, 17, 0, 0, 315090, 8.6625,, S, \r 846, 0, 3, Abbing, Mr. Anthony, male, 42, 0, 0, C.A. 5547, 7.55,, S, \r 847, 0, 3, Sage, Mr. Douglas Bullen, male,, 8, 2, CA. 2343, 69.55,, S, \r 848, 0, 3, Markoff, Mr. Marin, male, 35, 0, 0, 349213, 7.8958,, C, \r 849, 0, 2, Harper, Rev. John, male, 28, 0, 1, 248727, 33,, S, \r 850, 1, 1, Goldenberg, Mrs. Samuel L (Edwiga Grabowska), female,, 1, 0, 17453, 89.1042, C92, C, \r 851, 0, 3, Andersson, Master. Sigvard Harald Elias, male, 4, 4, 2, 347082, 31.275,, S, \r 852, 0, 3, Svensson, Mr. Johan, male, 74, 0, 0, 347060, 7.775,, S, \r 853, 0, 3, Boulos, Miss. Nourelain, female, 9, 1, 1, 2678, 15.2458,, C, \r 854, 1, 1, Lines, Miss. Mary Conover, female, 16, 0, 1, PC 17592, 39.4, D28, S, \r 855, 0, 2, Carter, Mrs. Ernest Courtenay (Lilian Hughes), female, 44, 1, 0, 244252, 26,, S, \r 856, 1, 3, Aks, Mrs. Sam (Leah Rosen), female, 18, 0, 1, 392091, 9.35,, S, \r 857, 1, 1, Wick, Mrs. George Dennick (Mary Hitchcock), female, 45, 1, 1, 36928, 164.8667,, S, \r 858, 1, 1, Daly, Mr. Peter Denis , male, 51, 0, 0, 113055, 26.55, E17, S, \r 859, 1, 3, Baclini, Mrs. Solomon (Latifa Qurban), female, 24, 0, 3, 2666, 19.2583,, C, \r 860, 0, 3, Razi, Mr. Raihed, male,, 0, 0, 2629, 7.2292,, C, \r 861, 0, 3, Hansen, Mr. Claus Peter, male, 41, 2, 0, 350026, 14.1083,, S, \r 862, 0, 2, Giles, Mr. Frederick Edward, male, 21, 1, 0, 28134, 11.5,, S, \r 863, 1, 1, Swift, Mrs. Frederick Joel (Margaret Welles Barron), female, 48, 0, 0, 17466, 25.9292, D17, S, \r 864, 0, 3, Sage, Miss. Dorothy Edith Dolly, female,, 8, 2, CA. 2343, 69.55,, S, \r 865, 0, 2, Gill, Mr. John William, male, 24, 0, 0, 233866, 13,, S, \r 866, 1, 2, Bystrom, Mrs. (Karolina), female, 42, 0, 0, 236852, 13,, S, \r 867, 1, 2, Duran y More, Miss. Asuncion, female, 27, 1, 0, SC / PARIS 2149, 13.8583,, C, \r 868, 0, 1, Roebling, Mr. Washington Augustus II, male, 31, 0, 0, PC 17590, 50.4958, A24, S, \r 869, 0, 3, van Melkebeke, Mr. Philemon, male,, 0, 0, 345777, 9.5,, S, \r 870, 1, 3, Johnson, Master. Harold Theodor, male, 4, 1, 1, 347742, 11.1333,, S, \r 871, 0, 3, Balkic, Mr. Cerin, male, 26, 0, 0, 349248, 7.8958,, S, \r 872, 1, 1, Beckwith, Mrs. Richard Leonard (Sallie Monypeny), female, 47, 1, 1, 11751, 52.5542, D35, S, \r 873, 0, 1, Carlsson, Mr. Frans Olof, male, 33, 0, 0, 695, 5, B51 B53 B55, S, \r 874, 0, 3, Vander Cruyssen, Mr. Victor, male, 47, 0, 0, 345765, 9,, S, \r 875, 1, 2, Abelson, Mrs. Samuel (Hannah Wizosky), female, 28, 1, 0, P / PP 3381, 24,, C, \r 876, 1, 3, Najib, Miss. Adele Kiamie Jane, female, 15, 0, 0, 2667, 7.225,, C, \r 877, 0, 3, Gustafsson, Mr. Alfred Ossian, male, 20, 0, 0, 7534, 9.8458,, S, \r 878, 0, 3, Petroff, Mr. Nedelio, male, 19, 0, 0, 349212, 7.8958,, S, \r 879, 0, 3, Laleff, Mr. Kristo, male,, 0, 0, 349217, 7.8958,, S, \r 880, 1, 1, Potter, Mrs. Thomas Jr (Lily Alexenia Wilson), female, 56, 0, 1, 11767, 83.1583, C50, C, \r 881, 1, 2, Shelley, Mrs. William (Imanita Parrish Hall), female, 25, 0, 1, 230433, 26,, S, \r 882, 0, 3, Markun, Mr. Johann, male, 33, 0, 0, 349257, 7.8958,, S, \r 883, 0, 3, Dahlberg, Miss. Gerda Ulrika, female, 22, 0, 0, 7552, 10.5167,, S, \r 884, 0, 2, Banfield, Mr. Frederick James, male, 28, 0, 0, C.A./ SOTON 34068, 10.5,, S, \r 885, 0, 3, Sutehall, Mr. Henry Jr, male, 25, 0, 0, SOTON / OQ 392076, 7.05,, S, \r 886, 0, 3, Rice, Mrs. William (Margaret Norton), female, 39, 0, 5, 382652, 29.125,, Q, \r 887, 0, 2, Montvila, Rev. Juozas, male, 27, 0, 0, 211536, 13,, S, \r 888, 1, 1, Graham, Miss. Margaret Edith, female, 19, 0, 0, 112053, 30, B42, S, \r 889, 0, 3, Johnston, Miss. Catherine Helen Carrie, female,, 1, 2, W./ C. 6607, 23.45,, S, \r 890, 1, 1, Behr, Mr. Karl Howell, male, 26, 0, 0, 111369, 30, C148, C, \r 891, 0, 3, Dooley, Mr. Patrick, male, 32, 0, 0, 370376, 7.75,, Q',{delimiter:"",newline:"\r",quoteChar:'"',escapeChar:'"',header:!0,transformHeader:void 0,dynamicTyping:!1,preview:0,encoding:"",worker:!1,comments:!1,step:void 0,complete:t=>{},error:void 0,download:!1,downloadRequestHeaders:void 0,skipEmptyLines:!1,chunk:void 0,fastMode:void 0,beforeFirstChunk:void 0,withCredentials:void 0,transform:void 0})}generateDocId(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",s=t;s||(s=10);for(let o=0;o<s;o++)i=i.concat(r.charAt(Math.floor(Math.random()*r.length)));return i}}return n.\u0275fac=function(t){return new(t||n)(F(XX))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f3=T0(Mf_firebase),Zp=function NX(n=j2()){return If(n,"firestore").getImmediate()}(f3),em=HP(Zp,"train_passengers"),tm=[],xn=[],p3=new Promise((n,e)=>{null!==xn[0]||xn.length<0?n("Document"):e("No document find")}),pd=[],Nl=[],CE={pushed:[{}],not_pushed:[{}],error:""};let m3=(()=>{class n{constructor(t){this.dS=t,this.auth=T1(f3),this.data={},this.all_age=[],tm.length=0,this.data=t.getData(),console.log(this.data.data[1]),this.dataLength=this.data.data.length}getDocsId(t,r,i,s,o){var a=this;return g(function*(){console.log("Lancement de getDocsId"),console.log(s);for(let h=0;h<xn.length;h++)xn.splice(h,10);console.log("RESETED DOCS CONST !!!:",xn);const l=dd(em,Ar("Sex","==",t),Ar("Age",">"," "+r),Ar("Age","<"," "+i),Ar("Pclass","==",s)),u=dd(em,Ar("Age",">"," "+r),Ar("Age","<"," "+i),Ar("Pclass","==",s)),c=dd(em,Ar("Sex","==",t),Ar("Age",">"," "+r),Ar("Age","<"," "+i)),d=dd(em,Ar("Age",">"," "+r),Ar("Age","<"," "+i));if("SAC"==o){const h=yield hd(l);a.callPush(h),console.log("SEARCH TYPE = SAC")}if("AC"==o){const h=yield hd(u);a.callPush(h),console.log("SEARCH TYPE = AC")}if("SA"==o){const h=yield hd(c);a.callPush(h),console.log("SEARCH TYPE = SA")}if("A"==o){console.log("Condition A accepted");const h=yield hd(d);a.callPush(h),console.log("SEARCH TYPE = A")}a.getDocsById()})()}callPush(t){console.log("callPushaccepted"),t.forEach(r=>{tm.push(r.id)})}getDocsById(){var t=this;return g(function*(){for(let s=0;s<tm.length;s++){var r=cE(Zp,"train_passengers",tm[s]),i=yield c3(r);i.exists()?(console.log("Document data:",i.data()),xn.push(i.data())):console.log("No such document!"),console.log(i.get),xn.push(i.data())}console.log("getDocsById: final",xn),p3.then(()=>{console.log("Its confirmmmmmmmmmmm !!")}).catch(()=>{console.log("Its not confirm ://!!")}),t.static()})()}getOneDoc(t){return g(function*(){return(yield c3(t)).data()})()}getPassengersInDB(){return g(function*(){let t=[];return(yield hd(dd(HP(Zp,"train_passengers")))).forEach(i=>{t.push(i.data())}),t})()}pushDataPassenger(t){var r=this;return g(function*(){yield function KX(n,e,t){n=Re(n,Et);const r=Re(n.firestore,at),i=function vE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return fd(r,[fE(Al(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ht.none())])}(cE(Zp,"train_passengers",r.dS.generateDocId(20)),{id:r.data.data[t].PassengerId,Survived:r.data.data[t].Survived,Pclass:r.data.data[t].Pclass,FirstName:r.data.data[t].FirstName,Name:r.data.data[t].Name,Sex:r.data.data[t].Sex,Age:r.data.data[t].Age,SibSp:r.data.data[t].SibSp,Parch:r.data.data[t].Parch,Ticket:r.data.data[t].Ticket,Fare:r.data.data[t].Fare,Cabin:r.data.data[t].Cabin,Embarked:r.data.data[t].Embarked})})()}pushDataToFB(){console.log("Lancement de la methode pushDataToFB");let t=this.getPassengersInDB();console.log(t),t.then(r=>{if(r)for(let i=0;i<this.dataLength;i++)r.find(o=>o.id==this.data.data[i].PassengerId)?CE.not_pushed.push(this.data.data[i]):CE.pushed.push(this.data.data[i]);else console.log("No element")}).catch(()=>{CE.error="Error DB01: Probleme de recuperation des donnees dans la base Firestore"})}static(){for(let t=0;t<xn.length;t++)" 1"==xn[t].Survived&&pd.push(xn[t])," 0"==xn[t].Survived&&Nl.push(xn[t]);console.log("const survived statistic",pd),console.log("const survived statistic",Nl)}}return n.\u0275fac=function(t){return new(t||n)(F(h3))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZX(n,e){1&n&&(H(0,"button",22),ve(1,"Submit"),U()),2&n&&(Vt(),ut("disabled",xa(1).invalid))}function eZ(n,e){if(1&n){const t=Na();H(0,"form",3,4),Le("ngSubmit",function(){Rn(t);const i=xa(1);return Vt().onSubmit(i)}),H(2,"div",5)(3,"label",6),ve(4,"Selectionnez le sexe :"),U(),Vn(5,"br"),H(6,"label",7),ve(7,"Femmes"),U(),H(8,"input",8),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.Sex.female=i}),U(),H(9,"label",9),ve(10,"Hommes"),U(),H(11,"input",10),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.Sex.male=i}),U()(),H(12,"div",11)(13,"p"),ve(14,"Age compris entre :"),U(),H(15,"div")(16,"input",12),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.min_age=i}),U(),H(17,"label",13),ve(18),U()(),H(19,"p"),ve(20,"Et :"),U(),H(21,"div")(22,"input",14),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.max_age=i}),U(),H(23,"label",13),ve(24),U()()(),H(25,"div",11)(26,"label",6),ve(27,"Classes des passagers"),U(),Vn(28,"br"),H(29,"label",15),ve(30,"Premi\xe8re classe : "),U(),H(31,"input",16),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.Class.c1=i}),U(),H(32,"label",17),ve(33,"Seconde classe : "),U(),H(34,"input",18),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.Class.c2=i}),U(),H(35,"label",19),ve(36,"Troisi\xe8me classe : "),U(),H(37,"input",20),Le("ngModelChange",function(i){return Rn(t),Vt().analyzeModel.Class.c3=i}),U()(),ss(38,ZX,2,1,"button",21),U()}if(2&n){const t=Vt();Fe(8),ut("ngModel",t.analyzeModel.Sex.female),Fe(3),ut("ngModel",t.analyzeModel.Sex.male),Fe(5),ut("ngModel",t.analyzeModel.min_age),Fe(2),Oa(t.analyzeModel.min_age),Fe(4),lh("min",t.analyzeModel.min_age),ut("ngModel",t.analyzeModel.max_age),Fe(2),Oa(t.analyzeModel.max_age),Fe(7),ut("ngModel",t.analyzeModel.Class.c1),Fe(3),ut("ngModel",t.analyzeModel.Class.c2),Fe(3),ut("ngModel",t.analyzeModel.Class.c3),Fe(1),ut("ngIf",t.analyzeModel.min_age<t.analyzeModel.max_age)}}function tZ(n,e){if(1&n){const t=Na();H(0,"div")(1,"button",23),Le("click",function(){return Rn(t),Vt().open()}),ve(2,"Nouvelle analyse"),U()()}}let nZ=(()=>{class n{constructor(t,r){this.fS=t,this.router=r,this.win={open:!0},this.request={sex:"all",min_age:"",max_age:"",Pclass:"",searchT:""},this.analyzeModel=new vK({female:!0,male:!0},"10","",{c1:!0,c2:!0,c3:!0})}ngOnInit(){}onSubmit(t){this.check(),console.log("SUBM Sex",this.request.sex),console.log("SUBM Class",this.request.Pclass),console.log("SUBM search",this.request.searchT),this.fS.getDocsId(this.request.sex,this.request.min_age,this.request.max_age,this.request.Pclass,this.request.searchT),console.log("request before routing",this.request),this.searchResult(t),this.open()}searchResult(t){var r=this;return g(function*(){console.log("routing promise waiting"),p3.then(()=>{console.log("routing"),r.router.navigate(["/admin/search"])}).catch(()=>{console.log("Promesse de resultat non tenue"),t.reset()})})()}open(){this.win.open=!0!==this.win.open}check(){this.request.min_age=parseInt(" "+this.analyzeModel.min_age),this.request.max_age=parseInt(" "+this.analyzeModel.max_age),!0===this.analyzeModel.Sex.female&&!0!==this.analyzeModel.Sex.male&&(this.request.sex=" female"),!0!==this.analyzeModel.Sex.female&&!0===this.analyzeModel.Sex.male&&(this.request.sex=" male"),!0===this.analyzeModel.Class.c1&&!0!==this.analyzeModel.Class.c2&&!0!==this.analyzeModel.Class.c3&&(this.request.Pclass=" 1"),!0===this.analyzeModel.Class.c2&&!0!==this.analyzeModel.Class.c1&&!0!==this.analyzeModel.Class.c3&&(this.request.Pclass=" 2"),!0===this.analyzeModel.Class.c3&&!0!==this.analyzeModel.Class.c2&&!0!==this.analyzeModel.Class.c1&&(this.request.Pclass=" 3"),(!0===this.analyzeModel.Sex.female&&!0!==this.analyzeModel.Sex.male||!0!==this.analyzeModel.Sex.female&&!0===this.analyzeModel.Sex.male)&&(!0===this.analyzeModel.Class.c1||!0===this.analyzeModel.Class.c2||!0===this.analyzeModel.Class.c3)&&(this.request.searchT="SAC"),!0===this.analyzeModel.Sex.female&&!0===this.analyzeModel.Sex.male&&(!0===this.analyzeModel.Class.c1||!0===this.analyzeModel.Class.c2||!0===this.analyzeModel.Class.c3)&&(this.request.searchT="AC"),!0===this.analyzeModel.Sex.female&&!0!==this.analyzeModel.Sex.male&&!0===this.analyzeModel.Class.c1&&!0===this.analyzeModel.Class.c2&&!0===this.analyzeModel.Class.c3&&(this.request.searchT="SA"),!0===this.analyzeModel.Sex.female&&!0===this.analyzeModel.Sex.male&&!0===this.analyzeModel.Class.c1&&!0===this.analyzeModel.Class.c2&&!0===this.analyzeModel.Class.c3&&(this.request.searchT="A")}}return n.\u0275fac=function(t){return new(t||n)(D(m3),D(cn))},n.\u0275cmp=vn({type:n,selectors:[["app-analyzes"]],decls:3,vars:2,consts:[[1,"m-5"],["class","rounded-3  ",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"rounded-3",3,"ngSubmit"],["formAnalyze","ngForm"],[1,"m-auto"],["for",""],["for","female",1,"form-label"],["type","checkbox","name","female","id","female",3,"ngModel","ngModelChange"],["for","male",1,"form-label"],["type","checkbox","name","male","id","male",3,"ngModel","ngModelChange"],[1,"col-md-4"],["min","10","max","97","value","19","orient","minlength","name","ages","required","","type","range","id","min_age","placeholder","Age minimal (minimun 20)",1,"form-range",3,"ngModel","ngModelChange"],["for","ages",1,"form-label"],["max","97","value","19","orient","minlength","name","ages","required","","type","range","id","min_age","placeholder","Age minimal (minimun 20)",1,"form-range",3,"min","ngModel","ngModelChange"],["for","P1"],["type","checkbox","name","P1","id","P1",3,"ngModel","ngModelChange"],["for","P2"],["type","checkbox","name","P2","id","P2",3,"ngModel","ngModelChange"],["for","P3"],["type","checkbox","name","P3","id","P3",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-primary m-3",3,"disabled",4,"ngIf"],["type","submit",1,"btn","btn-primary","m-3",3,"disabled"],[1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(H(0,"div",0),ss(1,eZ,39,11,"form",1),ss(2,tZ,3,0,"div",2),U()),2&t&&(Fe(1),ut("ngIf",!0===r.win.open),Fe(1),ut("ngIf",!1===r.win.open))},directives:[Uh,nf,Wh,Ha,mv,_v,tf,Nv,xu,Pu],styles:[""]}),n})();function rZ(n,e){if(1&n&&(H(0,"div",21)(1,"p"),ve(2),U(),H(3,"p"),ve(4),U(),H(5,"p"),ve(6),U(),H(7,"p"),ve(8),U()()),2&n){const t=Vt().$implicit;lh("id",t.id),Fe(2),ui("Pr\xe9nom : ",t.FirstName,""),Fe(2),ui("Cabine : ",t.Cabin,""),Fe(2),ui("Num\xe9ro de ticket : ",t.Ticket,""),Fe(2),ui("Tarif : ",t.Fare,"")}}function iZ(n,e){if(1&n){const t=Na();H(0,"li",14)(1,"div",15)(2,"div",16),ve(3),U(),ve(4),U(),H(5,"span",17),ve(6),U(),H(7,"span",18),ve(8),U(),H(9,"button",19),Le("click",function(){const s=Rn(t).$implicit;return Vt(2).p_view(s.id)}),ve(10,"Voir"),U(),ss(11,rZ,9,5,"div",20),U()}if(2&n){const t=e.$implicit,r=Vt(2);uh("id","div",t.id,""),Fe(3),Oa(t.Name),Fe(1),ui(" ",t.Sex," "),Fe(2),ui(" Age: ",t.Age,""),Fe(2),ui(" Classe : ",t.Pclass,""),Fe(3),ut("ngIf",r.p_open.id==t.id&&!0===r.p_open.val)}}const sZ=function(n){return["On suv\xe9cus",n]},oZ=function(n){return["Non pas surv\xe9cus",n]},aZ=function(n,e){return[n,e]},lZ=function(){return["Survivants premi\xe8re classe",3]},uZ=function(){return["Survivants Seconde Classe",18]},cZ=function(){return["Survivants Troisi\xe8me classe",55]},dZ=function(n,e,t){return[n,e,t]};function hZ(n,e){if(1&n){const t=Na();H(0,"div",2)(1,"div",3),Vn(2,"div",4,5),U(),H(4,"div",6)(5,"button",7),Le("click",function(){return Rn(t),Vt().surviveColor()}),ve(6,"Colors"),U(),H(7,"button",8),Le("click",function(){return Rn(t),Vt().backAnalyze()}),ve(8,"Reset"),U()(),H(9,"div")(10,"button",9),Le("click",function(){return Rn(t),Vt().loading()}),ve(11,"Chargement du diagramme"),U(),Vn(12,"google-chart",10)(13,"google-chart",10),U(),H(14,"div",11)(15,"ol",12),ss(16,iZ,12,6,"li",13),U()()()}if(2&n){const t=Vt();Fe(12),ut("title",t.chart.title)("type",t.chart.type)("data",bM(15,aZ,py(11,sZ,t.sur),py(13,oZ,t.not_sur)))("columns",t.chart.columnsNames)("options",t.chart.options),Fe(1),ut("title",t.chart2.title)("type",t.chart2.type)("data",DM(21,dZ,vh(18,lZ),vh(19,uZ),vh(20,cZ)))("columns",t.chart2.columnsNames)("options",t.chart2.options),Fe(3),ut("ngForOf",t.passengers)}}let fZ=(()=>{class n{constructor(t,r){this.router=t,this.renderer=r,this.chart={title:"% des survivants et non survivants",type:Be.PieChart,columnsNames:["Survived","Not survived"],options:{colors:["#e0440e","#e6693e","#ec8f6e"],is3D:!0}},this.chart2={title:"% des survivant par classe",type:Be.PieChart,columnsNames:["Classe","Quantit\xe9"],options:{colors:["#e0440e","#e6693e","#ec8f6e"],is3D:!0,pieStartAngle:45}},this.passengers=[],this.sur=1,this.not_sur=2,this.p_open={id:"",val:!1},console.log("result: this.passengers: ",this.passengers),console.log("constructor result not s:",Nl),setInterval(this.progress,10)}ngOnInit(){this.passengers=[],this.passengers=xn,console.log("Pushing to passengers : (docsGetted)",xn),this.loading(),this.sur=pd.length,this.not_sur=Nl.length,console.log("survivant apres init ",this.sur),console.log("non survivant apres init",this.not_sur),console.log("non survivant apres init",pd.length),console.log("non survivant apres init",Nl.length),setTimeout(this.loading,3e3)}p_view(t){if(console.log("Id selectionn\xe9e: ",t),console.log("Id enregistr\xe9e:",this.p_open.id,"Val enregistr\xe9e: ",this.p_open.val),this.p_open.id!==t&&!0===this.p_open.val)return this.p_open.id=t,void(this.p_open.val=!0);if(this.p_open.id!=t||!0!==this.p_open.val){if(this.p_open.id!=t||!1!==this.p_open.val)return this.p_open.id!==t&&!1===this.p_open.val?(this.p_open.id=t,void(this.p_open.val=!0)):void 0;this.p_open.val=!0}else this.p_open.val=!1}loading(){setTimeout(()=>{this.sur=pd.length,console.log(this.sur),this.not_sur=Nl.length,console.log(this.not_sur)},900)}surviveColor(){for(let t=0;t<this.passengers.length;t++)if(0==this.passengers[t].Survived){let r=document.getElementById("div"+this.passengers[t].id);r&&(r.style.backgroundColor="red")}}backAnalyze(){location.reload(),console.log("Going back to analyze !")}progress(){let t=document.getElementById("test");t&&(t.style.width=xn.length+"%")}}return n.\u0275fac=function(t){return new(t||n)(D(cn),D(ci))},n.\u0275cmp=vn({type:n,selectors:[["app-result"]],decls:3,vars:1,consts:[["rel","stylesheet","href","/angular-chart.js/dist/angular-chart.css"],["class","row align-items-start zindex-dropdown",4,"ngIf"],[1,"row","align-items-start","zindex-dropdown"],[1,"progress"],["id","test","role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],["test",""],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[3,"title","type","data","columns","options"],[1,"container-md","col"],[1,"list-group","list-group-numbered"],["class","list-group-item d-flex justify-content-between align-items-start",3,"id",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-start",3,"id"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"badge","bg-primary","rounded-pill"],[1,"badge","bg-secondary","rounded-pill"],[1,"badge","bg-secondary","rounded-pill",3,"click"],[3,"id",4,"ngIf"],[3,"id"]],template:function(t,r){1&t&&(H(0,"head"),Vn(1,"link",0),U(),ss(2,hZ,17,25,"div",1)),2&t&&(Fe(2),ut("ngIf",r.passengers.length>1))},directives:[Uh,zH,VT],styles:[""]}),n})();function pZ(n,e){1&n&&(H(0,"div"),Vn(1,"app-user"),U())}const mZ=[{path:"",component:hK},{path:"",redirectTo:"home",pathMatch:"full"},{path:"private",component:(()=>{class n{constructor(){this.user={open:!1}}ngOnInit(){}userView(){this.user.open=!1===this.user.open}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=vn({type:n,selectors:[["app-home-private"]],decls:14,vars:1,consts:[[1,"navbar","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://static.wixstatic.com/media/72d15b_38ded64ea363455ab8c87c22a60ea8c6~mv2.png/v1/fit/w_1000%2Ch_562%2Cal_c/file.png","alt","","width","20%","height","auto",1,"d-inline-block","align-text-top"],[1,"btn","btn-warning",3,"click"],[4,"ngIf"]],template:function(t,r){1&t&&(H(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),Vn(4,"img",3),ve(5," Titanic Analyse "),U(),H(6,"div")(7,"button",4),Le("click",function(){return r.userView()}),ve(8,"Mon compte"),U()()()(),ss(9,pZ,2,0,"div",5),U(),H(10,"div"),Vn(11,"app-analyzes"),U(),H(12,"div"),Vn(13,"app-result"),U()),2&t&&(Fe(9),ut("ngIf",!0===r.user.open))},directives:[Uh,yK,nZ,fZ],styles:[""]}),n})(),canActivate:[mK]},{path:"admin/dashboard",component:fK,canActivate:[gK]}];let gZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[[w2.forRoot(mZ)],w2]}),n})(),yZ=(()=>{class n{constructor(t,r){this.fS=t,this.dS=r,this.title="app-titanic",this.clicked=!1,this.DB_update={pushed:[{}],not_pushed:[{}],error:""}}callPushData(){this.fS.pushDataToFB()}}return n.\u0275fac=function(t){return new(t||n)(D(m3),D(h3))},n.\u0275cmp=vn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Vn(0,"router-outlet")},directives:[r0],styles:[""]}),n})();class g3{}class y3{}class Wi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vZ{encodeKey(e){return v3(e)}encodeValue(e){return v3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const CZ=/%(\d[a-f0-9])/gi,wZ={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function v3(n){return encodeURIComponent(n).replace(CZ,(e,t)=>{var r;return null!==(r=wZ[t])&&void 0!==r?r:e})}function _3(n){return`${n}`}class Ps{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _Z(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ps({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_3(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(_3(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class EZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function C3(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function w3(n){return"undefined"!=typeof Blob&&n instanceof Blob}function E3(n){return"undefined"!=typeof FormData&&n instanceof FormData}class md{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new EZ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ps,this.urlWithParams=t}serializeBody(){return null===this.body?null:C3(this.body)||w3(this.body)||E3(this.body)||function DZ(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ps?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||E3(this.body)?null:w3(this.body)?this.body.type||null:C3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ps?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new md(r,i,o,{params:c,headers:u,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Ot=(()=>((Ot=Ot||{})[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot))();class wE{constructor(e,t=200,r="OK"){this.headers=e.headers||new Wi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EE extends wE{constructor(e={}){super(e),this.type=Ot.ResponseHeader}clone(e={}){return new EE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nm extends wE{constructor(e={}){super(e),this.type=Ot.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b3 extends wE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let SZ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof md)s=t;else{let l,u;l=i.headers instanceof Wi?i.headers:new Wi(i.headers),i.params&&(u=i.params instanceof Ps?i.params:new Ps({fromObject:i.params})),s=new md(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ce(s).pipe($a(l=>this.handler.handle(l)));if(t instanceof md||"events"===i.observe)return o;const a=o.pipe(no(l=>l instanceof nm));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(K(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(K(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(K(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(K(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ps).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bE(i,r))}post(t,r,i={}){return this.request("POST",t,bE(i,r))}put(t,r,i={}){return this.request("PUT",t,bE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(F(g3))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class D3{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const S3=new de("HTTP_INTERCEPTORS");let IZ=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const MZ=/^\)\]\}',?\n/;let I3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ne(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Wi(i.getAllResponseHeaders()),m=function TZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new EE({headers:p,status:i.status,statusText:f,url:m}),o},l=()=>{let{headers:f,status:p,statusText:m,url:v}=a(),b=null;204!==p&&(b=void 0===i.response?i.responseText:i.response),0===p&&(p=b?200:0);let _=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const T=b;b=b.replace(MZ,"");try{b=""!==b?JSON.parse(b):null}catch(V){b=T,_&&(_=!1,b={error:V,text:b})}}_?(r.next(new nm({body:b,headers:f,status:p,statusText:m,url:v||void 0})),r.complete()):r.error(new b3({error:b,headers:f,status:p,statusText:m,url:v||void 0}))},u=f=>{const{url:p}=a(),m=new b3({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:Ot.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Ot.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Ot.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(F(zT))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const DE=new de("XSRF_COOKIE_NAME"),SE=new de("XSRF_HEADER_NAME");class M3{}let AZ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=LT(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(F(ur),F(ky),F(DE))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),IE=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(F(M3),F(SE))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),xZ=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(S3,[]);this.chain=r.reduceRight((i,s)=>new D3(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(F(y3),F(Ln))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),kZ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:IE,useClass:IZ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:DE,useValue:t.cookieName}:[],t.headerName?{provide:SE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({providers:[IE,{provide:S3,useExisting:IE,multi:!0},{provide:M3,useClass:AZ},{provide:DE,useValue:"XSRF-TOKEN"},{provide:SE,useValue:"X-XSRF-TOKEN"}]}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({providers:[SZ,{provide:g3,useClass:xZ},I3,{provide:y3,useExisting:I3}],imports:[[kZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n}),n.\u0275inj=ln({imports:[[ov,Fu,ux,yx,NZ],Fu]}),n})(),OZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_n({type:n,bootstrap:[yZ]}),n.\u0275inj=ln({providers:[],imports:[[hj,gZ,Fu,RZ,qH]]}),n})();(function Y6(){fT=!1})(),cj().bootstrapModule(OZ).catch(n=>console.error(n))},28:function(kn,rn){var zt,Fs;zt=function Go(){"use strict";var Ye="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Ye?Ye:{},bt=!Ye.document&&!!Ye.postMessage,$o=bt&&/blob:/i.test((Ye.location||{}).protocol),Ls={},yd=0,J={parse:function(C,y){var A=(y=y||{}).dynamicTyping||!1;if(Ue(A)&&(y.dynamicTypingFunction=A,A={}),y.dynamicTyping=A,y.transform=!!Ue(y.transform)&&y.transform,y.worker&&J.WORKERS_SUPPORTED){var j=function(){if(!J.WORKERS_SUPPORTED)return!1;var Dt,ne,Z=(Dt=Ye.URL||Ye.webkitURL||null,ne=Go.toString(),J.BLOB_URL||(J.BLOB_URL=Dt.createObjectURL(new Blob(["(",ne,")();"],{type:"text/javascript"})))),Ie=new Ye.Worker(Z);return Ie.onmessage=rm,Ie.id=yd++,Ls[Ie.id]=Ie}();return j.userStep=y.step,j.userChunk=y.chunk,j.userComplete=y.complete,j.userError=y.error,y.step=Ue(y.step),y.chunk=Ue(y.chunk),y.complete=Ue(y.complete),y.error=Ue(y.error),delete y.worker,void j.postMessage({input:C,config:y,workerId:j.id})}var G=null;return"string"==typeof C?G=y.download?new Vs(y):new Bs(y):!0===C.readable&&Ue(C.read)&&Ue(C.on)?G=new qo(y):(Ye.File&&C instanceof File||C instanceof Object)&&(G=new zo(y)),G.stream(C)},unparse:function(C,y){var A=!1,j=!0,G=",",Z="\r\n",Ie='"',Dt=Ie+Ie,ne=!1,$=null,lt=!1;!function(){if("object"==typeof y){if("string"!=typeof y.delimiter||J.BAD_DELIMITERS.filter(function(B){return-1!==y.delimiter.indexOf(B)}).length||(G=y.delimiter),("boolean"==typeof y.quotes||"function"==typeof y.quotes||Array.isArray(y.quotes))&&(A=y.quotes),"boolean"!=typeof y.skipEmptyLines&&"string"!=typeof y.skipEmptyLines||(ne=y.skipEmptyLines),"string"==typeof y.newline&&(Z=y.newline),"string"==typeof y.quoteChar&&(Ie=y.quoteChar),"boolean"==typeof y.header&&(j=y.header),Array.isArray(y.columns)){if(0===y.columns.length)throw new Error("Option columns is empty");$=y.columns}void 0!==y.escapeChar&&(Dt=y.escapeChar+Ie),("boolean"==typeof y.escapeFormulae||y.escapeFormulae instanceof RegExp)&&(lt=y.escapeFormulae instanceof RegExp?y.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var re=new RegExp(er(Ie),"g");if("string"==typeof C&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return mr(null,C,ne);if("object"==typeof C[0])return mr($||Object.keys(C[0]),C,ne)}else if("object"==typeof C)return"string"==typeof C.data&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||$),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:"object"==typeof C.data[0]?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||"object"==typeof C.data[0]||(C.data=[C.data])),mr(C.fields||[],C.data||[],ne);throw new Error("Unable to serialize unrecognized input");function mr(B,We,Me){var he="";"string"==typeof B&&(B=JSON.parse(B)),"string"==typeof We&&(We=JSON.parse(We));var Pt=Array.isArray(B)&&0<B.length,K=!Array.isArray(We[0]);if(Pt&&j){for(var ft=0;ft<B.length;ft++)0<ft&&(he+=G),he+=je(B[ft],ft);0<We.length&&(he+=Z)}for(var q=0;q<We.length;q++){var Pe=Pt?B.length:We[q].length,$e=!1,pt=Pt?0===Object.keys(We[q]).length:0===We[q].length;if(Me&&!Pt&&($e="greedy"===Me?""===We[q].join("").trim():1===We[q].length&&0===We[q][0].length),"greedy"===Me&&Pt){for(var Ce=[],Ve=0;Ve<Pe;Ve++)Ce.push(We[q][K?B[Ve]:Ve]);$e=""===Ce.join("").trim()}if(!$e){for(var oe=0;oe<Pe;oe++)0<oe&&!pt&&(he+=G),he+=je(We[q][Pt&&K?B[oe]:oe],oe);q<We.length-1&&(!Me||0<Pe&&!pt)&&(he+=Z)}}return he}function je(B,We){if(null==B)return"";if(B.constructor===Date)return JSON.stringify(B).slice(1,25);var Me=!1;lt&&"string"==typeof B&&lt.test(B)&&(B="'"+B,Me=!0);var he=B.toString().replace(re,Dt);return(Me=Me||!0===A||"function"==typeof A&&A(B,We)||Array.isArray(A)&&A[We]||function(Pt,K){for(var ft=0;ft<K.length;ft++)if(-1<Pt.indexOf(K[ft]))return!0;return!1}(he,J.BAD_DELIMITERS)||-1<he.indexOf(G)||" "===he.charAt(0)||" "===he.charAt(he.length-1))?Ie+he+Ie:he}}};if(J.RECORD_SEP=String.fromCharCode(30),J.UNIT_SEP=String.fromCharCode(31),J.BYTE_ORDER_MARK="\ufeff",J.BAD_DELIMITERS=["\r","\n",'"',J.BYTE_ORDER_MARK],J.WORKERS_SUPPORTED=!bt&&!!Ye.Worker,J.NODE_STREAM_INPUT=1,J.LocalChunkSize=10485760,J.RemoteChunkSize=5242880,J.DefaultDelimiter=",",J.Parser=Ki,J.ParserHandle=Wo,J.NetworkStreamer=Vs,J.FileStreamer=zo,J.StringStreamer=Bs,J.ReadableStreamStreamer=qo,Ye.jQuery){var Jr=Ye.jQuery;Jr.fn.parse=function(C){var y=C.config||{},A=[];return this.each(function(Z){if("INPUT"!==Jr(this).prop("tagName").toUpperCase()||"file"!==Jr(this).attr("type").toLowerCase()||!Ye.FileReader||!this.files||0===this.files.length)return!0;for(var Ie=0;Ie<this.files.length;Ie++)A.push({file:this.files[Ie],inputElem:this,instanceConfig:Jr.extend({},y)})}),j(),this;function j(){if(0!==A.length){var Ie,Dt,ne,$=A[0];if(Ue(C.before)){var lt=C.before($.file,$.inputElem);if("object"==typeof lt){if("abort"===lt.action)return"AbortError",Ie=$.file,Dt=$.inputElem,ne=lt.reason,void(Ue(C.error)&&C.error({name:"AbortError"},Ie,Dt,ne));if("skip"===lt.action)return void G();"object"==typeof lt.config&&($.instanceConfig=Jr.extend($.instanceConfig,lt.config))}else if("skip"===lt)return void G()}var re=$.instanceConfig.complete;$.instanceConfig.complete=function(mr){Ue(re)&&re(mr,$.file,$.inputElem),G()},J.parse($.file,$.instanceConfig)}else Ue(C.complete)&&C.complete()}function G(){A.splice(0,1),j()}}}function pr(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(y){var A=Us(y);A.chunkSize=parseInt(A.chunkSize),y.step||y.chunk||(A.chunkSize=null),this._handle=new Wo(A),(this._handle.streamer=this)._config=A}.call(this,C),this.parseChunk=function(y,A){if(this.isFirstChunk&&Ue(this._config.beforeFirstChunk)){var j=this._config.beforeFirstChunk(y);void 0!==j&&(y=j)}this.isFirstChunk=!1,this._halted=!1;var G=this._partialLine+y;this._partialLine="";var Z=this._handle.parse(G,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ie=Z.meta.cursor;this._finished||(this._partialLine=G.substring(Ie-this._baseIndex),this._baseIndex=Ie),Z&&Z.data&&(this._rowCount+=Z.data.length);var Dt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if($o)Ye.postMessage({results:Z,workerId:J.WORKER_ID,finished:Dt});else if(Ue(this._config.chunk)&&!A){if(this._config.chunk(Z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Z=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Z.data),this._completeResults.errors=this._completeResults.errors.concat(Z.errors),this._completeResults.meta=Z.meta),this._completed||!Dt||!Ue(this._config.complete)||Z&&Z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Dt||Z&&Z.meta.paused||this._nextChunk(),Z}this._halted=!0},this._sendError=function(y){Ue(this._config.error)?this._config.error(y):$o&&this._config.error&&Ye.postMessage({workerId:J.WORKER_ID,error:y,finished:!1})}}function Vs(C){var y;(C=C||{}).chunkSize||(C.chunkSize=J.RemoteChunkSize),pr.call(this,C),this._nextChunk=bt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),bt||(y.onload=Qr(this._chunkLoaded,this),y.onerror=Qr(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!bt),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var j in A)y.setRequestHeader(j,A[j])}this._config.chunkSize&&y.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{y.send(this._config.downloadRequestBody)}catch(Z){this._chunkError(Z.message)}bt&&0===y.status&&this._chunkError()}},this._chunkLoaded=function(){var j;4===y.readyState&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(j=y.getResponseHeader("Content-Range"))?-1:parseInt(j.substring(j.lastIndexOf("/")+1))),this.parseChunk(y.responseText)))},this._chunkError=function(A){this._sendError(new Error(y.statusText||A))}}function zo(C){var y,A;(C=C||{}).chunkSize||(C.chunkSize=J.LocalChunkSize),pr.call(this,C);var j="undefined"!=typeof FileReader;this.stream=function(G){this._input=G,A=G.slice||G.webkitSlice||G.mozSlice,j?((y=new FileReader).onload=Qr(this._chunkLoaded,this),y.onerror=Qr(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var G=this._input;if(this._config.chunkSize){var Z=Math.min(this._start+this._config.chunkSize,this._input.size);G=A.call(G,this._start,Z)}var Ie=y.readAsText(G,this._config.encoding);j||this._chunkLoaded({target:{result:Ie}})},this._chunkLoaded=function(G){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(G.target.result)},this._chunkError=function(){this._sendError(y.error)}}function Bs(C){var y;pr.call(this,C=C||{}),this.stream=function(A){return y=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,j=this._config.chunkSize;return j?(A=y.substring(0,j),y=y.substring(j)):(A=y,y=""),this._finished=!y,this.parseChunk(A)}}}function qo(C){pr.call(this,C=C||{});var y=[],A=!0,j=!1;this.pause=function(){pr.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){pr.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(G){this._input=G,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&1===y.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):A=!0},this._streamData=Qr(function(G){try{y.push("string"==typeof G?G:G.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(Z){this._streamError(Z)}},this),this._streamError=Qr(function(G){this._streamCleanUp(),this._sendError(G)},this),this._streamEnd=Qr(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=Qr(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Wo(C){var y,A,j,G=Math.pow(2,53),Z=-G,Ie=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Dt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ne=this,$=0,lt=0,re=!1,mr=!1,je=[],B={data:[],errors:[],meta:{}};if(Ue(C.step)){var We=C.step;C.step=function(q){if(B=q,Pt())he();else{if(he(),0===B.data.length)return;$+=q.data.length,C.preview&&$>C.preview?A.abort():(B.data=B.data[0],We(B,ne))}}}function Me(q){return"greedy"===C.skipEmptyLines?""===q.join("").trim():1===q.length&&0===q[0].length}function he(){return B&&j&&(ft("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+J.DefaultDelimiter+"'"),j=!1),C.skipEmptyLines&&(B.data=B.data.filter(function(q){return!Me(q)})),Pt()&&function(){if(B)if(Array.isArray(B.data[0])){for(var Pe=0;Pt()&&Pe<B.data.length;Pe++)B.data[Pe].forEach(q);B.data.splice(0,1)}else B.data.forEach(q);function q($e,pt){Ue(C.transformHeader)&&($e=C.transformHeader($e,pt)),je.push($e)}}(),function(){if(!B||!C.header&&!C.dynamicTyping&&!C.transform)return B;function q($e,pt){var Ce,Ve=C.header?{}:[];for(Ce=0;Ce<$e.length;Ce++){var rt=Ce,oe=$e[Ce];C.header&&(rt=Ce>=je.length?"__parsed_extra":je[Ce]),C.transform&&(oe=C.transform(oe,rt)),oe=K(rt,oe),"__parsed_extra"===rt?(Ve[rt]=Ve[rt]||[],Ve[rt].push(oe)):Ve[rt]=oe}return C.header&&(Ce>je.length?ft("FieldMismatch","TooManyFields","Too many fields: expected "+je.length+" fields but parsed "+Ce,lt+pt):Ce<je.length&&ft("FieldMismatch","TooFewFields","Too few fields: expected "+je.length+" fields but parsed "+Ce,lt+pt)),Ve}var Pe=1;return!B.data.length||Array.isArray(B.data[0])?(B.data=B.data.map(q),Pe=B.data.length):B.data=q(B.data,0),C.header&&B.meta&&(B.meta.fields=je),lt+=Pe,B}()}function Pt(){return C.header&&0===je.length}function K(q,Pe){return $e=q,C.dynamicTypingFunction&&void 0===C.dynamicTyping[$e]&&(C.dynamicTyping[$e]=C.dynamicTypingFunction($e)),!0===(C.dynamicTyping[$e]||C.dynamicTyping)?"true"===Pe||"TRUE"===Pe||"false"!==Pe&&"FALSE"!==Pe&&(function(pt){if(Ie.test(pt)){var Ce=parseFloat(pt);if(Z<Ce&&Ce<G)return!0}return!1}(Pe)?parseFloat(Pe):Dt.test(Pe)?new Date(Pe):""===Pe?null:Pe):Pe;var $e}function ft(q,Pe,$e,pt){var Ce={type:q,code:Pe,message:$e};void 0!==pt&&(Ce.row=pt),B.errors.push(Ce)}this.parse=function(q,Pe,$e){if(C.newline||(C.newline=function(rt,oe){rt=rt.substring(0,1048576);var xr=new RegExp(er(oe)+"([^]*?)"+er(oe),"gm"),gr=(rt=rt.replace(xr,"")).split("\r"),Nn=rt.split("\n");if(1===gr.length||1<Nn.length&&Nn[0].length<gr[0].length)return"\n";for(var kr=0,tr=0;tr<gr.length;tr++)"\n"===gr[tr][0]&&kr++;return kr>=gr.length/2?"\r\n":"\r"}(q,C.quoteChar||'"')),j=!1,C.delimiter)Ue(C.delimiter)&&(C.delimiter=C.delimiter(q),B.meta.delimiter=C.delimiter);else{var Ce=function(rt,oe,xr,gr,Nn){var Yr,kr,tr,sn;Nn=Nn||[",","\t","|",";",J.RECORD_SEP,J.UNIT_SEP];for(var yn=0;yn<Nn.length;yn++){var on=Nn[yn],js=0,Nr=0,im=0;tr=void 0;for(var Hs=new Ki({comments:gr,delimiter:on,newline:oe,preview:10}).parse(rt),Rl=0;Rl<Hs.data.length;Rl++)if(xr&&Me(Hs.data[Rl]))im++;else{var Jo=Hs.data[Rl].length;Nr+=Jo,void 0!==tr?0<Jo&&(js+=Math.abs(Jo-tr),tr=Jo):tr=Jo}0<Hs.data.length&&(Nr/=Hs.data.length-im),(void 0===kr||js<=kr)&&(void 0===sn||sn<Nr)&&1.99<Nr&&(kr=js,Yr=on,sn=Nr)}return{successful:!!(C.delimiter=Yr),bestDelimiter:Yr}}(q,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);Ce.successful?C.delimiter=Ce.bestDelimiter:(j=!0,C.delimiter=J.DefaultDelimiter),B.meta.delimiter=C.delimiter}var Ve=Us(C);return C.preview&&C.header&&Ve.preview++,y=q,A=new Ki(Ve),B=A.parse(y,Pe,$e),he(),re?{meta:{paused:!0}}:B||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,A.abort(),y=Ue(C.chunk)?"":y.substring(A.getCharIndex())},this.resume=function(){ne.streamer._halted?(re=!1,ne.streamer.parseChunk(y,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return mr},this.abort=function(){mr=!0,A.abort(),B.meta.aborted=!0,Ue(C.complete)&&C.complete(B),y=""}}function er(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ki(C){var y,A=(C=C||{}).delimiter,j=C.newline,G=C.comments,Z=C.step,Ie=C.preview,Dt=C.fastMode,ne=y=null==C.quoteChar?'"':C.quoteChar;if(void 0!==C.escapeChar&&(ne=C.escapeChar),("string"!=typeof A||-1<J.BAD_DELIMITERS.indexOf(A))&&(A=","),G===A)throw new Error("Comment character same as delimiter");!0===G?G="#":("string"!=typeof G||-1<J.BAD_DELIMITERS.indexOf(G))&&(G=!1),"\n"!==j&&"\r"!==j&&"\r\n"!==j&&(j="\n");var $=0,lt=!1;this.parse=function(re,mr,je){if("string"!=typeof re)throw new Error("Input must be a string");var B=re.length,We=A.length,Me=j.length,he=G.length,Pt=Ue(Z),K=[],ft=[],q=[],Pe=$=0;if(!re)return sn();if(Dt||!1!==Dt&&-1===re.indexOf(y)){for(var $e=re.split(j),pt=0;pt<$e.length;pt++){if($+=(q=$e[pt]).length,pt!==$e.length-1)$+=j.length;else if(je)return sn();if(!G||q.substring(0,he)!==G){if(Pt){if(K=[],Nn(q.split(A)),yn(),lt)return sn()}else Nn(q.split(A));if(Ie&&Ie<=pt)return K=K.slice(0,Ie),sn(!0)}}return sn()}for(var Ce=re.indexOf(A,$),Ve=re.indexOf(j,$),rt=new RegExp(er(ne)+er(y),"g"),oe=re.indexOf(y,$);;)if(re[$]!==y)if(G&&0===q.length&&re.substring($,$+he)===G){if(-1===Ve)return sn();Ve=re.indexOf(j,$=Ve+Me),Ce=re.indexOf(A,$)}else if(-1!==Ce&&(Ce<Ve||-1===Ve))q.push(re.substring($,Ce)),Ce=re.indexOf(A,$=Ce+We);else{if(-1===Ve)break;if(q.push(re.substring($,Ve)),tr(Ve+Me),Pt&&(yn(),lt))return sn();if(Ie&&K.length>=Ie)return sn(!0)}else for(oe=$,$++;;){if(-1===(oe=re.indexOf(y,oe+1)))return je||ft.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:$}),kr();if(oe===B-1)return kr(re.substring($,oe).replace(rt,y));if(y!==ne||re[oe+1]!==ne){if(y===ne||0===oe||re[oe-1]!==ne){-1!==Ce&&Ce<oe+1&&(Ce=re.indexOf(A,oe+1)),-1!==Ve&&Ve<oe+1&&(Ve=re.indexOf(j,oe+1));var xr=Yr(-1===Ve?Ce:Math.min(Ce,Ve));if(re.substr(oe+1+xr,We)===A){q.push(re.substring($,oe).replace(rt,y)),re[$=oe+1+xr+We]!==y&&(oe=re.indexOf(y,$)),Ce=re.indexOf(A,$),Ve=re.indexOf(j,$);break}var gr=Yr(Ve);if(re.substring(oe+1+gr,oe+1+gr+Me)===j){if(q.push(re.substring($,oe).replace(rt,y)),tr(oe+1+gr+Me),Ce=re.indexOf(A,$),oe=re.indexOf(y,$),Pt&&(yn(),lt))return sn();if(Ie&&K.length>=Ie)return sn(!0);break}ft.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:$}),oe++}}else oe++}return kr();function Nn(on){K.push(on),Pe=$}function Yr(on){var js=0;if(-1!==on){var Nr=re.substring(oe+1,on);Nr&&""===Nr.trim()&&(js=Nr.length)}return js}function kr(on){return je||(void 0===on&&(on=re.substring($)),q.push(on),$=B,Nn(q),Pt&&yn()),sn()}function tr(on){$=on,Nn(q),q=[],Ve=re.indexOf(j,$)}function sn(on){return{data:K,errors:ft,meta:{delimiter:A,linebreak:j,aborted:lt,truncated:!!on,cursor:Pe+(mr||0)}}}function yn(){Z(sn()),K=[],ft=[]}},this.abort=function(){lt=!0},this.getCharIndex=function(){return $}}function rm(C){var y=C.data,A=Ls[y.workerId],j=!1;if(y.error)A.userError(y.error,y.file);else if(y.results&&y.results.data){var G={abort:function(){j=!0,Ko(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:vd,resume:vd};if(Ue(A.userStep)){for(var Z=0;Z<y.results.data.length&&(A.userStep({data:y.results.data[Z],errors:y.results.errors,meta:y.results.meta},G),!j);Z++);delete y.results}else Ue(A.userChunk)&&(A.userChunk(y.results,G,y.file),delete y.results)}y.finished&&!j&&Ko(y.workerId,y.results)}function Ko(C,y){var A=Ls[C];Ue(A.userComplete)&&A.userComplete(y),A.terminate(),delete Ls[C]}function vd(){throw new Error("Not implemented.")}function Us(C){if("object"!=typeof C||null===C)return C;var y=Array.isArray(C)?[]:{};for(var A in C)y[A]=Us(C[A]);return y}function Qr(C,y){return function(){C.apply(y,arguments)}}function Ue(C){return"function"==typeof C}return $o&&(Ye.onmessage=function(C){var y=C.data;if(void 0===J.WORKER_ID&&y&&(J.WORKER_ID=y.workerId),"string"==typeof y.input)Ye.postMessage({workerId:J.WORKER_ID,results:J.parse(y.input,y.config),finished:!0});else if(Ye.File&&y.input instanceof File||y.input instanceof Object){var A=J.parse(y.input,y.config);A&&Ye.postMessage({workerId:J.WORKER_ID,results:A,finished:!0})}}),(Vs.prototype=Object.create(pr.prototype)).constructor=Vs,(zo.prototype=Object.create(pr.prototype)).constructor=zo,(Bs.prototype=Object.create(Bs.prototype)).constructor=Bs,(qo.prototype=Object.create(pr.prototype)).constructor=qo,J},void 0!==(Fs=zt.apply(rn,[]))&&(kn.exports=Fs)}},kn=>{kn(kn.s=615)}]);